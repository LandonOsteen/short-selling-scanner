/*! For license information please see main.e8194e60.js.LICENSE.txt */
(()=>{"use strict";var e={4:(e,t,n)=>{var a=n(853),o=n(43),r=n(950);function l(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function s(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(s(e)!==e)throw Error(l(188))}function d(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=d(e)))return t;e=e.sibling}return null}var f=Object.assign,m=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),h=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),k=Symbol.for("react.consumer"),S=Symbol.for("react.context"),w=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),E=Symbol.for("react.lazy");Symbol.for("react.scope");var N=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var P=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var D=Symbol.iterator;function A(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var F=Symbol.for("react.client.reference");function j(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===F?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case h:return"Fragment";case v:return"Profiler";case y:return"StrictMode";case x:return"Suspense";case T:return"SuspenseList";case N:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case g:return"Portal";case S:return(e.displayName||"Context")+".Provider";case k:return(e._context.displayName||"Context")+".Consumer";case w:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case C:return null!==(t=e.displayName||null)?t:j(e.type)||"Memo";case E:t=e._payload,e=e._init;try{return j(e(t))}catch(n){}}return null}var O=Array.isArray,L=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H={pending:!1,data:null,method:null,action:null},I=[],_=-1;function R(e){return{current:e}}function z(e){0>_||(e.current=I[_],I[_]=null,_--)}function U(e,t){_++,I[_]=e.current,e.current=t}var B=R(null),V=R(null),G=R(null),$=R(null);function W(e,t){switch(U(G,t),U(V,e),U(B,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?od(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=rd(t=od(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}z(B),U(B,e)}function K(){z(B),z(V),z(G)}function q(e){null!==e.memoizedState&&U($,e);var t=B.current,n=rd(t,e.type);t!==n&&(U(V,e),U(B,n))}function Q(e){V.current===e&&(z(B),z(V)),$.current===e&&(z($),qd._currentValue=H)}var Y=Object.prototype.hasOwnProperty,Z=a.unstable_scheduleCallback,X=a.unstable_cancelCallback,J=a.unstable_shouldYield,ee=a.unstable_requestPaint,te=a.unstable_now,ne=a.unstable_getCurrentPriorityLevel,ae=a.unstable_ImmediatePriority,oe=a.unstable_UserBlockingPriority,re=a.unstable_NormalPriority,le=a.unstable_LowPriority,ie=a.unstable_IdlePriority,se=a.log,ce=a.unstable_setDisableYieldValue,ue=null,de=null;function fe(e){if("function"===typeof se&&ce(e),de&&"function"===typeof de.setStrictMode)try{de.setStrictMode(ue,e)}catch(t){}}var me=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(pe(e)/ge|0)|0},pe=Math.log,ge=Math.LN2;var he=256,ye=4194304;function ve(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function be(e,t,n){var a=e.pendingLanes;if(0===a)return 0;var o=0,r=e.suspendedLanes,l=e.pingedLanes;e=e.warmLanes;var i=134217727&a;return 0!==i?0!==(a=i&~r)?o=ve(a):0!==(l&=i)?o=ve(l):n||0!==(n=i&~e)&&(o=ve(n)):0!==(i=a&~r)?o=ve(i):0!==l?o=ve(l):n||0!==(n=a&~e)&&(o=ve(n)),0===o?0:0!==t&&t!==o&&0===(t&r)&&((r=o&-o)>=(n=t&-t)||32===r&&0!==(4194048&n))?t:o}function ke(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Se(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function we(){var e=he;return 0===(4194048&(he<<=1))&&(he=256),e}function xe(){var e=ye;return 0===(62914560&(ye<<=1))&&(ye=4194304),e}function Te(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ce(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ee(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-me(t);e.entangledLanes|=t,e.entanglements[a]=1073741824|e.entanglements[a]|4194090&n}function Ne(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-me(n),o=1<<a;o&t|e[a]&t&&(e[a]|=t),n&=~o}}function Pe(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function De(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Ae(){var e=M.p;return 0!==e?e:void 0===(e=window.event)?32:uf(e.type)}var Fe=Math.random().toString(36).slice(2),je="__reactFiber$"+Fe,Oe="__reactProps$"+Fe,Le="__reactContainer$"+Fe,Me="__reactEvents$"+Fe,He="__reactListeners$"+Fe,Ie="__reactHandles$"+Fe,_e="__reactResources$"+Fe,Re="__reactMarker$"+Fe;function ze(e){delete e[je],delete e[Oe],delete e[Me],delete e[He],delete e[Ie]}function Ue(e){var t=e[je];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Le]||n[je]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=bd(e);null!==e;){if(n=e[je])return n;e=bd(e)}return t}n=(e=n).parentNode}return null}function Be(e){if(e=e[je]||e[Le]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function Ve(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(l(33))}function Ge(e){var t=e[_e];return t||(t=e[_e]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function $e(e){e[Re]=!0}var We=new Set,Ke={};function qe(e,t){Qe(e,t),Qe(e+"Capture",t)}function Qe(e,t){for(Ke[e]=t,e=0;e<t.length;e++)We.add(t[e])}var Ye,Ze,Xe=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Je={},et={};function tt(e,t,n){if(o=t,Y.call(et,o)||!Y.call(Je,o)&&(Xe.test(o)?et[o]=!0:(Je[o]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var a=t.toLowerCase().slice(0,5);if("data-"!==a&&"aria-"!==a)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var o}function nt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function at(e,t,n,a){if(null===a)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+a)}}function ot(e){if(void 0===Ye)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ye=t&&t[1]||"",Ze=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Ye+e+Ze}var rt=!1;function lt(e,t){if(!e||rt)return"";rt=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(o){var a=o}Reflect.construct(e,[],n)}else{try{n.call()}catch(r){a=r}e.call(n.prototype)}}else{try{throw Error()}catch(l){a=l}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(i){if(i&&a&&"string"===typeof i.stack)return[i.stack,a.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var r=a.DetermineComponentFrameRoot(),l=r[0],i=r[1];if(l&&i){var s=l.split("\n"),c=i.split("\n");for(o=a=0;a<s.length&&!s[a].includes("DetermineComponentFrameRoot");)a++;for(;o<c.length&&!c[o].includes("DetermineComponentFrameRoot");)o++;if(a===s.length||o===c.length)for(a=s.length-1,o=c.length-1;1<=a&&0<=o&&s[a]!==c[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==c[o]){if(1!==a||1!==o)do{if(a--,0>--o||s[a]!==c[o]){var u="\n"+s[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=a&&0<=o);break}}}finally{rt=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?ot(n):""}function it(e){switch(e.tag){case 26:case 27:case 5:return ot(e.type);case 16:return ot("Lazy");case 13:return ot("Suspense");case 19:return ot("SuspenseList");case 0:case 15:return lt(e.type,!1);case 11:return lt(e.type.render,!1);case 1:return lt(e.type,!0);case 31:return ot("Activity");default:return""}}function st(e){try{var t="";do{t+=it(e),e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ut(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function dt(e){e._valueTracker||(e._valueTracker=function(e){var t=ut(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var o=n.get,r=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){a=""+e,r.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(e){a=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ft(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=ut(e)?e.checked?"true":"false":e.value),(e=a)!==n&&(t.setValue(e),!0)}function mt(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var pt=/[\n"\\]/g;function gt(e){return e.replace(pt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function ht(e,t,n,a,o,r,l,i){e.name="",null!=l&&"function"!==typeof l&&"symbol"!==typeof l&&"boolean"!==typeof l?e.type=l:e.removeAttribute("type"),null!=t?"number"===l?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):"submit"!==l&&"reset"!==l||e.removeAttribute("value"),null!=t?vt(e,l,ct(t)):null!=n?vt(e,l,ct(n)):null!=a&&e.removeAttribute("value"),null==o&&null!=r&&(e.defaultChecked=!!r),null!=o&&(e.checked=o&&"function"!==typeof o&&"symbol"!==typeof o),null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i?e.name=""+ct(i):e.removeAttribute("name")}function yt(e,t,n,a,o,r,l,i){if(null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&"boolean"!==typeof r&&(e.type=r),null!=t||null!=n){if(!("submit"!==r&&"reset"!==r||void 0!==t&&null!==t))return;n=null!=n?""+ct(n):"",t=null!=t?""+ct(t):n,i||t===e.value||(e.value=t),e.defaultValue=t}a="function"!==typeof(a=null!=a?a:o)&&"symbol"!==typeof a&&!!a,e.checked=i?e.checked:!!a,e.defaultChecked=!!a,null!=l&&"function"!==typeof l&&"symbol"!==typeof l&&"boolean"!==typeof l&&(e.name=l)}function vt(e,t,n){"number"===t&&mt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function bt(e,t,n,a){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&a&&(e[n].defaultSelected=!0)}else{for(n=""+ct(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(a&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function kt(e,t,n){null==t||((t=""+ct(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ct(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function St(e,t,n,a){if(null==t){if(null!=a){if(null!=n)throw Error(l(92));if(O(a)){if(1<a.length)throw Error(l(93));a=a[0]}n=a}null==n&&(n=""),t=n}n=ct(t),e.defaultValue=n,(a=e.textContent)===n&&""!==a&&null!==a&&(e.value=a)}function wt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var xt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Tt(e,t,n){var a=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?a?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":a?e.setProperty(t,n):"number"!==typeof n||0===n||xt.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Ct(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(l(62));if(e=e.style,null!=n){for(var a in n)!n.hasOwnProperty(a)||null!=t&&t.hasOwnProperty(a)||(0===a.indexOf("--")?e.setProperty(a,""):"float"===a?e.cssFloat="":e[a]="");for(var o in t)a=t[o],t.hasOwnProperty(o)&&n[o]!==a&&Tt(e,o,a)}else for(var r in t)t.hasOwnProperty(r)&&Tt(e,r,t[r])}function Et(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Pt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Dt(e){return Pt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var At=null;function Ft(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var jt=null,Ot=null;function Lt(e){var t=Be(e);if(t&&(e=t.stateNode)){var n=e[Oe]||null;e:switch(e=t.stateNode,t.type){case"input":if(ht(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+gt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var o=a[Oe]||null;if(!o)throw Error(l(90));ht(a,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<n.length;t++)(a=n[t]).form===e.form&&ft(a)}break e;case"textarea":kt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&bt(e,!!n.multiple,t,!1)}}}var Mt=!1;function Ht(e,t,n){if(Mt)return e(t,n);Mt=!0;try{return e(t)}finally{if(Mt=!1,(null!==jt||null!==Ot)&&(Uc(),jt&&(t=jt,e=Ot,Ot=jt=null,Lt(t),e)))for(t=0;t<e.length;t++)Lt(e[t])}}function It(e,t){var n=e.stateNode;if(null===n)return null;var a=n[Oe]||null;if(null===a)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(a=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!a;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(l(231,t,typeof n));return n}var _t=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Rt=!1;if(_t)try{var zt={};Object.defineProperty(zt,"passive",{get:function(){Rt=!0}}),window.addEventListener("test",zt,zt),window.removeEventListener("test",zt,zt)}catch(Lf){Rt=!1}var Ut=null,Bt=null,Vt=null;function Gt(){if(Vt)return Vt;var e,t,n=Bt,a=n.length,o="value"in Ut?Ut.value:Ut.textContent,r=o.length;for(e=0;e<a&&n[e]===o[e];e++);var l=a-e;for(t=1;t<=l&&n[a-t]===o[r-t];t++);return Vt=o.slice(e,1<t?1-t:void 0)}function $t(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Wt(){return!0}function Kt(){return!1}function qt(e){function t(t,n,a,o,r){for(var l in this._reactName=t,this._targetInst=a,this.type=n,this.nativeEvent=o,this.target=r,this.currentTarget=null,e)e.hasOwnProperty(l)&&(t=e[l],this[l]=t?t(o):o[l]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?Wt:Kt,this.isPropagationStopped=Kt,this}return f(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Wt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Wt)},persist:function(){},isPersistent:Wt}),t}var Qt,Yt,Zt,Xt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jt=qt(Xt),en=f({},Xt,{view:0,detail:0}),tn=qt(en),nn=f({},en,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Zt&&(Zt&&"mousemove"===e.type?(Qt=e.screenX-Zt.screenX,Yt=e.screenY-Zt.screenY):Yt=Qt=0,Zt=e),Qt)},movementY:function(e){return"movementY"in e?e.movementY:Yt}}),an=qt(nn),on=qt(f({},nn,{dataTransfer:0})),rn=qt(f({},en,{relatedTarget:0})),ln=qt(f({},Xt,{animationName:0,elapsedTime:0,pseudoElement:0})),sn=qt(f({},Xt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),cn=qt(f({},Xt,{data:0})),un={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=fn[e])&&!!t[e]}function pn(){return mn}var gn=qt(f({},en,{key:function(e){if(e.key){var t=un[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=$t(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?dn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pn,charCode:function(e){return"keypress"===e.type?$t(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?$t(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),hn=qt(f({},nn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),yn=qt(f({},en,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pn})),vn=qt(f({},Xt,{propertyName:0,elapsedTime:0,pseudoElement:0})),bn=qt(f({},nn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),kn=qt(f({},Xt,{newState:0,oldState:0})),Sn=[9,13,27,32],wn=_t&&"CompositionEvent"in window,xn=null;_t&&"documentMode"in document&&(xn=document.documentMode);var Tn=_t&&"TextEvent"in window&&!xn,Cn=_t&&(!wn||xn&&8<xn&&11>=xn),En=String.fromCharCode(32),Nn=!1;function Pn(e,t){switch(e){case"keyup":return-1!==Sn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Dn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var An=!1;var Fn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Fn[e.type]:"textarea"===t}function On(e,t,n,a){jt?Ot?Ot.push(a):Ot=[a]:jt=a,0<(t=Gu(t,"onChange")).length&&(n=new Jt("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var Ln=null,Mn=null;function Hn(e){Hu(e,0)}function In(e){if(ft(Ve(e)))return e}function _n(e,t){if("change"===e)return t}var Rn=!1;if(_t){var zn;if(_t){var Un="oninput"in document;if(!Un){var Bn=document.createElement("div");Bn.setAttribute("oninput","return;"),Un="function"===typeof Bn.oninput}zn=Un}else zn=!1;Rn=zn&&(!document.documentMode||9<document.documentMode)}function Vn(){Ln&&(Ln.detachEvent("onpropertychange",Gn),Mn=Ln=null)}function Gn(e){if("value"===e.propertyName&&In(Mn)){var t=[];On(t,Mn,e,Ft(e)),Ht(Hn,t)}}function $n(e,t,n){"focusin"===e?(Vn(),Mn=n,(Ln=t).attachEvent("onpropertychange",Gn)):"focusout"===e&&Vn()}function Wn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return In(Mn)}function Kn(e,t){if("click"===e)return In(t)}function qn(e,t){if("input"===e||"change"===e)return In(t)}var Qn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Yn(e,t){if(Qn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var o=n[a];if(!Y.call(t,o)||!Qn(e[o],t[o]))return!1}return!0}function Zn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Xn(e,t){var n,a=Zn(e);for(e=0;a;){if(3===a.nodeType){if(n=e+a.textContent.length,e<=t&&n>=t)return{node:a,offset:t-e};e=n}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Zn(a)}}function Jn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Jn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function ea(e){for(var t=mt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(a){n=!1}if(!n)break;t=mt((e=t.contentWindow).document)}return t}function ta(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var na=_t&&"documentMode"in document&&11>=document.documentMode,aa=null,oa=null,ra=null,la=!1;function ia(e,t,n){var a=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;la||null==aa||aa!==mt(a)||("selectionStart"in(a=aa)&&ta(a)?a={start:a.selectionStart,end:a.selectionEnd}:a={anchorNode:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset},ra&&Yn(ra,a)||(ra=a,0<(a=Gu(oa,"onSelect")).length&&(t=new Jt("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=aa)))}function sa(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ca={animationend:sa("Animation","AnimationEnd"),animationiteration:sa("Animation","AnimationIteration"),animationstart:sa("Animation","AnimationStart"),transitionrun:sa("Transition","TransitionRun"),transitionstart:sa("Transition","TransitionStart"),transitioncancel:sa("Transition","TransitionCancel"),transitionend:sa("Transition","TransitionEnd")},ua={},da={};function fa(e){if(ua[e])return ua[e];if(!ca[e])return e;var t,n=ca[e];for(t in n)if(n.hasOwnProperty(t)&&t in da)return ua[e]=n[t];return e}_t&&(da=document.createElement("div").style,"AnimationEvent"in window||(delete ca.animationend.animation,delete ca.animationiteration.animation,delete ca.animationstart.animation),"TransitionEvent"in window||delete ca.transitionend.transition);var ma=fa("animationend"),pa=fa("animationiteration"),ga=fa("animationstart"),ha=fa("transitionrun"),ya=fa("transitionstart"),va=fa("transitioncancel"),ba=fa("transitionend"),ka=new Map,Sa="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wa(e,t){ka.set(e,t),qe(t,[e])}Sa.push("scrollEnd");var xa=new WeakMap;function Ta(e,t){if("object"===typeof e&&null!==e){var n=xa.get(e);return void 0!==n?n:(t={value:e,source:t,stack:st(t)},xa.set(e,t),t)}return{value:e,source:t,stack:st(t)}}var Ca=[],Ea=0,Na=0;function Pa(){for(var e=Ea,t=Na=Ea=0;t<e;){var n=Ca[t];Ca[t++]=null;var a=Ca[t];Ca[t++]=null;var o=Ca[t];Ca[t++]=null;var r=Ca[t];if(Ca[t++]=null,null!==a&&null!==o){var l=a.pending;null===l?o.next=o:(o.next=l.next,l.next=o),a.pending=o}0!==r&&ja(n,o,r)}}function Da(e,t,n,a){Ca[Ea++]=e,Ca[Ea++]=t,Ca[Ea++]=n,Ca[Ea++]=a,Na|=a,e.lanes|=a,null!==(e=e.alternate)&&(e.lanes|=a)}function Aa(e,t,n,a){return Da(e,t,n,a),Oa(e)}function Fa(e,t){return Da(e,null,null,t),Oa(e)}function ja(e,t,n){e.lanes|=n;var a=e.alternate;null!==a&&(a.lanes|=n);for(var o=!1,r=e.return;null!==r;)r.childLanes|=n,null!==(a=r.alternate)&&(a.childLanes|=n),22===r.tag&&(null===(e=r.stateNode)||1&e._visibility||(o=!0)),e=r,r=r.return;return 3===e.tag?(r=e.stateNode,o&&null!==t&&(o=31-me(n),null===(a=(e=r.hiddenUpdates)[o])?e[o]=[t]:a.push(t),t.lane=536870912|n),r):null}function Oa(e){if(50<jc)throw jc=0,Oc=null,Error(l(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var La={};function Ma(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ha(e,t,n,a){return new Ma(e,t,n,a)}function Ia(e){return!(!(e=e.prototype)||!e.isReactComponent)}function _a(e,t){var n=e.alternate;return null===n?((n=Ha(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Ra(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function za(e,t,n,a,o,r){var i=0;if(a=e,"function"===typeof e)Ia(e)&&(i=1);else if("string"===typeof e)i=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,B.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case N:return(e=Ha(31,n,t,o)).elementType=N,e.lanes=r,e;case h:return Ua(n.children,o,r,t);case y:i=8,o|=24;break;case v:return(e=Ha(12,n,t,2|o)).elementType=v,e.lanes=r,e;case x:return(e=Ha(13,n,t,o)).elementType=x,e.lanes=r,e;case T:return(e=Ha(19,n,t,o)).elementType=T,e.lanes=r,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case b:case S:i=10;break e;case k:i=9;break e;case w:i=11;break e;case C:i=14;break e;case E:i=16,a=null;break e}i=29,n=Error(l(130,null===e?"null":typeof e,"")),a=null}return(t=Ha(i,n,t,o)).elementType=e,t.type=a,t.lanes=r,t}function Ua(e,t,n,a){return(e=Ha(7,e,a,t)).lanes=n,e}function Ba(e,t,n){return(e=Ha(6,e,null,t)).lanes=n,e}function Va(e,t,n){return(t=Ha(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Ga=[],$a=0,Wa=null,Ka=0,qa=[],Qa=0,Ya=null,Za=1,Xa="";function Ja(e,t){Ga[$a++]=Ka,Ga[$a++]=Wa,Wa=e,Ka=t}function eo(e,t,n){qa[Qa++]=Za,qa[Qa++]=Xa,qa[Qa++]=Ya,Ya=e;var a=Za;e=Xa;var o=32-me(a)-1;a&=~(1<<o),n+=1;var r=32-me(t)+o;if(30<r){var l=o-o%5;r=(a&(1<<l)-1).toString(32),a>>=l,o-=l,Za=1<<32-me(t)+o|n<<o|a,Xa=r+e}else Za=1<<r|n<<o|a,Xa=e}function to(e){null!==e.return&&(Ja(e,1),eo(e,1,0))}function no(e){for(;e===Wa;)Wa=Ga[--$a],Ga[$a]=null,Ka=Ga[--$a],Ga[$a]=null;for(;e===Ya;)Ya=qa[--Qa],qa[Qa]=null,Xa=qa[--Qa],qa[Qa]=null,Za=qa[--Qa],qa[Qa]=null}var ao=null,oo=null,ro=!1,lo=null,io=!1,so=Error(l(519));function co(e){throw ho(Ta(Error(l(418,"")),e)),so}function uo(e){var t=e.stateNode,n=e.type,a=e.memoizedProps;switch(t[je]=e,t[Oe]=a,n){case"dialog":Iu("cancel",t),Iu("close",t);break;case"iframe":case"object":case"embed":Iu("load",t);break;case"video":case"audio":for(n=0;n<Lu.length;n++)Iu(Lu[n],t);break;case"source":Iu("error",t);break;case"img":case"image":case"link":Iu("error",t),Iu("load",t);break;case"details":Iu("toggle",t);break;case"input":Iu("invalid",t),yt(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0),dt(t);break;case"select":Iu("invalid",t);break;case"textarea":Iu("invalid",t),St(t,a.value,a.defaultValue,a.children),dt(t)}"string"!==typeof(n=a.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===a.suppressHydrationWarning||Yu(t.textContent,n)?(null!=a.popover&&(Iu("beforetoggle",t),Iu("toggle",t)),null!=a.onScroll&&Iu("scroll",t),null!=a.onScrollEnd&&Iu("scrollend",t),null!=a.onClick&&(t.onclick=Zu),t=!0):t=!1,t||co(e)}function fo(e){for(ao=e.return;ao;)switch(ao.tag){case 5:case 13:return void(io=!1);case 27:case 3:return void(io=!0);default:ao=ao.return}}function mo(e){if(e!==ao)return!1;if(!ro)return fo(e),ro=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||ld(e.type,e.memoizedProps)),t=!t),t&&oo&&co(e),fo(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(l(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){oo=yd(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}oo=null}}else 27===n?(n=oo,md(e.type)?(e=vd,vd=null,oo=e):oo=n):oo=ao?yd(e.stateNode.nextSibling):null;return!0}function po(){oo=ao=null,ro=!1}function go(){var e=lo;return null!==e&&(null===bc?bc=e:bc.push.apply(bc,e),lo=null),e}function ho(e){null===lo?lo=[e]:lo.push(e)}var yo=R(null),vo=null,bo=null;function ko(e,t,n){U(yo,t._currentValue),t._currentValue=n}function So(e){e._currentValue=yo.current,z(yo)}function wo(e,t,n){for(;null!==e;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==a&&(a.childLanes|=t)):null!==a&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function xo(e,t,n,a){var o=e.child;for(null!==o&&(o.return=e);null!==o;){var r=o.dependencies;if(null!==r){var i=o.child;r=r.firstContext;e:for(;null!==r;){var s=r;r=o;for(var c=0;c<t.length;c++)if(s.context===t[c]){r.lanes|=n,null!==(s=r.alternate)&&(s.lanes|=n),wo(r.return,n,e),a||(i=null);break e}r=s.next}}else if(18===o.tag){if(null===(i=o.return))throw Error(l(341));i.lanes|=n,null!==(r=i.alternate)&&(r.lanes|=n),wo(i,n,e),i=null}else i=o.child;if(null!==i)i.return=o;else for(i=o;null!==i;){if(i===e){i=null;break}if(null!==(o=i.sibling)){o.return=i.return,i=o;break}i=i.return}o=i}}function To(e,t,n,a){e=null;for(var o=t,r=!1;null!==o;){if(!r)if(0!==(524288&o.flags))r=!0;else if(0!==(262144&o.flags))break;if(10===o.tag){var i=o.alternate;if(null===i)throw Error(l(387));if(null!==(i=i.memoizedProps)){var s=o.type;Qn(o.pendingProps.value,i.value)||(null!==e?e.push(s):e=[s])}}else if(o===$.current){if(null===(i=o.alternate))throw Error(l(387));i.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(null!==e?e.push(qd):e=[qd])}o=o.return}null!==e&&xo(t,e,n,a),t.flags|=262144}function Co(e){for(e=e.firstContext;null!==e;){if(!Qn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Eo(e){vo=e,bo=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function No(e){return Do(vo,e)}function Po(e,t){return null===vo&&Eo(e),Do(e,t)}function Do(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===bo){if(null===e)throw Error(l(308));bo=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else bo=bo.next=t;return n}var Ao="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Fo=a.unstable_scheduleCallback,jo=a.unstable_NormalPriority,Oo={$$typeof:S,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Lo(){return{controller:new Ao,data:new Map,refCount:0}}function Mo(e){e.refCount--,0===e.refCount&&Fo(jo,function(){e.controller.abort()})}var Ho=null,Io=0,_o=0,Ro=null;function zo(){if(0===--Io&&null!==Ho){null!==Ro&&(Ro.status="fulfilled");var e=Ho;Ho=null,_o=0,Ro=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Uo=L.S;L.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Ho){var n=Ho=[];Io=0,_o=Du(),Ro={status:"pending",value:void 0,then:function(e){n.push(e)}}}Io++,t.then(zo,zo)}(0,t),null!==Uo&&Uo(e,t)};var Bo=R(null);function Vo(){var e=Bo.current;return null!==e?e:ac.pooledCache}function Go(e,t){U(Bo,null===t?Bo.current:t.pool)}function $o(){var e=Vo();return null===e?null:{parent:Oo._currentValue,pool:e}}var Wo=Error(l(460)),Ko=Error(l(474)),qo=Error(l(542)),Qo={then:function(){}};function Yo(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Zo(){}function Xo(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Zo,Zo),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw tr(e=t.reason),e;default:if("string"===typeof t.status)t.then(Zo,Zo);else{if(null!==(e=ac)&&100<e.shellSuspendCounter)throw Error(l(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw tr(e=t.reason),e}throw Jo=t,Wo}}var Jo=null;function er(){if(null===Jo)throw Error(l(459));var e=Jo;return Jo=null,e}function tr(e){if(e===Wo||e===qo)throw Error(l(483))}var nr=!1;function ar(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function or(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function rr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function lr(e,t,n){var a=e.updateQueue;if(null===a)return null;if(a=a.shared,0!==(2&nc)){var o=a.pending;return null===o?t.next=t:(t.next=o.next,o.next=t),a.pending=t,t=Oa(e),ja(e,null,n),t}return Da(e,a,t,n),Oa(e)}function ir(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var a=t.lanes;n|=a&=e.pendingLanes,t.lanes=n,Ne(e,n)}}function sr(e,t){var n=e.updateQueue,a=e.alternate;if(null!==a&&n===(a=a.updateQueue)){var o=null,r=null;if(null!==(n=n.firstBaseUpdate)){do{var l={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===r?o=r=l:r=r.next=l,n=n.next}while(null!==n);null===r?o=r=t:r=r.next=t}else o=r=t;return n={baseState:a.baseState,firstBaseUpdate:o,lastBaseUpdate:r,shared:a.shared,callbacks:a.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var cr=!1;function ur(){if(cr){if(null!==Ro)throw Ro}}function dr(e,t,n,a){cr=!1;var o=e.updateQueue;nr=!1;var r=o.firstBaseUpdate,l=o.lastBaseUpdate,i=o.shared.pending;if(null!==i){o.shared.pending=null;var s=i,c=s.next;s.next=null,null===l?r=c:l.next=c,l=s;var u=e.alternate;null!==u&&((i=(u=u.updateQueue).lastBaseUpdate)!==l&&(null===i?u.firstBaseUpdate=c:i.next=c,u.lastBaseUpdate=s))}if(null!==r){var d=o.baseState;for(l=0,u=c=s=null,i=r;;){var m=-536870913&i.lane,p=m!==i.lane;if(p?(rc&m)===m:(a&m)===m){0!==m&&m===_o&&(cr=!0),null!==u&&(u=u.next={lane:0,tag:i.tag,payload:i.payload,callback:null,next:null});e:{var g=e,h=i;m=t;var y=n;switch(h.tag){case 1:if("function"===typeof(g=h.payload)){d=g.call(y,d,m);break e}d=g;break e;case 3:g.flags=-65537&g.flags|128;case 0:if(null===(m="function"===typeof(g=h.payload)?g.call(y,d,m):g)||void 0===m)break e;d=f({},d,m);break e;case 2:nr=!0}}null!==(m=i.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=o.callbacks)?o.callbacks=[m]:p.push(m))}else p={lane:m,tag:i.tag,payload:i.payload,callback:i.callback,next:null},null===u?(c=u=p,s=d):u=u.next=p,l|=m;if(null===(i=i.next)){if(null===(i=o.shared.pending))break;i=(p=i).next,p.next=null,o.lastBaseUpdate=p,o.shared.pending=null}}null===u&&(s=d),o.baseState=s,o.firstBaseUpdate=c,o.lastBaseUpdate=u,null===r&&(o.shared.lanes=0),mc|=l,e.lanes=l,e.memoizedState=d}}function fr(e,t){if("function"!==typeof e)throw Error(l(191,e));e.call(t)}function mr(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)fr(n[e],t)}var pr=R(null),gr=R(0);function hr(e,t){U(gr,e=dc),U(pr,t),dc=e|t.baseLanes}function yr(){U(gr,dc),U(pr,pr.current)}function vr(){dc=gr.current,z(pr),z(gr)}var br=0,kr=null,Sr=null,wr=null,xr=!1,Tr=!1,Cr=!1,Er=0,Nr=0,Pr=null,Dr=0;function Ar(){throw Error(l(321))}function Fr(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Qn(e[n],t[n]))return!1;return!0}function jr(e,t,n,a,o,r){return br=r,kr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,L.H=null===e||null===e.memoizedState?Wl:Kl,Cr=!1,r=n(a,o),Cr=!1,Tr&&(r=Lr(t,n,a,o)),Or(e),r}function Or(e){L.H=$l;var t=null!==Sr&&null!==Sr.next;if(br=0,wr=Sr=kr=null,xr=!1,Nr=0,Pr=null,t)throw Error(l(300));null===e||Ni||null!==(e=e.dependencies)&&Co(e)&&(Ni=!0)}function Lr(e,t,n,a){kr=e;var o=0;do{if(Tr&&(Pr=null),Nr=0,Tr=!1,25<=o)throw Error(l(301));if(o+=1,wr=Sr=null,null!=e.updateQueue){var r=e.updateQueue;r.lastEffect=null,r.events=null,r.stores=null,null!=r.memoCache&&(r.memoCache.index=0)}L.H=ql,r=t(n,a)}while(Tr);return r}function Mr(){var e=L.H,t=e.useState()[0];return t="function"===typeof t.then?Ur(t):t,e=e.useState()[0],(null!==Sr?Sr.memoizedState:null)!==e&&(kr.flags|=1024),t}function Hr(){var e=0!==Er;return Er=0,e}function Ir(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function _r(e){if(xr){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}xr=!1}br=0,wr=Sr=kr=null,Tr=!1,Nr=Er=0,Pr=null}function Rr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===wr?kr.memoizedState=wr=e:wr=wr.next=e,wr}function zr(){if(null===Sr){var e=kr.alternate;e=null!==e?e.memoizedState:null}else e=Sr.next;var t=null===wr?kr.memoizedState:wr.next;if(null!==t)wr=t,Sr=e;else{if(null===e){if(null===kr.alternate)throw Error(l(467));throw Error(l(310))}e={memoizedState:(Sr=e).memoizedState,baseState:Sr.baseState,baseQueue:Sr.baseQueue,queue:Sr.queue,next:null},null===wr?kr.memoizedState=wr=e:wr=wr.next=e}return wr}function Ur(e){var t=Nr;return Nr+=1,null===Pr&&(Pr=[]),e=Xo(Pr,e,t),t=kr,null===(null===wr?t.memoizedState:wr.next)&&(t=t.alternate,L.H=null===t||null===t.memoizedState?Wl:Kl),e}function Br(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return Ur(e);if(e.$$typeof===S)return No(e)}throw Error(l(438,String(e)))}function Vr(e){var t=null,n=kr.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var a=kr.alternate;null!==a&&(null!==(a=a.updateQueue)&&(null!=(a=a.memoCache)&&(t={data:a.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},kr.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),a=0;a<e;a++)n[a]=P;return t.index++,n}function Gr(e,t){return"function"===typeof t?t(e):t}function $r(e){return Wr(zr(),Sr,e)}function Wr(e,t,n){var a=e.queue;if(null===a)throw Error(l(311));a.lastRenderedReducer=n;var o=e.baseQueue,r=a.pending;if(null!==r){if(null!==o){var i=o.next;o.next=r.next,r.next=i}t.baseQueue=o=r,a.pending=null}if(r=e.baseState,null===o)e.memoizedState=r;else{var s=i=null,c=null,u=t=o.next,d=!1;do{var f=-536870913&u.lane;if(f!==u.lane?(rc&f)===f:(br&f)===f){var m=u.revertLane;if(0===m)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===_o&&(d=!0);else{if((br&m)===m){u=u.next,m===_o&&(d=!0);continue}f={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(s=c=f,i=r):c=c.next=f,kr.lanes|=m,mc|=m}f=u.action,Cr&&n(r,f),r=u.hasEagerState?u.eagerState:n(r,f)}else m={lane:f,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(s=c=m,i=r):c=c.next=m,kr.lanes|=f,mc|=f;u=u.next}while(null!==u&&u!==t);if(null===c?i=r:c.next=s,!Qn(r,e.memoizedState)&&(Ni=!0,d&&null!==(n=Ro)))throw n;e.memoizedState=r,e.baseState=i,e.baseQueue=c,a.lastRenderedState=r}return null===o&&(a.lanes=0),[e.memoizedState,a.dispatch]}function Kr(e){var t=zr(),n=t.queue;if(null===n)throw Error(l(311));n.lastRenderedReducer=e;var a=n.dispatch,o=n.pending,r=t.memoizedState;if(null!==o){n.pending=null;var i=o=o.next;do{r=e(r,i.action),i=i.next}while(i!==o);Qn(r,t.memoizedState)||(Ni=!0),t.memoizedState=r,null===t.baseQueue&&(t.baseState=r),n.lastRenderedState=r}return[r,a]}function qr(e,t,n){var a=kr,o=zr(),r=ro;if(r){if(void 0===n)throw Error(l(407));n=n()}else n=t();var i=!Qn((Sr||o).memoizedState,n);if(i&&(o.memoizedState=n,Ni=!0),o=o.queue,yl(2048,8,Zr.bind(null,a,o,e),[e]),o.getSnapshot!==t||i||null!==wr&&1&wr.memoizedState.tag){if(a.flags|=2048,pl(9,{destroy:void 0,resource:void 0},Yr.bind(null,a,o,n,t),null),null===ac)throw Error(l(349));r||0!==(124&br)||Qr(a,t,n)}return n}function Qr(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=kr.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},kr.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Yr(e,t,n,a){t.value=n,t.getSnapshot=a,Xr(t)&&Jr(e)}function Zr(e,t,n){return n(function(){Xr(t)&&Jr(e)})}function Xr(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Qn(e,n)}catch(a){return!0}}function Jr(e){var t=Fa(e,2);null!==t&&Hc(t,e,2)}function el(e){var t=Rr();if("function"===typeof e){var n=e;if(e=n(),Cr){fe(!0);try{n()}finally{fe(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gr,lastRenderedState:e},t}function tl(e,t,n,a){return e.baseState=n,Wr(e,Sr,"function"===typeof a?a:Gr)}function nl(e,t,n,a,o){if(Bl(e))throw Error(l(485));if(null!==(e=t.action)){var r={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){r.listeners.push(e)}};null!==L.T?n(!0):r.isTransition=!1,a(r),null===(n=t.pending)?(r.next=t.pending=r,al(t,r)):(r.next=n.next,t.pending=n.next=r)}}function al(e,t){var n=t.action,a=t.payload,o=e.state;if(t.isTransition){var r=L.T,l={};L.T=l;try{var i=n(o,a),s=L.S;null!==s&&s(l,i),ol(e,t,i)}catch(c){ll(e,t,c)}finally{L.T=r}}else try{ol(e,t,r=n(o,a))}catch(u){ll(e,t,u)}}function ol(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){rl(e,t,n)},function(n){return ll(e,t,n)}):rl(e,t,n)}function rl(e,t,n){t.status="fulfilled",t.value=n,il(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,al(e,n)))}function ll(e,t,n){var a=e.pending;if(e.pending=null,null!==a){a=a.next;do{t.status="rejected",t.reason=n,il(t),t=t.next}while(t!==a)}e.action=null}function il(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function sl(e,t){return t}function cl(e,t){if(ro){var n=ac.formState;if(null!==n){e:{var a=kr;if(ro){if(oo){t:{for(var o=oo,r=io;8!==o.nodeType;){if(!r){o=null;break t}if(null===(o=yd(o.nextSibling))){o=null;break t}}o="F!"===(r=o.data)||"F"===r?o:null}if(o){oo=yd(o.nextSibling),a="F!"===o.data;break e}}co(a)}a=!1}a&&(t=n[0])}}return(n=Rr()).memoizedState=n.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sl,lastRenderedState:t},n.queue=a,n=Rl.bind(null,kr,a),a.dispatch=n,a=el(!1),r=Ul.bind(null,kr,!1,a.queue),o={state:t,dispatch:null,action:e,pending:null},(a=Rr()).queue=o,n=nl.bind(null,kr,o,r,n),o.dispatch=n,a.memoizedState=e,[t,n,!1]}function ul(e){return dl(zr(),Sr,e)}function dl(e,t,n){if(t=Wr(e,t,sl)[0],e=$r(Gr)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var a=Ur(t)}catch(l){if(l===Wo)throw qo;throw l}else a=t;var o=(t=zr()).queue,r=o.dispatch;return n!==t.memoizedState&&(kr.flags|=2048,pl(9,{destroy:void 0,resource:void 0},fl.bind(null,o,n),null)),[a,r,e]}function fl(e,t){e.action=t}function ml(e){var t=zr(),n=Sr;if(null!==n)return dl(t,n,e);zr(),t=t.memoizedState;var a=(n=zr()).queue.dispatch;return n.memoizedState=e,[t,a,!1]}function pl(e,t,n,a){return e={tag:e,create:n,deps:a,inst:t,next:null},null===(t=kr.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},kr.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function gl(){return zr().memoizedState}function hl(e,t,n,a){var o=Rr();a=void 0===a?null:a,kr.flags|=e,o.memoizedState=pl(1|t,{destroy:void 0,resource:void 0},n,a)}function yl(e,t,n,a){var o=zr();a=void 0===a?null:a;var r=o.memoizedState.inst;null!==Sr&&null!==a&&Fr(a,Sr.memoizedState.deps)?o.memoizedState=pl(t,r,n,a):(kr.flags|=e,o.memoizedState=pl(1|t,r,n,a))}function vl(e,t){hl(8390656,8,e,t)}function bl(e,t){yl(2048,8,e,t)}function kl(e,t){return yl(4,2,e,t)}function Sl(e,t){return yl(4,4,e,t)}function wl(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function xl(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,yl(4,4,wl.bind(null,t,e),n)}function Tl(){}function Cl(e,t){var n=zr();t=void 0===t?null:t;var a=n.memoizedState;return null!==t&&Fr(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function El(e,t){var n=zr();t=void 0===t?null:t;var a=n.memoizedState;if(null!==t&&Fr(t,a[1]))return a[0];if(a=e(),Cr){fe(!0);try{e()}finally{fe(!1)}}return n.memoizedState=[a,t],a}function Nl(e,t,n){return void 0===n||0!==(1073741824&br)?e.memoizedState=t:(e.memoizedState=n,e=Mc(),kr.lanes|=e,mc|=e,n)}function Pl(e,t,n,a){return Qn(n,t)?n:null!==pr.current?(e=Nl(e,n,a),Qn(e,t)||(Ni=!0),e):0===(42&br)?(Ni=!0,e.memoizedState=n):(e=Mc(),kr.lanes|=e,mc|=e,t)}function Dl(e,t,n,a,o){var r=M.p;M.p=0!==r&&8>r?r:8;var l=L.T,i={};L.T=i,Ul(e,!1,t,n);try{var s=o(),c=L.S;if(null!==c&&c(i,s),null!==s&&"object"===typeof s&&"function"===typeof s.then)zl(e,t,function(e,t){var n=[],a={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(a.status="rejected",a.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),a}(s,a),Lc());else zl(e,t,a,Lc())}catch(u){zl(e,t,{then:function(){},status:"rejected",reason:u},Lc())}finally{M.p=r,L.T=l}}function Al(){}function Fl(e,t,n,a){if(5!==e.tag)throw Error(l(476));var o=jl(e).queue;Dl(e,o,t,H,null===n?Al:function(){return Ol(e),n(a)})}function jl(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:H,baseState:H,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gr,lastRenderedState:H},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gr,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Ol(e){zl(e,jl(e).next.queue,{},Lc())}function Ll(){return No(qd)}function Ml(){return zr().memoizedState}function Hl(){return zr().memoizedState}function Il(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Lc(),a=lr(t,e=rr(n),n);return null!==a&&(Hc(a,t,n),ir(a,t,n)),t={cache:Lo()},void(e.payload=t)}t=t.return}}function _l(e,t,n){var a=Lc();n={lane:a,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Bl(e)?Vl(t,n):null!==(n=Aa(e,t,n,a))&&(Hc(n,e,a),Gl(n,t,a))}function Rl(e,t,n){zl(e,t,n,Lc())}function zl(e,t,n,a){var o={lane:a,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Bl(e))Vl(t,o);else{var r=e.alternate;if(0===e.lanes&&(null===r||0===r.lanes)&&null!==(r=t.lastRenderedReducer))try{var l=t.lastRenderedState,i=r(l,n);if(o.hasEagerState=!0,o.eagerState=i,Qn(i,l))return Da(e,t,o,0),null===ac&&Pa(),!1}catch(s){}if(null!==(n=Aa(e,t,o,a)))return Hc(n,e,a),Gl(n,t,a),!0}return!1}function Ul(e,t,n,a){if(a={lane:2,revertLane:Du(),action:a,hasEagerState:!1,eagerState:null,next:null},Bl(e)){if(t)throw Error(l(479))}else null!==(t=Aa(e,n,a,2))&&Hc(t,e,2)}function Bl(e){var t=e.alternate;return e===kr||null!==t&&t===kr}function Vl(e,t){Tr=xr=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Gl(e,t,n){if(0!==(4194048&n)){var a=t.lanes;n|=a&=e.pendingLanes,t.lanes=n,Ne(e,n)}}var $l={readContext:No,use:Br,useCallback:Ar,useContext:Ar,useEffect:Ar,useImperativeHandle:Ar,useLayoutEffect:Ar,useInsertionEffect:Ar,useMemo:Ar,useReducer:Ar,useRef:Ar,useState:Ar,useDebugValue:Ar,useDeferredValue:Ar,useTransition:Ar,useSyncExternalStore:Ar,useId:Ar,useHostTransitionStatus:Ar,useFormState:Ar,useActionState:Ar,useOptimistic:Ar,useMemoCache:Ar,useCacheRefresh:Ar},Wl={readContext:No,use:Br,useCallback:function(e,t){return Rr().memoizedState=[e,void 0===t?null:t],e},useContext:No,useEffect:vl,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,hl(4194308,4,wl.bind(null,t,e),n)},useLayoutEffect:function(e,t){return hl(4194308,4,e,t)},useInsertionEffect:function(e,t){hl(4,2,e,t)},useMemo:function(e,t){var n=Rr();t=void 0===t?null:t;var a=e();if(Cr){fe(!0);try{e()}finally{fe(!1)}}return n.memoizedState=[a,t],a},useReducer:function(e,t,n){var a=Rr();if(void 0!==n){var o=n(t);if(Cr){fe(!0);try{n(t)}finally{fe(!1)}}}else o=t;return a.memoizedState=a.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},a.queue=e,e=e.dispatch=_l.bind(null,kr,e),[a.memoizedState,e]},useRef:function(e){return e={current:e},Rr().memoizedState=e},useState:function(e){var t=(e=el(e)).queue,n=Rl.bind(null,kr,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Tl,useDeferredValue:function(e,t){return Nl(Rr(),e,t)},useTransition:function(){var e=el(!1);return e=Dl.bind(null,kr,e.queue,!0,!1),Rr().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var a=kr,o=Rr();if(ro){if(void 0===n)throw Error(l(407));n=n()}else{if(n=t(),null===ac)throw Error(l(349));0!==(124&rc)||Qr(a,t,n)}o.memoizedState=n;var r={value:n,getSnapshot:t};return o.queue=r,vl(Zr.bind(null,a,r,e),[e]),a.flags|=2048,pl(9,{destroy:void 0,resource:void 0},Yr.bind(null,a,r,n,t),null),n},useId:function(){var e=Rr(),t=ac.identifierPrefix;if(ro){var n=Xa;t="\xab"+t+"R"+(n=(Za&~(1<<32-me(Za)-1)).toString(32)+n),0<(n=Er++)&&(t+="H"+n.toString(32)),t+="\xbb"}else t="\xab"+t+"r"+(n=Dr++).toString(32)+"\xbb";return e.memoizedState=t},useHostTransitionStatus:Ll,useFormState:cl,useActionState:cl,useOptimistic:function(e){var t=Rr();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Ul.bind(null,kr,!0,n),n.dispatch=t,[e,t]},useMemoCache:Vr,useCacheRefresh:function(){return Rr().memoizedState=Il.bind(null,kr)}},Kl={readContext:No,use:Br,useCallback:Cl,useContext:No,useEffect:bl,useImperativeHandle:xl,useInsertionEffect:kl,useLayoutEffect:Sl,useMemo:El,useReducer:$r,useRef:gl,useState:function(){return $r(Gr)},useDebugValue:Tl,useDeferredValue:function(e,t){return Pl(zr(),Sr.memoizedState,e,t)},useTransition:function(){var e=$r(Gr)[0],t=zr().memoizedState;return["boolean"===typeof e?e:Ur(e),t]},useSyncExternalStore:qr,useId:Ml,useHostTransitionStatus:Ll,useFormState:ul,useActionState:ul,useOptimistic:function(e,t){return tl(zr(),0,e,t)},useMemoCache:Vr,useCacheRefresh:Hl},ql={readContext:No,use:Br,useCallback:Cl,useContext:No,useEffect:bl,useImperativeHandle:xl,useInsertionEffect:kl,useLayoutEffect:Sl,useMemo:El,useReducer:Kr,useRef:gl,useState:function(){return Kr(Gr)},useDebugValue:Tl,useDeferredValue:function(e,t){var n=zr();return null===Sr?Nl(n,e,t):Pl(n,Sr.memoizedState,e,t)},useTransition:function(){var e=Kr(Gr)[0],t=zr().memoizedState;return["boolean"===typeof e?e:Ur(e),t]},useSyncExternalStore:qr,useId:Ml,useHostTransitionStatus:Ll,useFormState:ml,useActionState:ml,useOptimistic:function(e,t){var n=zr();return null!==Sr?tl(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Vr,useCacheRefresh:Hl},Ql=null,Yl=0;function Zl(e){var t=Yl;return Yl+=1,null===Ql&&(Ql=[]),Xo(Ql,e,t)}function Xl(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function Jl(e,t){if(t.$$typeof===m)throw Error(l(525));throw e=Object.prototype.toString.call(t),Error(l(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ei(e){return(0,e._init)(e._payload)}function ti(e){function t(t,n){if(e){var a=t.deletions;null===a?(t.deletions=[n],t.flags|=16):a.push(n)}}function n(n,a){if(!e)return null;for(;null!==a;)t(n,a),a=a.sibling;return null}function a(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function o(e,t){return(e=_a(e,t)).index=0,e.sibling=null,e}function r(t,n,a){return t.index=a,e?null!==(a=t.alternate)?(a=a.index)<n?(t.flags|=67108866,n):a:(t.flags|=67108866,n):(t.flags|=1048576,n)}function i(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function s(e,t,n,a){return null===t||6!==t.tag?((t=Ba(n,e.mode,a)).return=e,t):((t=o(t,n)).return=e,t)}function c(e,t,n,a){var r=n.type;return r===h?d(e,t,n.props.children,a,n.key):null!==t&&(t.elementType===r||"object"===typeof r&&null!==r&&r.$$typeof===E&&ei(r)===t.type)?(Xl(t=o(t,n.props),n),t.return=e,t):(Xl(t=za(n.type,n.key,n.props,null,e.mode,a),n),t.return=e,t)}function u(e,t,n,a){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Va(n,e.mode,a)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function d(e,t,n,a,r){return null===t||7!==t.tag?((t=Ua(n,e.mode,a,r)).return=e,t):((t=o(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Ba(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case p:return Xl(n=za(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case g:return(t=Va(t,e.mode,n)).return=e,t;case E:return f(e,t=(0,t._init)(t._payload),n)}if(O(t)||A(t))return(t=Ua(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return f(e,Zl(t),n);if(t.$$typeof===S)return f(e,Po(e,t),n);Jl(e,t)}return null}function m(e,t,n,a){var o=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==o?null:s(e,t,""+n,a);if("object"===typeof n&&null!==n){switch(n.$$typeof){case p:return n.key===o?c(e,t,n,a):null;case g:return n.key===o?u(e,t,n,a):null;case E:return m(e,t,n=(o=n._init)(n._payload),a)}if(O(n)||A(n))return null!==o?null:d(e,t,n,a,null);if("function"===typeof n.then)return m(e,t,Zl(n),a);if(n.$$typeof===S)return m(e,t,Po(e,n),a);Jl(e,n)}return null}function y(e,t,n,a,o){if("string"===typeof a&&""!==a||"number"===typeof a||"bigint"===typeof a)return s(t,e=e.get(n)||null,""+a,o);if("object"===typeof a&&null!==a){switch(a.$$typeof){case p:return c(t,e=e.get(null===a.key?n:a.key)||null,a,o);case g:return u(t,e=e.get(null===a.key?n:a.key)||null,a,o);case E:return y(e,t,n,a=(0,a._init)(a._payload),o)}if(O(a)||A(a))return d(t,e=e.get(n)||null,a,o,null);if("function"===typeof a.then)return y(e,t,n,Zl(a),o);if(a.$$typeof===S)return y(e,t,n,Po(t,a),o);Jl(t,a)}return null}function v(s,c,u,d){if("object"===typeof u&&null!==u&&u.type===h&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case p:e:{for(var b=u.key;null!==c;){if(c.key===b){if((b=u.type)===h){if(7===c.tag){n(s,c.sibling),(d=o(c,u.props.children)).return=s,s=d;break e}}else if(c.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===E&&ei(b)===c.type){n(s,c.sibling),Xl(d=o(c,u.props),u),d.return=s,s=d;break e}n(s,c);break}t(s,c),c=c.sibling}u.type===h?((d=Ua(u.props.children,s.mode,d,u.key)).return=s,s=d):(Xl(d=za(u.type,u.key,u.props,null,s.mode,d),u),d.return=s,s=d)}return i(s);case g:e:{for(b=u.key;null!==c;){if(c.key===b){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(s,c.sibling),(d=o(c,u.children||[])).return=s,s=d;break e}n(s,c);break}t(s,c),c=c.sibling}(d=Va(u,s.mode,d)).return=s,s=d}return i(s);case E:return v(s,c,u=(b=u._init)(u._payload),d)}if(O(u))return function(o,l,i,s){for(var c=null,u=null,d=l,p=l=0,g=null;null!==d&&p<i.length;p++){d.index>p?(g=d,d=null):g=d.sibling;var h=m(o,d,i[p],s);if(null===h){null===d&&(d=g);break}e&&d&&null===h.alternate&&t(o,d),l=r(h,l,p),null===u?c=h:u.sibling=h,u=h,d=g}if(p===i.length)return n(o,d),ro&&Ja(o,p),c;if(null===d){for(;p<i.length;p++)null!==(d=f(o,i[p],s))&&(l=r(d,l,p),null===u?c=d:u.sibling=d,u=d);return ro&&Ja(o,p),c}for(d=a(d);p<i.length;p++)null!==(g=y(d,o,p,i[p],s))&&(e&&null!==g.alternate&&d.delete(null===g.key?p:g.key),l=r(g,l,p),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(o,e)}),ro&&Ja(o,p),c}(s,c,u,d);if(A(u)){if("function"!==typeof(b=A(u)))throw Error(l(150));return function(o,i,s,c){if(null==s)throw Error(l(151));for(var u=null,d=null,p=i,g=i=0,h=null,v=s.next();null!==p&&!v.done;g++,v=s.next()){p.index>g?(h=p,p=null):h=p.sibling;var b=m(o,p,v.value,c);if(null===b){null===p&&(p=h);break}e&&p&&null===b.alternate&&t(o,p),i=r(b,i,g),null===d?u=b:d.sibling=b,d=b,p=h}if(v.done)return n(o,p),ro&&Ja(o,g),u;if(null===p){for(;!v.done;g++,v=s.next())null!==(v=f(o,v.value,c))&&(i=r(v,i,g),null===d?u=v:d.sibling=v,d=v);return ro&&Ja(o,g),u}for(p=a(p);!v.done;g++,v=s.next())null!==(v=y(p,o,g,v.value,c))&&(e&&null!==v.alternate&&p.delete(null===v.key?g:v.key),i=r(v,i,g),null===d?u=v:d.sibling=v,d=v);return e&&p.forEach(function(e){return t(o,e)}),ro&&Ja(o,g),u}(s,c,u=b.call(u),d)}if("function"===typeof u.then)return v(s,c,Zl(u),d);if(u.$$typeof===S)return v(s,c,Po(s,u),d);Jl(s,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==c&&6===c.tag?(n(s,c.sibling),(d=o(c,u)).return=s,s=d):(n(s,c),(d=Ba(u,s.mode,d)).return=s,s=d),i(s)):n(s,c)}return function(e,t,n,a){try{Yl=0;var o=v(e,t,n,a);return Ql=null,o}catch(l){if(l===Wo||l===qo)throw l;var r=Ha(29,l,null,e.mode);return r.lanes=a,r.return=e,r}}}var ni=ti(!0),ai=ti(!1),oi=R(null),ri=null;function li(e){var t=e.alternate;U(ui,1&ui.current),U(oi,e),null===ri&&(null===t||null!==pr.current||null!==t.memoizedState)&&(ri=e)}function ii(e){if(22===e.tag){if(U(ui,ui.current),U(oi,e),null===ri){var t=e.alternate;null!==t&&null!==t.memoizedState&&(ri=e)}}else si()}function si(){U(ui,ui.current),U(oi,oi.current)}function ci(e){z(oi),ri===e&&(ri=null),z(ui)}var ui=R(0);function di(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||hd(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function fi(e,t,n,a){n=null===(n=n(a,t=e.memoizedState))||void 0===n?t:f({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var mi={enqueueSetState:function(e,t,n){e=e._reactInternals;var a=Lc(),o=rr(a);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=lr(e,o,a))&&(Hc(t,e,a),ir(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=Lc(),o=rr(a);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=lr(e,o,a))&&(Hc(t,e,a),ir(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Lc(),a=rr(n);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=lr(e,a,n))&&(Hc(t,e,n),ir(t,e,n))}};function pi(e,t,n,a,o,r,l){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(a,r,l):!t.prototype||!t.prototype.isPureReactComponent||(!Yn(n,a)||!Yn(o,r))}function gi(e,t,n,a){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,a),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&mi.enqueueReplaceState(t,t.state,null)}function hi(e,t){var n=t;if("ref"in t)for(var a in n={},t)"ref"!==a&&(n[a]=t[a]);if(e=e.defaultProps)for(var o in n===t&&(n=f({},n)),e)void 0===n[o]&&(n[o]=e[o]);return n}var yi="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function vi(e){yi(e)}function bi(e){console.error(e)}function ki(e){yi(e)}function Si(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function wi(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(a){setTimeout(function(){throw a})}}function xi(e,t,n){return(n=rr(n)).tag=3,n.payload={element:null},n.callback=function(){Si(e,t)},n}function Ti(e){return(e=rr(e)).tag=3,e}function Ci(e,t,n,a){var o=n.type.getDerivedStateFromError;if("function"===typeof o){var r=a.value;e.payload=function(){return o(r)},e.callback=function(){wi(t,n,a)}}var l=n.stateNode;null!==l&&"function"===typeof l.componentDidCatch&&(e.callback=function(){wi(t,n,a),"function"!==typeof o&&(null===Tc?Tc=new Set([this]):Tc.add(this));var e=a.stack;this.componentDidCatch(a.value,{componentStack:null!==e?e:""})})}var Ei=Error(l(461)),Ni=!1;function Pi(e,t,n,a){t.child=null===e?ai(t,null,n,a):ni(t,e.child,n,a)}function Di(e,t,n,a,o){n=n.render;var r=t.ref;if("ref"in a){var l={};for(var i in a)"ref"!==i&&(l[i]=a[i])}else l=a;return Eo(t),a=jr(e,t,n,l,r,o),i=Hr(),null===e||Ni?(ro&&i&&to(t),t.flags|=1,Pi(e,t,a,o),t.child):(Ir(e,t,o),Qi(e,t,o))}function Ai(e,t,n,a,o){if(null===e){var r=n.type;return"function"!==typeof r||Ia(r)||void 0!==r.defaultProps||null!==n.compare?((e=za(n.type,null,a,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=r,Fi(e,t,r,a,o))}if(r=e.child,!Yi(e,o)){var l=r.memoizedProps;if((n=null!==(n=n.compare)?n:Yn)(l,a)&&e.ref===t.ref)return Qi(e,t,o)}return t.flags|=1,(e=_a(r,a)).ref=t.ref,e.return=t,t.child=e}function Fi(e,t,n,a,o){if(null!==e){var r=e.memoizedProps;if(Yn(r,a)&&e.ref===t.ref){if(Ni=!1,t.pendingProps=a=r,!Yi(e,o))return t.lanes=e.lanes,Qi(e,t,o);0!==(131072&e.flags)&&(Ni=!0)}}return Mi(e,t,n,a,o)}function ji(e,t,n){var a=t.pendingProps,o=a.children,r=null!==e?e.memoizedState:null;if("hidden"===a.mode){if(0!==(128&t.flags)){if(a=null!==r?r.baseLanes|n:n,null!==e){for(o=t.child=e.child,r=0;null!==o;)r=r|o.lanes|o.childLanes,o=o.sibling;t.childLanes=r&~a}else t.childLanes=0,t.child=null;return Oi(e,t,a,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,Oi(e,t,null!==r?r.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Go(0,null!==r?r.cachePool:null),null!==r?hr(t,r):yr(),ii(t)}else null!==r?(Go(0,r.cachePool),hr(t,r),si(),t.memoizedState=null):(null!==e&&Go(0,null),yr(),si());return Pi(e,t,o,n),t.child}function Oi(e,t,n,a){var o=Vo();return o=null===o?null:{parent:Oo._currentValue,pool:o},t.memoizedState={baseLanes:n,cachePool:o},null!==e&&Go(0,null),yr(),ii(t),null!==e&&To(e,t,a,!0),null}function Li(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(l(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Mi(e,t,n,a,o){return Eo(t),n=jr(e,t,n,a,void 0,o),a=Hr(),null===e||Ni?(ro&&a&&to(t),t.flags|=1,Pi(e,t,n,o),t.child):(Ir(e,t,o),Qi(e,t,o))}function Hi(e,t,n,a,o,r){return Eo(t),t.updateQueue=null,n=Lr(t,a,n,o),Or(e),a=Hr(),null===e||Ni?(ro&&a&&to(t),t.flags|=1,Pi(e,t,n,r),t.child):(Ir(e,t,r),Qi(e,t,r))}function Ii(e,t,n,a,o){if(Eo(t),null===t.stateNode){var r=La,l=n.contextType;"object"===typeof l&&null!==l&&(r=No(l)),r=new n(a,r),t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,r.updater=mi,t.stateNode=r,r._reactInternals=t,(r=t.stateNode).props=a,r.state=t.memoizedState,r.refs={},ar(t),l=n.contextType,r.context="object"===typeof l&&null!==l?No(l):La,r.state=t.memoizedState,"function"===typeof(l=n.getDerivedStateFromProps)&&(fi(t,n,l,a),r.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(l=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),l!==r.state&&mi.enqueueReplaceState(r,r.state,null),dr(t,a,r,o),ur(),r.state=t.memoizedState),"function"===typeof r.componentDidMount&&(t.flags|=4194308),a=!0}else if(null===e){r=t.stateNode;var i=t.memoizedProps,s=hi(n,i);r.props=s;var c=r.context,u=n.contextType;l=La,"object"===typeof u&&null!==u&&(l=No(u));var d=n.getDerivedStateFromProps;u="function"===typeof d||"function"===typeof r.getSnapshotBeforeUpdate,i=t.pendingProps!==i,u||"function"!==typeof r.UNSAFE_componentWillReceiveProps&&"function"!==typeof r.componentWillReceiveProps||(i||c!==l)&&gi(t,r,a,l),nr=!1;var f=t.memoizedState;r.state=f,dr(t,a,r,o),ur(),c=t.memoizedState,i||f!==c||nr?("function"===typeof d&&(fi(t,n,d,a),c=t.memoizedState),(s=nr||pi(t,n,s,a,f,c,l))?(u||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||("function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount()),"function"===typeof r.componentDidMount&&(t.flags|=4194308)):("function"===typeof r.componentDidMount&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=c),r.props=a,r.state=c,r.context=l,a=s):("function"===typeof r.componentDidMount&&(t.flags|=4194308),a=!1)}else{r=t.stateNode,or(e,t),u=hi(n,l=t.memoizedProps),r.props=u,d=t.pendingProps,f=r.context,c=n.contextType,s=La,"object"===typeof c&&null!==c&&(s=No(c)),(c="function"===typeof(i=n.getDerivedStateFromProps)||"function"===typeof r.getSnapshotBeforeUpdate)||"function"!==typeof r.UNSAFE_componentWillReceiveProps&&"function"!==typeof r.componentWillReceiveProps||(l!==d||f!==s)&&gi(t,r,a,s),nr=!1,f=t.memoizedState,r.state=f,dr(t,a,r,o),ur();var m=t.memoizedState;l!==d||f!==m||nr||null!==e&&null!==e.dependencies&&Co(e.dependencies)?("function"===typeof i&&(fi(t,n,i,a),m=t.memoizedState),(u=nr||pi(t,n,u,a,f,m,s)||null!==e&&null!==e.dependencies&&Co(e.dependencies))?(c||"function"!==typeof r.UNSAFE_componentWillUpdate&&"function"!==typeof r.componentWillUpdate||("function"===typeof r.componentWillUpdate&&r.componentWillUpdate(a,m,s),"function"===typeof r.UNSAFE_componentWillUpdate&&r.UNSAFE_componentWillUpdate(a,m,s)),"function"===typeof r.componentDidUpdate&&(t.flags|=4),"function"===typeof r.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof r.componentDidUpdate||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof r.getSnapshotBeforeUpdate||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=m),r.props=a,r.state=m,r.context=s,a=u):("function"!==typeof r.componentDidUpdate||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof r.getSnapshotBeforeUpdate||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),a=!1)}return r=a,Li(e,t),a=0!==(128&t.flags),r||a?(r=t.stateNode,n=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render(),t.flags|=1,null!==e&&a?(t.child=ni(t,e.child,null,o),t.child=ni(t,null,n,o)):Pi(e,t,n,o),t.memoizedState=r.state,e=t.child):e=Qi(e,t,o),e}function _i(e,t,n,a){return po(),t.flags|=256,Pi(e,t,n,a),t.child}var Ri={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function zi(e){return{baseLanes:e,cachePool:$o()}}function Ui(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=hc),e}function Bi(e,t,n){var a,o=t.pendingProps,r=!1,i=0!==(128&t.flags);if((a=i)||(a=(null===e||null!==e.memoizedState)&&0!==(2&ui.current)),a&&(r=!0,t.flags&=-129),a=0!==(32&t.flags),t.flags&=-33,null===e){if(ro){if(r?li(t):si(),ro){var s,c=oo;if(s=c){e:{for(s=c,c=io;8!==s.nodeType;){if(!c){c=null;break e}if(null===(s=yd(s.nextSibling))){c=null;break e}}c=s}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Ya?{id:Za,overflow:Xa}:null,retryLane:536870912,hydrationErrors:null},(s=Ha(18,null,null,0)).stateNode=c,s.return=t,t.child=s,ao=t,oo=null,s=!0):s=!1}s||co(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return hd(c)?t.lanes=32:t.lanes=536870912,null;ci(t)}return c=o.children,o=o.fallback,r?(si(),c=Gi({mode:"hidden",children:c},r=t.mode),o=Ua(o,r,n,null),c.return=t,o.return=t,c.sibling=o,t.child=c,(r=t.child).memoizedState=zi(n),r.childLanes=Ui(e,a,n),t.memoizedState=Ri,o):(li(t),Vi(t,c))}if(null!==(s=e.memoizedState)&&null!==(c=s.dehydrated)){if(i)256&t.flags?(li(t),t.flags&=-257,t=$i(e,t,n)):null!==t.memoizedState?(si(),t.child=e.child,t.flags|=128,t=null):(si(),r=o.fallback,c=t.mode,o=Gi({mode:"visible",children:o.children},c),(r=Ua(r,c,n,null)).flags|=2,o.return=t,r.return=t,o.sibling=r,t.child=o,ni(t,e.child,null,n),(o=t.child).memoizedState=zi(n),o.childLanes=Ui(e,a,n),t.memoizedState=Ri,t=r);else if(li(t),hd(c)){if(a=c.nextSibling&&c.nextSibling.dataset)var u=a.dgst;a=u,(o=Error(l(419))).stack="",o.digest=a,ho({value:o,source:null,stack:null}),t=$i(e,t,n)}else if(Ni||To(e,t,n,!1),a=0!==(n&e.childLanes),Ni||a){if(null!==(a=ac)&&(0!==(o=0!==((o=0!==(42&(o=n&-n))?1:Pe(o))&(a.suspendedLanes|n))?0:o)&&o!==s.retryLane))throw s.retryLane=o,Fa(e,o),Hc(a,e,o),Ei;"$?"===c.data||Kc(),t=$i(e,t,n)}else"$?"===c.data?(t.flags|=192,t.child=e.child,t=null):(e=s.treeContext,oo=yd(c.nextSibling),ao=t,ro=!0,lo=null,io=!1,null!==e&&(qa[Qa++]=Za,qa[Qa++]=Xa,qa[Qa++]=Ya,Za=e.id,Xa=e.overflow,Ya=t),(t=Vi(t,o.children)).flags|=4096);return t}return r?(si(),r=o.fallback,c=t.mode,u=(s=e.child).sibling,(o=_a(s,{mode:"hidden",children:o.children})).subtreeFlags=65011712&s.subtreeFlags,null!==u?r=_a(u,r):(r=Ua(r,c,n,null)).flags|=2,r.return=t,o.return=t,o.sibling=r,t.child=o,o=r,r=t.child,null===(c=e.child.memoizedState)?c=zi(n):(null!==(s=c.cachePool)?(u=Oo._currentValue,s=s.parent!==u?{parent:u,pool:u}:s):s=$o(),c={baseLanes:c.baseLanes|n,cachePool:s}),r.memoizedState=c,r.childLanes=Ui(e,a,n),t.memoizedState=Ri,o):(li(t),e=(n=e.child).sibling,(n=_a(n,{mode:"visible",children:o.children})).return=t,n.sibling=null,null!==e&&(null===(a=t.deletions)?(t.deletions=[e],t.flags|=16):a.push(e)),t.child=n,t.memoizedState=null,n)}function Vi(e,t){return(t=Gi({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Gi(e,t){return(e=Ha(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function $i(e,t,n){return ni(t,e.child,null,n),(e=Vi(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Wi(e,t,n){e.lanes|=t;var a=e.alternate;null!==a&&(a.lanes|=t),wo(e.return,t,n)}function Ki(e,t,n,a,o){var r=e.memoizedState;null===r?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:o}:(r.isBackwards=t,r.rendering=null,r.renderingStartTime=0,r.last=a,r.tail=n,r.tailMode=o)}function qi(e,t,n){var a=t.pendingProps,o=a.revealOrder,r=a.tail;if(Pi(e,t,a.children,n),0!==(2&(a=ui.current)))a=1&a|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Wi(e,n,t);else if(19===e.tag)Wi(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}switch(U(ui,a),o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===di(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Ki(t,!1,o,n,r);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===di(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Ki(t,!0,n,null,r);break;case"together":Ki(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Qi(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),mc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(To(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(l(153));if(null!==t.child){for(n=_a(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=_a(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Yi(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Co(e))}function Zi(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Ni=!0;else{if(!Yi(e,n)&&0===(128&t.flags))return Ni=!1,function(e,t,n){switch(t.tag){case 3:W(t,t.stateNode.containerInfo),ko(0,Oo,e.memoizedState.cache),po();break;case 27:case 5:q(t);break;case 4:W(t,t.stateNode.containerInfo);break;case 10:ko(0,t.type,t.memoizedProps.value);break;case 13:var a=t.memoizedState;if(null!==a)return null!==a.dehydrated?(li(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Bi(e,t,n):(li(t),null!==(e=Qi(e,t,n))?e.sibling:null);li(t);break;case 19:var o=0!==(128&e.flags);if((a=0!==(n&t.childLanes))||(To(e,t,n,!1),a=0!==(n&t.childLanes)),o){if(a)return qi(e,t,n);t.flags|=128}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),U(ui,ui.current),a)break;return null;case 22:case 23:return t.lanes=0,ji(e,t,n);case 24:ko(0,Oo,e.memoizedState.cache)}return Qi(e,t,n)}(e,t,n);Ni=0!==(131072&e.flags)}else Ni=!1,ro&&0!==(1048576&t.flags)&&eo(t,Ka,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var a=t.elementType,o=a._init;if(a=o(a._payload),t.type=a,"function"!==typeof a){if(void 0!==a&&null!==a){if((o=a.$$typeof)===w){t.tag=11,t=Di(null,t,a,e,n);break e}if(o===C){t.tag=14,t=Ai(null,t,a,e,n);break e}}throw t=j(a)||a,Error(l(306,t,""))}Ia(a)?(e=hi(a,e),t.tag=1,t=Ii(null,t,a,e,n)):(t.tag=0,t=Mi(null,t,a,e,n))}return t;case 0:return Mi(e,t,t.type,t.pendingProps,n);case 1:return Ii(e,t,a=t.type,o=hi(a,t.pendingProps),n);case 3:e:{if(W(t,t.stateNode.containerInfo),null===e)throw Error(l(387));a=t.pendingProps;var r=t.memoizedState;o=r.element,or(e,t),dr(t,a,null,n);var i=t.memoizedState;if(a=i.cache,ko(0,Oo,a),a!==r.cache&&xo(t,[Oo],n,!0),ur(),a=i.element,r.isDehydrated){if(r={element:a,isDehydrated:!1,cache:i.cache},t.updateQueue.baseState=r,t.memoizedState=r,256&t.flags){t=_i(e,t,a,n);break e}if(a!==o){ho(o=Ta(Error(l(424)),t)),t=_i(e,t,a,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(oo=yd(e.firstChild),ao=t,ro=!0,lo=null,io=!0,n=ai(t,null,a,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),a===o){t=Qi(e,t,n);break e}Pi(e,t,a,n)}t=t.child}return t;case 26:return Li(e,t),null===e?(n=Pd(t.type,null,t.pendingProps,null))?t.memoizedState=n:ro||(n=t.type,e=t.pendingProps,(a=ad(G.current).createElement(n))[je]=t,a[Oe]=e,ed(a,n,e),$e(a),t.stateNode=a):t.memoizedState=Pd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return q(t),null===e&&ro&&(a=t.stateNode=kd(t.type,t.pendingProps,G.current),ao=t,io=!0,o=oo,md(t.type)?(vd=o,oo=yd(a.firstChild)):oo=o),Pi(e,t,t.pendingProps.children,n),Li(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&ro&&((o=a=oo)&&(null!==(a=function(e,t,n,a){for(;1===e.nodeType;){var o=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(a){if(!e[Re])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(r=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(r!==o.rel||e.getAttribute("href")!==(null==o.href||""===o.href?null:o.href)||e.getAttribute("crossorigin")!==(null==o.crossOrigin?null:o.crossOrigin)||e.getAttribute("title")!==(null==o.title?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((r=e.getAttribute("src"))!==(null==o.src?null:o.src)||e.getAttribute("type")!==(null==o.type?null:o.type)||e.getAttribute("crossorigin")!==(null==o.crossOrigin?null:o.crossOrigin))&&r&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var r=null==o.name?null:""+o.name;if("hidden"===o.type&&e.getAttribute("name")===r)return e}if(null===(e=yd(e.nextSibling)))break}return null}(a,t.type,t.pendingProps,io))?(t.stateNode=a,ao=t,oo=yd(a.firstChild),io=!1,o=!0):o=!1),o||co(t)),q(t),o=t.type,r=t.pendingProps,i=null!==e?e.memoizedProps:null,a=r.children,ld(o,r)?a=null:null!==i&&ld(o,i)&&(t.flags|=32),null!==t.memoizedState&&(o=jr(e,t,Mr,null,null,n),qd._currentValue=o),Li(e,t),Pi(e,t,a,n),t.child;case 6:return null===e&&ro&&((e=n=oo)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=yd(e.nextSibling)))return null}return e}(n,t.pendingProps,io))?(t.stateNode=n,ao=t,oo=null,e=!0):e=!1),e||co(t)),null;case 13:return Bi(e,t,n);case 4:return W(t,t.stateNode.containerInfo),a=t.pendingProps,null===e?t.child=ni(t,null,a,n):Pi(e,t,a,n),t.child;case 11:return Di(e,t,t.type,t.pendingProps,n);case 7:return Pi(e,t,t.pendingProps,n),t.child;case 8:case 12:return Pi(e,t,t.pendingProps.children,n),t.child;case 10:return a=t.pendingProps,ko(0,t.type,a.value),Pi(e,t,a.children,n),t.child;case 9:return o=t.type._context,a=t.pendingProps.children,Eo(t),a=a(o=No(o)),t.flags|=1,Pi(e,t,a,n),t.child;case 14:return Ai(e,t,t.type,t.pendingProps,n);case 15:return Fi(e,t,t.type,t.pendingProps,n);case 19:return qi(e,t,n);case 31:return a=t.pendingProps,n=t.mode,a={mode:a.mode,children:a.children},null===e?((n=Gi(a,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=_a(e.child,a)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return ji(e,t,n);case 24:return Eo(t),a=No(Oo),null===e?(null===(o=Vo())&&(o=ac,r=Lo(),o.pooledCache=r,r.refCount++,null!==r&&(o.pooledCacheLanes|=n),o=r),t.memoizedState={parent:a,cache:o},ar(t),ko(0,Oo,o)):(0!==(e.lanes&n)&&(or(e,t),dr(t,null,null,n),ur()),o=e.memoizedState,r=t.memoizedState,o.parent!==a?(o={parent:a,cache:a},t.memoizedState=o,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=o),ko(0,Oo,a)):(a=r.cache,ko(0,Oo,a),a!==o.cache&&xo(t,[Oo],n,!0))),Pi(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(l(156,t.tag))}function Xi(e){e.flags|=4}function Ji(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!Ud(t)){if(null!==(t=oi.current)&&((4194048&rc)===rc?null!==ri:(62914560&rc)!==rc&&0===(536870912&rc)||t!==ri))throw Jo=Qo,Ko;e.flags|=8192}}function es(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?xe():536870912,e.lanes|=t,yc|=t)}function ts(e,t){if(!ro)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;null!==n;)null!==n.alternate&&(a=n),n=n.sibling;null===a?t||null===e.tail?e.tail=null:e.tail.sibling=null:a.sibling=null}}function ns(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,a=0;if(t)for(var o=e.child;null!==o;)n|=o.lanes|o.childLanes,a|=65011712&o.subtreeFlags,a|=65011712&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)n|=o.lanes|o.childLanes,a|=o.subtreeFlags,a|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function as(e,t,n){var a=t.pendingProps;switch(no(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return ns(t),null;case 3:return n=t.stateNode,a=null,null!==e&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),So(Oo),K(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(mo(t)?Xi(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,go())),ns(t),null;case 26:return n=t.memoizedState,null===e?(Xi(t),null!==n?(ns(t),Ji(t,n)):(ns(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Xi(t),ns(t),Ji(t,n)):(ns(t),t.flags&=-16777217):(e.memoizedProps!==a&&Xi(t),ns(t),t.flags&=-16777217),null;case 27:Q(t),n=G.current;var o=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==a&&Xi(t);else{if(!a){if(null===t.stateNode)throw Error(l(166));return ns(t),null}e=B.current,mo(t)?uo(t):(e=kd(o,a,n),t.stateNode=e,Xi(t))}return ns(t),null;case 5:if(Q(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==a&&Xi(t);else{if(!a){if(null===t.stateNode)throw Error(l(166));return ns(t),null}if(e=B.current,mo(t))uo(t);else{switch(o=ad(G.current),e){case 1:e=o.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=o.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=o.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=o.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=o.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof a.is?o.createElement("select",{is:a.is}):o.createElement("select"),a.multiple?e.multiple=!0:a.size&&(e.size=a.size);break;default:e="string"===typeof a.is?o.createElement(n,{is:a.is}):o.createElement(n)}}e[je]=t,e[Oe]=a;e:for(o=t.child;null!==o;){if(5===o.tag||6===o.tag)e.appendChild(o.stateNode);else if(4!==o.tag&&27!==o.tag&&null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;null===o.sibling;){if(null===o.return||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=e;e:switch(ed(e,n,a),n){case"button":case"input":case"select":case"textarea":e=!!a.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Xi(t)}}return ns(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==a&&Xi(t);else{if("string"!==typeof a&&null===t.stateNode)throw Error(l(166));if(e=G.current,mo(t)){if(e=t.stateNode,n=t.memoizedProps,a=null,null!==(o=ao))switch(o.tag){case 27:case 5:a=o.memoizedProps}e[je]=t,(e=!!(e.nodeValue===n||null!==a&&!0===a.suppressHydrationWarning||Yu(e.nodeValue,n)))||co(t)}else(e=ad(e).createTextNode(a))[je]=t,t.stateNode=e}return ns(t),null;case 13:if(a=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(o=mo(t),null!==a&&null!==a.dehydrated){if(null===e){if(!o)throw Error(l(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(l(317));o[je]=t}else po(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;ns(t),o=!1}else o=go(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return 256&t.flags?(ci(t),t):(ci(t),null)}if(ci(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==a,e=null!==e&&null!==e.memoizedState,n){o=null,null!==(a=t.child).alternate&&null!==a.alternate.memoizedState&&null!==a.alternate.memoizedState.cachePool&&(o=a.alternate.memoizedState.cachePool.pool);var r=null;null!==a.memoizedState&&null!==a.memoizedState.cachePool&&(r=a.memoizedState.cachePool.pool),r!==o&&(a.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),es(t,t.updateQueue),ns(t),null;case 4:return K(),null===e&&zu(t.stateNode.containerInfo),ns(t),null;case 10:return So(t.type),ns(t),null;case 19:if(z(ui),null===(o=t.memoizedState))return ns(t),null;if(a=0!==(128&t.flags),null===(r=o.rendering))if(a)ts(o,!1);else{if(0!==fc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(r=di(e))){for(t.flags|=128,ts(o,!1),e=r.updateQueue,t.updateQueue=e,es(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Ra(n,e),n=n.sibling;return U(ui,1&ui.current|2),t.child}e=e.sibling}null!==o.tail&&te()>wc&&(t.flags|=128,a=!0,ts(o,!1),t.lanes=4194304)}else{if(!a)if(null!==(e=di(r))){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,es(t,e),ts(o,!0),null===o.tail&&"hidden"===o.tailMode&&!r.alternate&&!ro)return ns(t),null}else 2*te()-o.renderingStartTime>wc&&536870912!==n&&(t.flags|=128,a=!0,ts(o,!1),t.lanes=4194304);o.isBackwards?(r.sibling=t.child,t.child=r):(null!==(e=o.last)?e.sibling=r:t.child=r,o.last=r)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=te(),t.sibling=null,e=ui.current,U(ui,a?1&e|2:1&e),t):(ns(t),null);case 22:case 23:return ci(t),vr(),a=null!==t.memoizedState,null!==e?null!==e.memoizedState!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?0!==(536870912&n)&&0===(128&t.flags)&&(ns(t),6&t.subtreeFlags&&(t.flags|=8192)):ns(t),null!==(n=t.updateQueue)&&es(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),a=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(a=t.memoizedState.cachePool.pool),a!==n&&(t.flags|=2048),null!==e&&z(Bo),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),So(Oo),ns(t),null;case 25:case 30:return null}throw Error(l(156,t.tag))}function os(e,t){switch(no(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return So(Oo),K(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Q(t),null;case 13:if(ci(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(l(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return z(ui),null;case 4:return K(),null;case 10:return So(t.type),null;case 22:case 23:return ci(t),vr(),null!==e&&z(Bo),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return So(Oo),null;default:return null}}function rs(e,t){switch(no(t),t.tag){case 3:So(Oo),K();break;case 26:case 27:case 5:Q(t);break;case 4:K();break;case 13:ci(t);break;case 19:z(ui);break;case 10:So(t.type);break;case 22:case 23:ci(t),vr(),null!==e&&z(Bo);break;case 24:So(Oo)}}function ls(e,t){try{var n=t.updateQueue,a=null!==n?n.lastEffect:null;if(null!==a){var o=a.next;n=o;do{if((n.tag&e)===e){a=void 0;var r=n.create,l=n.inst;a=r(),l.destroy=a}n=n.next}while(n!==o)}}catch(i){uu(t,t.return,i)}}function is(e,t,n){try{var a=t.updateQueue,o=null!==a?a.lastEffect:null;if(null!==o){var r=o.next;a=r;do{if((a.tag&e)===e){var l=a.inst,i=l.destroy;if(void 0!==i){l.destroy=void 0,o=t;var s=n,c=i;try{c()}catch(u){uu(o,s,u)}}}a=a.next}while(a!==r)}}catch(u){uu(t,t.return,u)}}function ss(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{mr(t,n)}catch(a){uu(e,e.return,a)}}}function cs(e,t,n){n.props=hi(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(a){uu(e,t,a)}}function us(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;default:a=e.stateNode}"function"===typeof n?e.refCleanup=n(a):n.current=a}}catch(o){uu(e,t,o)}}function ds(e,t){var n=e.ref,a=e.refCleanup;if(null!==n)if("function"===typeof a)try{a()}catch(o){uu(e,t,o)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(r){uu(e,t,r)}else n.current=null}function fs(e){var t=e.type,n=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break e;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(o){uu(e,e.return,o)}}function ms(e,t,n){try{var a=e.stateNode;!function(e,t,n,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,r=null,i=null,s=null,c=null,u=null,d=null;for(p in n){var f=n[p];if(n.hasOwnProperty(p)&&null!=f)switch(p){case"checked":case"value":break;case"defaultValue":c=f;default:a.hasOwnProperty(p)||Xu(e,t,p,null,a,f)}}for(var m in a){var p=a[m];if(f=n[m],a.hasOwnProperty(m)&&(null!=p||null!=f))switch(m){case"type":r=p;break;case"name":o=p;break;case"checked":u=p;break;case"defaultChecked":d=p;break;case"value":i=p;break;case"defaultValue":s=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(l(137,t));break;default:p!==f&&Xu(e,t,m,p,a,f)}}return void ht(e,i,s,c,u,d,r,o);case"select":for(r in p=i=s=m=null,n)if(c=n[r],n.hasOwnProperty(r)&&null!=c)switch(r){case"value":break;case"multiple":p=c;default:a.hasOwnProperty(r)||Xu(e,t,r,null,a,c)}for(o in a)if(r=a[o],c=n[o],a.hasOwnProperty(o)&&(null!=r||null!=c))switch(o){case"value":m=r;break;case"defaultValue":s=r;break;case"multiple":i=r;default:r!==c&&Xu(e,t,o,r,a,c)}return t=s,n=i,a=p,void(null!=m?bt(e,!!n,m,!1):!!a!==!!n&&(null!=t?bt(e,!!n,t,!0):bt(e,!!n,n?[]:"",!1)));case"textarea":for(s in p=m=null,n)if(o=n[s],n.hasOwnProperty(s)&&null!=o&&!a.hasOwnProperty(s))switch(s){case"value":case"children":break;default:Xu(e,t,s,null,a,o)}for(i in a)if(o=a[i],r=n[i],a.hasOwnProperty(i)&&(null!=o||null!=r))switch(i){case"value":m=o;break;case"defaultValue":p=o;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=o)throw Error(l(91));break;default:o!==r&&Xu(e,t,i,o,a,r)}return void kt(e,m,p);case"option":for(var g in n)if(m=n[g],n.hasOwnProperty(g)&&null!=m&&!a.hasOwnProperty(g))if("selected"===g)e.selected=!1;else Xu(e,t,g,null,a,m);for(c in a)if(m=a[c],p=n[c],a.hasOwnProperty(c)&&m!==p&&(null!=m||null!=p))if("selected"===c)e.selected=m&&"function"!==typeof m&&"symbol"!==typeof m;else Xu(e,t,c,m,a,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var h in n)m=n[h],n.hasOwnProperty(h)&&null!=m&&!a.hasOwnProperty(h)&&Xu(e,t,h,null,a,m);for(u in a)if(m=a[u],p=n[u],a.hasOwnProperty(u)&&m!==p&&(null!=m||null!=p))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=m)throw Error(l(137,t));break;default:Xu(e,t,u,m,a,p)}return;default:if(Et(t)){for(var y in n)m=n[y],n.hasOwnProperty(y)&&void 0!==m&&!a.hasOwnProperty(y)&&Ju(e,t,y,void 0,a,m);for(d in a)m=a[d],p=n[d],!a.hasOwnProperty(d)||m===p||void 0===m&&void 0===p||Ju(e,t,d,m,a,p);return}}for(var v in n)m=n[v],n.hasOwnProperty(v)&&null!=m&&!a.hasOwnProperty(v)&&Xu(e,t,v,null,a,m);for(f in a)m=a[f],p=n[f],!a.hasOwnProperty(f)||m===p||null==m&&null==p||Xu(e,t,f,m,a,p)}(a,e.type,n,t),a[Oe]=t}catch(o){uu(e,e.return,o)}}function ps(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&md(e.type)||4===e.tag}function gs(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ps(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&md(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function hs(e,t,n){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zu));else if(4!==a&&(27===a&&md(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(hs(e,t,n),e=e.sibling;null!==e;)hs(e,t,n),e=e.sibling}function ys(e,t,n){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==a&&(27===a&&md(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(ys(e,t,n),e=e.sibling;null!==e;)ys(e,t,n),e=e.sibling}function vs(e){var t=e.stateNode,n=e.memoizedProps;try{for(var a=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);ed(t,a,n),t[je]=e,t[Oe]=n}catch(r){uu(e,e.return,r)}}var bs=!1,ks=!1,Ss=!1,ws="function"===typeof WeakSet?WeakSet:Set,xs=null;function Ts(e,t,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:Is(e,n),4&a&&ls(5,n);break;case 1:if(Is(e,n),4&a)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(l){uu(n,n.return,l)}else{var o=hi(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(i){uu(n,n.return,i)}}64&a&&ss(n),512&a&&us(n,n.return);break;case 3:if(Is(e,n),64&a&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{mr(e,t)}catch(l){uu(n,n.return,l)}}break;case 27:null===t&&4&a&&vs(n);case 26:case 5:Is(e,n),null===t&&4&a&&fs(n),512&a&&us(n,n.return);break;case 12:Is(e,n);break;case 13:Is(e,n),4&a&&As(e,n),64&a&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var a=function(){t(),n.removeEventListener("DOMContentLoaded",a)};n.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}(e,n=pu.bind(null,n))));break;case 22:if(!(a=null!==n.memoizedState||bs)){t=null!==t&&null!==t.memoizedState||ks,o=bs;var r=ks;bs=a,(ks=t)&&!r?Rs(e,n,0!==(8772&n.subtreeFlags)):Is(e,n),bs=o,ks=r}break;case 30:break;default:Is(e,n)}}function Cs(e){var t=e.alternate;null!==t&&(e.alternate=null,Cs(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&ze(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Es=null,Ns=!1;function Ps(e,t,n){for(n=n.child;null!==n;)Ds(e,t,n),n=n.sibling}function Ds(e,t,n){if(de&&"function"===typeof de.onCommitFiberUnmount)try{de.onCommitFiberUnmount(ue,n)}catch(r){}switch(n.tag){case 26:ks||ds(n,t),Ps(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:ks||ds(n,t);var a=Es,o=Ns;md(n.type)&&(Es=n.stateNode,Ns=!1),Ps(e,t,n),Sd(n.stateNode),Es=a,Ns=o;break;case 5:ks||ds(n,t);case 6:if(a=Es,o=Ns,Es=null,Ps(e,t,n),Ns=o,null!==(Es=a))if(Ns)try{(9===Es.nodeType?Es.body:"HTML"===Es.nodeName?Es.ownerDocument.body:Es).removeChild(n.stateNode)}catch(l){uu(n,t,l)}else try{Es.removeChild(n.stateNode)}catch(l){uu(n,t,l)}break;case 18:null!==Es&&(Ns?(pd(9===(e=Es).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Pf(e)):pd(Es,n.stateNode));break;case 4:a=Es,o=Ns,Es=n.stateNode.containerInfo,Ns=!0,Ps(e,t,n),Es=a,Ns=o;break;case 0:case 11:case 14:case 15:ks||is(2,n,t),ks||is(4,n,t),Ps(e,t,n);break;case 1:ks||(ds(n,t),"function"===typeof(a=n.stateNode).componentWillUnmount&&cs(n,t,a)),Ps(e,t,n);break;case 21:Ps(e,t,n);break;case 22:ks=(a=ks)||null!==n.memoizedState,Ps(e,t,n),ks=a;break;default:Ps(e,t,n)}}function As(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Pf(e)}catch(n){uu(t,t.return,n)}}function Fs(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new ws),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new ws),t;default:throw Error(l(435,e.tag))}}(e);t.forEach(function(t){var a=gu.bind(null,e,t);n.has(t)||(n.add(t),t.then(a,a))})}function js(e,t){var n=t.deletions;if(null!==n)for(var a=0;a<n.length;a++){var o=n[a],r=e,i=t,s=i;e:for(;null!==s;){switch(s.tag){case 27:if(md(s.type)){Es=s.stateNode,Ns=!1;break e}break;case 5:Es=s.stateNode,Ns=!1;break e;case 3:case 4:Es=s.stateNode.containerInfo,Ns=!0;break e}s=s.return}if(null===Es)throw Error(l(160));Ds(r,i,o),Es=null,Ns=!1,null!==(r=o.alternate)&&(r.return=null),o.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Ls(t,e),t=t.sibling}var Os=null;function Ls(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:js(t,e),Ms(e),4&a&&(is(3,e,e.return),ls(3,e),is(5,e,e.return));break;case 1:js(t,e),Ms(e),512&a&&(ks||null===n||ds(n,n.return)),64&a&&bs&&(null!==(e=e.updateQueue)&&(null!==(a=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?a:n.concat(a))));break;case 26:var o=Os;if(js(t,e),Ms(e),512&a&&(ks||null===n||ds(n,n.return)),4&a){var r=null!==n?n.memoizedState:null;if(a=e.memoizedState,null===n)if(null===a)if(null===e.stateNode){e:{a=e.type,n=e.memoizedProps,o=o.ownerDocument||o;t:switch(a){case"title":(!(r=o.getElementsByTagName("title")[0])||r[Re]||r[je]||"http://www.w3.org/2000/svg"===r.namespaceURI||r.hasAttribute("itemprop"))&&(r=o.createElement(a),o.head.insertBefore(r,o.querySelector("head > title"))),ed(r,a,n),r[je]=e,$e(r),a=r;break e;case"link":var i=Rd("link","href",o).get(a+(n.href||""));if(i)for(var s=0;s<i.length;s++)if((r=i[s]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&r.getAttribute("rel")===(null==n.rel?null:n.rel)&&r.getAttribute("title")===(null==n.title?null:n.title)&&r.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){i.splice(s,1);break t}ed(r=o.createElement(a),a,n),o.head.appendChild(r);break;case"meta":if(i=Rd("meta","content",o).get(a+(n.content||"")))for(s=0;s<i.length;s++)if((r=i[s]).getAttribute("content")===(null==n.content?null:""+n.content)&&r.getAttribute("name")===(null==n.name?null:n.name)&&r.getAttribute("property")===(null==n.property?null:n.property)&&r.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&r.getAttribute("charset")===(null==n.charSet?null:n.charSet)){i.splice(s,1);break t}ed(r=o.createElement(a),a,n),o.head.appendChild(r);break;default:throw Error(l(468,a))}r[je]=e,$e(r),a=r}e.stateNode=a}else zd(o,e.type,e.stateNode);else e.stateNode=Ld(o,a,e.memoizedProps);else r!==a?(null===r?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):r.count--,null===a?zd(o,e.type,e.stateNode):Ld(o,a,e.memoizedProps)):null===a&&null!==e.stateNode&&ms(e,e.memoizedProps,n.memoizedProps)}break;case 27:js(t,e),Ms(e),512&a&&(ks||null===n||ds(n,n.return)),null!==n&&4&a&&ms(e,e.memoizedProps,n.memoizedProps);break;case 5:if(js(t,e),Ms(e),512&a&&(ks||null===n||ds(n,n.return)),32&e.flags){o=e.stateNode;try{wt(o,"")}catch(p){uu(e,e.return,p)}}4&a&&null!=e.stateNode&&ms(e,o=e.memoizedProps,null!==n?n.memoizedProps:o),1024&a&&(Ss=!0);break;case 6:if(js(t,e),Ms(e),4&a){if(null===e.stateNode)throw Error(l(162));a=e.memoizedProps,n=e.stateNode;try{n.nodeValue=a}catch(p){uu(e,e.return,p)}}break;case 3:if(_d=null,o=Os,Os=Td(t.containerInfo),js(t,e),Os=o,Ms(e),4&a&&null!==n&&n.memoizedState.isDehydrated)try{Pf(t.containerInfo)}catch(p){uu(e,e.return,p)}Ss&&(Ss=!1,Hs(e));break;case 4:a=Os,Os=Td(e.stateNode.containerInfo),js(t,e),Ms(e),Os=a;break;case 12:default:js(t,e),Ms(e);break;case 13:js(t,e),Ms(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(Sc=te()),4&a&&(null!==(a=e.updateQueue)&&(e.updateQueue=null,Fs(e,a)));break;case 22:o=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=bs,d=ks;if(bs=u||o,ks=d||c,js(t,e),ks=d,bs=u,Ms(e),8192&a)e:for(t=e.stateNode,t._visibility=o?-2&t._visibility:1|t._visibility,o&&(null===n||c||bs||ks||_s(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(r=c.stateNode,o)"function"===typeof(i=r.style).setProperty?i.setProperty("display","none","important"):i.display="none";else{s=c.stateNode;var f=c.memoizedProps.style,m=void 0!==f&&null!==f&&f.hasOwnProperty("display")?f.display:null;s.style.display=null==m||"boolean"===typeof m?"":(""+m).trim()}}catch(p){uu(c,c.return,p)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=o?"":c.memoizedProps}catch(p){uu(c,c.return,p)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&a&&(null!==(a=e.updateQueue)&&(null!==(n=a.retryQueue)&&(a.retryQueue=null,Fs(e,n))));break;case 19:js(t,e),Ms(e),4&a&&(null!==(a=e.updateQueue)&&(e.updateQueue=null,Fs(e,a)));case 30:case 21:}}function Ms(e){var t=e.flags;if(2&t){try{for(var n,a=e.return;null!==a;){if(ps(a)){n=a;break}a=a.return}if(null==n)throw Error(l(160));switch(n.tag){case 27:var o=n.stateNode;ys(e,gs(e),o);break;case 5:var r=n.stateNode;32&n.flags&&(wt(r,""),n.flags&=-33),ys(e,gs(e),r);break;case 3:case 4:var i=n.stateNode.containerInfo;hs(e,gs(e),i);break;default:throw Error(l(161))}}catch(s){uu(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Hs(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Hs(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Is(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Ts(e,t.alternate,t),t=t.sibling}function _s(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:is(4,t,t.return),_s(t);break;case 1:ds(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&cs(t,t.return,n),_s(t);break;case 27:Sd(t.stateNode);case 26:case 5:ds(t,t.return),_s(t);break;case 22:null===t.memoizedState&&_s(t);break;default:_s(t)}e=e.sibling}}function Rs(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var a=t.alternate,o=e,r=t,l=r.flags;switch(r.tag){case 0:case 11:case 15:Rs(o,r,n),ls(4,r);break;case 1:if(Rs(o,r,n),"function"===typeof(o=(a=r).stateNode).componentDidMount)try{o.componentDidMount()}catch(c){uu(a,a.return,c)}if(null!==(o=(a=r).updateQueue)){var i=a.stateNode;try{var s=o.shared.hiddenCallbacks;if(null!==s)for(o.shared.hiddenCallbacks=null,o=0;o<s.length;o++)fr(s[o],i)}catch(c){uu(a,a.return,c)}}n&&64&l&&ss(r),us(r,r.return);break;case 27:vs(r);case 26:case 5:Rs(o,r,n),n&&null===a&&4&l&&fs(r),us(r,r.return);break;case 12:Rs(o,r,n);break;case 13:Rs(o,r,n),n&&4&l&&As(o,r);break;case 22:null===r.memoizedState&&Rs(o,r,n),us(r,r.return);break;case 30:break;default:Rs(o,r,n)}t=t.sibling}}function zs(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Mo(n))}function Us(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Mo(e))}function Bs(e,t,n,a){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Vs(e,t,n,a),t=t.sibling}function Vs(e,t,n,a){var o=t.flags;switch(t.tag){case 0:case 11:case 15:Bs(e,t,n,a),2048&o&&ls(9,t);break;case 1:case 13:default:Bs(e,t,n,a);break;case 3:Bs(e,t,n,a),2048&o&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Mo(e)));break;case 12:if(2048&o){Bs(e,t,n,a),e=t.stateNode;try{var r=t.memoizedProps,l=r.id,i=r.onPostCommit;"function"===typeof i&&i(l,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(s){uu(t,t.return,s)}}else Bs(e,t,n,a);break;case 23:break;case 22:r=t.stateNode,l=t.alternate,null!==t.memoizedState?2&r._visibility?Bs(e,t,n,a):$s(e,t):2&r._visibility?Bs(e,t,n,a):(r._visibility|=2,Gs(e,t,n,a,0!==(10256&t.subtreeFlags))),2048&o&&zs(l,t);break;case 24:Bs(e,t,n,a),2048&o&&Us(t.alternate,t)}}function Gs(e,t,n,a,o){for(o=o&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var r=e,l=t,i=n,s=a,c=l.flags;switch(l.tag){case 0:case 11:case 15:Gs(r,l,i,s,o),ls(8,l);break;case 23:break;case 22:var u=l.stateNode;null!==l.memoizedState?2&u._visibility?Gs(r,l,i,s,o):$s(r,l):(u._visibility|=2,Gs(r,l,i,s,o)),o&&2048&c&&zs(l.alternate,l);break;case 24:Gs(r,l,i,s,o),o&&2048&c&&Us(l.alternate,l);break;default:Gs(r,l,i,s,o)}t=t.sibling}}function $s(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,a=t,o=a.flags;switch(a.tag){case 22:$s(n,a),2048&o&&zs(a.alternate,a);break;case 24:$s(n,a),2048&o&&Us(a.alternate,a);break;default:$s(n,a)}t=t.sibling}}var Ws=8192;function Ks(e){if(e.subtreeFlags&Ws)for(e=e.child;null!==e;)qs(e),e=e.sibling}function qs(e){switch(e.tag){case 26:Ks(e),e.flags&Ws&&null!==e.memoizedState&&function(e,t,n){if(null===Bd)throw Error(l(475));var a=Bd;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var o=Dd(n.href),r=e.querySelector(Ad(o));if(r)return null!==(e=r._p)&&"object"===typeof e&&"function"===typeof e.then&&(a.count++,a=Gd.bind(a),e.then(a,a)),t.state.loading|=4,t.instance=r,void $e(r);r=e.ownerDocument||e,n=Fd(n),(o=wd.get(o))&&Hd(n,o),$e(r=r.createElement("link"));var i=r;i._p=new Promise(function(e,t){i.onload=e,i.onerror=t}),ed(r,"link",n),t.instance=r}null===a.stylesheets&&(a.stylesheets=new Map),a.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(a.count++,t=Gd.bind(a),e.addEventListener("load",t),e.addEventListener("error",t))}}(Os,e.memoizedState,e.memoizedProps);break;case 5:default:Ks(e);break;case 3:case 4:var t=Os;Os=Td(e.stateNode.containerInfo),Ks(e),Os=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Ws,Ws=16777216,Ks(e),Ws=t):Ks(e))}}function Qs(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Ys(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var a=t[n];xs=a,Js(a,e)}Qs(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Zs(e),e=e.sibling}function Zs(e){switch(e.tag){case 0:case 11:case 15:Ys(e),2048&e.flags&&is(9,e,e.return);break;case 3:case 12:default:Ys(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,Xs(e)):Ys(e)}}function Xs(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var a=t[n];xs=a,Js(a,e)}Qs(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:is(8,t,t.return),Xs(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,Xs(t));break;default:Xs(t)}e=e.sibling}}function Js(e,t){for(;null!==xs;){var n=xs;switch(n.tag){case 0:case 11:case 15:is(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var a=n.memoizedState.cachePool.pool;null!=a&&a.refCount++}break;case 24:Mo(n.memoizedState.cache)}if(null!==(a=n.child))a.return=n,xs=a;else e:for(n=e;null!==xs;){var o=(a=xs).sibling,r=a.return;if(Cs(a),a===n){xs=null;break e}if(null!==o){o.return=r,xs=o;break e}xs=r}}}var ec={getCacheForType:function(e){var t=No(Oo),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},tc="function"===typeof WeakMap?WeakMap:Map,nc=0,ac=null,oc=null,rc=0,lc=0,ic=null,sc=!1,cc=!1,uc=!1,dc=0,fc=0,mc=0,pc=0,gc=0,hc=0,yc=0,vc=null,bc=null,kc=!1,Sc=0,wc=1/0,xc=null,Tc=null,Cc=0,Ec=null,Nc=null,Pc=0,Dc=0,Ac=null,Fc=null,jc=0,Oc=null;function Lc(){if(0!==(2&nc)&&0!==rc)return rc&-rc;if(null!==L.T){return 0!==_o?_o:Du()}return Ae()}function Mc(){0===hc&&(hc=0===(536870912&rc)||ro?we():536870912);var e=oi.current;return null!==e&&(e.flags|=32),hc}function Hc(e,t,n){(e!==ac||2!==lc&&9!==lc)&&null===e.cancelPendingCommit||(Vc(e,0),zc(e,rc,hc,!1)),Ce(e,n),0!==(2&nc)&&e===ac||(e===ac&&(0===(2&nc)&&(pc|=n),4===fc&&zc(e,rc,hc,!1)),wu(e))}function Ic(e,t,n){if(0!==(6&nc))throw Error(l(327));for(var a=!n&&0===(124&t)&&0===(t&e.expiredLanes)||ke(e,t),o=a?function(e,t){var n=nc;nc|=2;var a=$c(),o=Wc();ac!==e||rc!==t?(xc=null,wc=te()+500,Vc(e,t)):cc=ke(e,t);e:for(;;)try{if(0!==lc&&null!==oc){t=oc;var r=ic;t:switch(lc){case 1:lc=0,ic=null,Jc(e,t,r,1);break;case 2:case 9:if(Yo(r)){lc=0,ic=null,Xc(t);break}t=function(){2!==lc&&9!==lc||ac!==e||(lc=7),wu(e)},r.then(t,t);break e;case 3:lc=7;break e;case 4:lc=5;break e;case 7:Yo(r)?(lc=0,ic=null,Xc(t)):(lc=0,ic=null,Jc(e,t,r,7));break;case 5:var i=null;switch(oc.tag){case 26:i=oc.memoizedState;case 5:case 27:var s=oc;if(!i||Ud(i)){lc=0,ic=null;var c=s.sibling;if(null!==c)oc=c;else{var u=s.return;null!==u?(oc=u,eu(u)):oc=null}break t}}lc=0,ic=null,Jc(e,t,r,5);break;case 6:lc=0,ic=null,Jc(e,t,r,6);break;case 8:Bc(),fc=6;break e;default:throw Error(l(462))}}Yc();break}catch(d){Gc(e,d)}return bo=vo=null,L.H=a,L.A=o,nc=n,null!==oc?0:(ac=null,rc=0,Pa(),fc)}(e,t):qc(e,t,!0),r=a;;){if(0===o){cc&&!a&&zc(e,t,0,!1);break}if(n=e.current.alternate,!r||Rc(n)){if(2===o){if(r=t,e.errorRecoveryDisabledLanes&r)var i=0;else i=0!==(i=-536870913&e.pendingLanes)?i:536870912&i?536870912:0;if(0!==i){t=i;e:{var s=e;o=vc;var c=s.current.memoizedState.isDehydrated;if(c&&(Vc(s,i).flags|=256),2!==(i=qc(s,i,!1))){if(uc&&!c){s.errorRecoveryDisabledLanes|=r,pc|=r,o=4;break e}r=bc,bc=o,null!==r&&(null===bc?bc=r:bc.push.apply(bc,r))}o=i}if(r=!1,2!==o)continue}}if(1===o){Vc(e,0),zc(e,t,0,!0);break}e:{switch(a=e,r=o){case 0:case 1:throw Error(l(345));case 4:if((4194048&t)!==t)break;case 6:zc(a,t,hc,!sc);break e;case 2:bc=null;break;case 3:case 5:break;default:throw Error(l(329))}if((62914560&t)===t&&10<(o=Sc+300-te())){if(zc(a,t,hc,!sc),0!==be(a,0,!0))break e;a.timeoutHandle=sd(_c.bind(null,a,n,bc,xc,kc,t,hc,pc,yc,sc,r,2,-0,0),o)}else _c(a,n,bc,xc,kc,t,hc,pc,yc,sc,r,0,-0,0)}break}o=qc(e,t,!1),r=!1}wu(e)}function _c(e,t,n,a,o,r,i,s,c,u,d,f,m,p){if(e.timeoutHandle=-1,(8192&(f=t.subtreeFlags)||16785408===(16785408&f))&&(Bd={stylesheets:null,count:0,unsuspend:Vd},qs(t),null!==(f=function(){if(null===Bd)throw Error(l(475));var e=Bd;return e.stylesheets&&0===e.count&&Wd(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Wd(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=f(nu.bind(null,e,t,r,n,a,o,i,s,c,d,1,m,p)),void zc(e,r,i,!u);nu(e,t,r,n,a,o,i,s,c)}function Rc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var a=0;a<n.length;a++){var o=n[a],r=o.getSnapshot;o=o.value;try{if(!Qn(r(),o))return!1}catch(l){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function zc(e,t,n,a){t&=~gc,t&=~pc,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var o=t;0<o;){var r=31-me(o),l=1<<r;a[r]=-1,o&=~l}0!==n&&Ee(e,n,t)}function Uc(){return 0!==(6&nc)||(xu(0,!1),!1)}function Bc(){if(null!==oc){if(0===lc)var e=oc.return;else bo=vo=null,_r(e=oc),Ql=null,Yl=0,e=oc;for(;null!==e;)rs(e.alternate,e),e=e.return;oc=null}}function Vc(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,cd(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Bc(),ac=e,oc=n=_a(e.current,null),rc=t,lc=0,ic=null,sc=!1,cc=ke(e,t),uc=!1,yc=hc=gc=pc=mc=fc=0,bc=vc=null,kc=!1,0!==(8&t)&&(t|=32&t);var a=e.entangledLanes;if(0!==a)for(e=e.entanglements,a&=t;0<a;){var o=31-me(a),r=1<<o;t|=e[o],a&=~r}return dc=t,Pa(),n}function Gc(e,t){kr=null,L.H=$l,t===Wo||t===qo?(t=er(),lc=3):t===Ko?(t=er(),lc=4):lc=t===Ei?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,ic=t,null===oc&&(fc=1,Si(e,Ta(t,e.current)))}function $c(){var e=L.H;return L.H=$l,null===e?$l:e}function Wc(){var e=L.A;return L.A=ec,e}function Kc(){fc=4,sc||(4194048&rc)!==rc&&null!==oi.current||(cc=!0),0===(134217727&mc)&&0===(134217727&pc)||null===ac||zc(ac,rc,hc,!1)}function qc(e,t,n){var a=nc;nc|=2;var o=$c(),r=Wc();ac===e&&rc===t||(xc=null,Vc(e,t)),t=!1;var l=fc;e:for(;;)try{if(0!==lc&&null!==oc){var i=oc,s=ic;switch(lc){case 8:Bc(),l=6;break e;case 3:case 2:case 9:case 6:null===oi.current&&(t=!0);var c=lc;if(lc=0,ic=null,Jc(e,i,s,c),n&&cc){l=0;break e}break;default:c=lc,lc=0,ic=null,Jc(e,i,s,c)}}Qc(),l=fc;break}catch(u){Gc(e,u)}return t&&e.shellSuspendCounter++,bo=vo=null,nc=a,L.H=o,L.A=r,null===oc&&(ac=null,rc=0,Pa()),l}function Qc(){for(;null!==oc;)Zc(oc)}function Yc(){for(;null!==oc&&!J();)Zc(oc)}function Zc(e){var t=Zi(e.alternate,e,dc);e.memoizedProps=e.pendingProps,null===t?eu(e):oc=t}function Xc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Hi(n,t,t.pendingProps,t.type,void 0,rc);break;case 11:t=Hi(n,t,t.pendingProps,t.type.render,t.ref,rc);break;case 5:_r(t);default:rs(n,t),t=Zi(n,t=oc=Ra(t,dc),dc)}e.memoizedProps=e.pendingProps,null===t?eu(e):oc=t}function Jc(e,t,n,a){bo=vo=null,_r(t),Ql=null,Yl=0;var o=t.return;try{if(function(e,t,n,a,o){if(n.flags|=32768,null!==a&&"object"===typeof a&&"function"===typeof a.then){if(null!==(t=n.alternate)&&To(t,n,o,!0),null!==(n=oi.current)){switch(n.tag){case 13:return null===ri?Kc():null===n.alternate&&0===fc&&(fc=3),n.flags&=-257,n.flags|=65536,n.lanes=o,a===Qo?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([a]):t.add(a),du(e,a,o)),!1;case 22:return n.flags|=65536,a===Qo?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([a]):n.add(a),du(e,a,o)),!1}throw Error(l(435,n.tag))}return du(e,a,o),Kc(),!1}if(ro)return null!==(t=oi.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=o,a!==so&&ho(Ta(e=Error(l(422),{cause:a}),n))):(a!==so&&ho(Ta(t=Error(l(423),{cause:a}),n)),(e=e.current.alternate).flags|=65536,o&=-o,e.lanes|=o,a=Ta(a,n),sr(e,o=xi(e.stateNode,a,o)),4!==fc&&(fc=2)),!1;var r=Error(l(520),{cause:a});if(r=Ta(r,n),null===vc?vc=[r]:vc.push(r),4!==fc&&(fc=2),null===t)return!0;a=Ta(a,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=o&-o,n.lanes|=e,sr(n,e=xi(n.stateNode,a,e)),!1;case 1:if(t=n.type,r=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==r&&"function"===typeof r.componentDidCatch&&(null===Tc||!Tc.has(r))))return n.flags|=65536,o&=-o,n.lanes|=o,Ci(o=Ti(o),e,n,a),sr(n,o),!1}n=n.return}while(null!==n);return!1}(e,o,t,n,rc))return fc=1,Si(e,Ta(n,e.current)),void(oc=null)}catch(r){if(null!==o)throw oc=o,r;return fc=1,Si(e,Ta(n,e.current)),void(oc=null)}32768&t.flags?(ro||1===a?e=!0:cc||0!==(536870912&rc)?e=!1:(sc=e=!0,(2===a||9===a||3===a||6===a)&&(null!==(a=oi.current)&&13===a.tag&&(a.flags|=16384))),tu(t,e)):eu(t)}function eu(e){var t=e;do{if(0!==(32768&t.flags))return void tu(t,sc);e=t.return;var n=as(t.alternate,t,dc);if(null!==n)return void(oc=n);if(null!==(t=t.sibling))return void(oc=t);oc=t=e}while(null!==t);0===fc&&(fc=5)}function tu(e,t){do{var n=os(e.alternate,e);if(null!==n)return n.flags&=32767,void(oc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(oc=e);oc=e=n}while(null!==e);fc=6,oc=null}function nu(e,t,n,a,o,r,i,s,c){e.cancelPendingCommit=null;do{iu()}while(0!==Cc);if(0!==(6&nc))throw Error(l(327));if(null!==t){if(t===e.current)throw Error(l(177));if(r=t.lanes|t.childLanes,function(e,t,n,a,o,r){var l=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var i=e.entanglements,s=e.expirationTimes,c=e.hiddenUpdates;for(n=l&~n;0<n;){var u=31-me(n),d=1<<u;i[u]=0,s[u]=-1;var f=c[u];if(null!==f)for(c[u]=null,u=0;u<f.length;u++){var m=f[u];null!==m&&(m.lane&=-536870913)}n&=~d}0!==a&&Ee(e,a,0),0!==r&&0===o&&0!==e.tag&&(e.suspendedLanes|=r&~(l&~t))}(e,n,r|=Na,i,s,c),e===ac&&(oc=ac=null,rc=0),Nc=t,Ec=e,Pc=n,Dc=r,Ac=o,Fc=a,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,Z(re,function(){return su(),null})):(e.callbackNode=null,e.callbackPriority=0),a=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||a){a=L.T,L.T=null,o=M.p,M.p=2,i=nc,nc|=4;try{!function(e,t){if(e=e.containerInfo,td=nf,ta(e=ea(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var a=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(a&&0!==a.rangeCount){n=a.anchorNode;var o=a.anchorOffset,r=a.focusNode;a=a.focusOffset;try{n.nodeType,r.nodeType}catch(h){n=null;break e}var i=0,s=-1,c=-1,u=0,d=0,f=e,m=null;t:for(;;){for(var p;f!==n||0!==o&&3!==f.nodeType||(s=i+o),f!==r||0!==a&&3!==f.nodeType||(c=i+a),3===f.nodeType&&(i+=f.nodeValue.length),null!==(p=f.firstChild);)m=f,f=p;for(;;){if(f===e)break t;if(m===n&&++u===o&&(s=i),m===r&&++d===a&&(c=i),null!==(p=f.nextSibling))break;m=(f=m).parentNode}f=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(nd={focusedElem:e,selectionRange:n},nf=!1,xs=t;null!==xs;)if(e=(t=xs).child,0!==(1024&t.subtreeFlags)&&null!==e)e.return=t,xs=e;else for(;null!==xs;){switch(r=(t=xs).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==r){e=void 0,n=t,o=r.memoizedProps,r=r.memoizedState,a=n.stateNode;try{var g=hi(n.type,o,(n.elementType,n.type));e=a.getSnapshotBeforeUpdate(g,r),a.__reactInternalSnapshotBeforeUpdate=e}catch(y){uu(n,n.return,y)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))gd(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":gd(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(l(163))}if(null!==(e=t.sibling)){e.return=t.return,xs=e;break}xs=t.return}}(e,t)}finally{nc=i,M.p=o,L.T=a}}Cc=1,au(),ou(),ru()}}function au(){if(1===Cc){Cc=0;var e=Ec,t=Nc,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=L.T,L.T=null;var a=M.p;M.p=2;var o=nc;nc|=4;try{Ls(t,e);var r=nd,l=ea(e.containerInfo),i=r.focusedElem,s=r.selectionRange;if(l!==i&&i&&i.ownerDocument&&Jn(i.ownerDocument.documentElement,i)){if(null!==s&&ta(i)){var c=s.start,u=s.end;if(void 0===u&&(u=c),"selectionStart"in i)i.selectionStart=c,i.selectionEnd=Math.min(u,i.value.length);else{var d=i.ownerDocument||document,f=d&&d.defaultView||window;if(f.getSelection){var m=f.getSelection(),p=i.textContent.length,g=Math.min(s.start,p),h=void 0===s.end?g:Math.min(s.end,p);!m.extend&&g>h&&(l=h,h=g,g=l);var y=Xn(i,g),v=Xn(i,h);if(y&&v&&(1!==m.rangeCount||m.anchorNode!==y.node||m.anchorOffset!==y.offset||m.focusNode!==v.node||m.focusOffset!==v.offset)){var b=d.createRange();b.setStart(y.node,y.offset),m.removeAllRanges(),g>h?(m.addRange(b),m.extend(v.node,v.offset)):(b.setEnd(v.node,v.offset),m.addRange(b))}}}}for(d=[],m=i;m=m.parentNode;)1===m.nodeType&&d.push({element:m,left:m.scrollLeft,top:m.scrollTop});for("function"===typeof i.focus&&i.focus(),i=0;i<d.length;i++){var k=d[i];k.element.scrollLeft=k.left,k.element.scrollTop=k.top}}nf=!!td,nd=td=null}finally{nc=o,M.p=a,L.T=n}}e.current=t,Cc=2}}function ou(){if(2===Cc){Cc=0;var e=Ec,t=Nc,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=L.T,L.T=null;var a=M.p;M.p=2;var o=nc;nc|=4;try{Ts(e,t.alternate,t)}finally{nc=o,M.p=a,L.T=n}}Cc=3}}function ru(){if(4===Cc||3===Cc){Cc=0,ee();var e=Ec,t=Nc,n=Pc,a=Fc;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Cc=5:(Cc=0,Nc=Ec=null,lu(e,e.pendingLanes));var o=e.pendingLanes;if(0===o&&(Tc=null),De(n),t=t.stateNode,de&&"function"===typeof de.onCommitFiberRoot)try{de.onCommitFiberRoot(ue,t,void 0,128===(128&t.current.flags))}catch(s){}if(null!==a){t=L.T,o=M.p,M.p=2,L.T=null;try{for(var r=e.onRecoverableError,l=0;l<a.length;l++){var i=a[l];r(i.value,{componentStack:i.stack})}}finally{L.T=t,M.p=o}}0!==(3&Pc)&&iu(),wu(e),o=e.pendingLanes,0!==(4194090&n)&&0!==(42&o)?e===Oc?jc++:(jc=0,Oc=e):jc=0,xu(0,!1)}}function lu(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Mo(t)))}function iu(e){return au(),ou(),ru(),su()}function su(){if(5!==Cc)return!1;var e=Ec,t=Dc;Dc=0;var n=De(Pc),a=L.T,o=M.p;try{M.p=32>n?32:n,L.T=null,n=Ac,Ac=null;var r=Ec,i=Pc;if(Cc=0,Nc=Ec=null,Pc=0,0!==(6&nc))throw Error(l(331));var s=nc;if(nc|=4,Zs(r.current),Vs(r,r.current,i,n),nc=s,xu(0,!1),de&&"function"===typeof de.onPostCommitFiberRoot)try{de.onPostCommitFiberRoot(ue,r)}catch(c){}return!0}finally{M.p=o,L.T=a,lu(e,t)}}function cu(e,t,n){t=Ta(n,t),null!==(e=lr(e,t=xi(e.stateNode,t,2),2))&&(Ce(e,2),wu(e))}function uu(e,t,n){if(3===e.tag)cu(e,e,n);else for(;null!==t;){if(3===t.tag){cu(t,e,n);break}if(1===t.tag){var a=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof a.componentDidCatch&&(null===Tc||!Tc.has(a))){e=Ta(n,e),null!==(a=lr(t,n=Ti(2),2))&&(Ci(n,a,t,e),Ce(a,2),wu(a));break}}t=t.return}}function du(e,t,n){var a=e.pingCache;if(null===a){a=e.pingCache=new tc;var o=new Set;a.set(t,o)}else void 0===(o=a.get(t))&&(o=new Set,a.set(t,o));o.has(n)||(uc=!0,o.add(n),e=fu.bind(null,e,t,n),t.then(e,e))}function fu(e,t,n){var a=e.pingCache;null!==a&&a.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,ac===e&&(rc&n)===n&&(4===fc||3===fc&&(62914560&rc)===rc&&300>te()-Sc?0===(2&nc)&&Vc(e,0):gc|=n,yc===rc&&(yc=0)),wu(e)}function mu(e,t){0===t&&(t=xe()),null!==(e=Fa(e,t))&&(Ce(e,t),wu(e))}function pu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),mu(e,n)}function gu(e,t){var n=0;switch(e.tag){case 13:var a=e.stateNode,o=e.memoizedState;null!==o&&(n=o.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(l(314))}null!==a&&a.delete(t),mu(e,n)}var hu=null,yu=null,vu=!1,bu=!1,ku=!1,Su=0;function wu(e){e!==yu&&null===e.next&&(null===yu?hu=yu=e:yu=yu.next=e),bu=!0,vu||(vu=!0,dd(function(){0!==(6&nc)?Z(ae,Tu):Cu()}))}function xu(e,t){if(!ku&&bu){ku=!0;do{for(var n=!1,a=hu;null!==a;){if(!t)if(0!==e){var o=a.pendingLanes;if(0===o)var r=0;else{var l=a.suspendedLanes,i=a.pingedLanes;r=(1<<31-me(42|e)+1)-1,r=201326741&(r&=o&~(l&~i))?201326741&r|1:r?2|r:0}0!==r&&(n=!0,Pu(a,r))}else r=rc,0===(3&(r=be(a,a===ac?r:0,null!==a.cancelPendingCommit||-1!==a.timeoutHandle)))||ke(a,r)||(n=!0,Pu(a,r));a=a.next}}while(n);ku=!1}}function Tu(){Cu()}function Cu(){bu=vu=!1;var e=0;0!==Su&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==id&&(id=e,!0);return id=null,!1}()&&(e=Su),Su=0);for(var t=te(),n=null,a=hu;null!==a;){var o=a.next,r=Eu(a,t);0===r?(a.next=null,null===n?hu=o:n.next=o,null===o&&(yu=n)):(n=a,(0!==e||0!==(3&r))&&(bu=!0)),a=o}xu(e,!1)}function Eu(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,o=e.expirationTimes,r=-62914561&e.pendingLanes;0<r;){var l=31-me(r),i=1<<l,s=o[l];-1===s?0!==(i&n)&&0===(i&a)||(o[l]=Se(i,t)):s<=t&&(e.expiredLanes|=i),r&=~i}if(n=rc,n=be(e,e===(t=ac)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),a=e.callbackNode,0===n||e===t&&(2===lc||9===lc)||null!==e.cancelPendingCommit)return null!==a&&null!==a&&X(a),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||ke(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==a&&X(a),De(n)){case 2:case 8:n=oe;break;case 32:default:n=re;break;case 268435456:n=ie}return a=Nu.bind(null,e),n=Z(n,a),e.callbackPriority=t,e.callbackNode=n,t}return null!==a&&null!==a&&X(a),e.callbackPriority=2,e.callbackNode=null,2}function Nu(e,t){if(0!==Cc&&5!==Cc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(iu()&&e.callbackNode!==n)return null;var a=rc;return 0===(a=be(e,e===ac?a:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Ic(e,a,t),Eu(e,te()),null!=e.callbackNode&&e.callbackNode===n?Nu.bind(null,e):null)}function Pu(e,t){if(iu())return null;Ic(e,t,!0)}function Du(){return 0===Su&&(Su=we()),Su}function Au(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Dt(""+e)}function Fu(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var ju=0;ju<Sa.length;ju++){var Ou=Sa[ju];wa(Ou.toLowerCase(),"on"+(Ou[0].toUpperCase()+Ou.slice(1)))}wa(ma,"onAnimationEnd"),wa(pa,"onAnimationIteration"),wa(ga,"onAnimationStart"),wa("dblclick","onDoubleClick"),wa("focusin","onFocus"),wa("focusout","onBlur"),wa(ha,"onTransitionRun"),wa(ya,"onTransitionStart"),wa(va,"onTransitionCancel"),wa(ba,"onTransitionEnd"),Qe("onMouseEnter",["mouseout","mouseover"]),Qe("onMouseLeave",["mouseout","mouseover"]),Qe("onPointerEnter",["pointerout","pointerover"]),Qe("onPointerLeave",["pointerout","pointerover"]),qe("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),qe("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),qe("onBeforeInput",["compositionend","keypress","textInput","paste"]),qe("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),qe("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),qe("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mu=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Lu));function Hu(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var a=e[n],o=a.event;a=a.listeners;e:{var r=void 0;if(t)for(var l=a.length-1;0<=l;l--){var i=a[l],s=i.instance,c=i.currentTarget;if(i=i.listener,s!==r&&o.isPropagationStopped())break e;r=i,o.currentTarget=c;try{r(o)}catch(u){yi(u)}o.currentTarget=null,r=s}else for(l=0;l<a.length;l++){if(s=(i=a[l]).instance,c=i.currentTarget,i=i.listener,s!==r&&o.isPropagationStopped())break e;r=i,o.currentTarget=c;try{r(o)}catch(u){yi(u)}o.currentTarget=null,r=s}}}}function Iu(e,t){var n=t[Me];void 0===n&&(n=t[Me]=new Set);var a=e+"__bubble";n.has(a)||(Uu(t,e,2,!1),n.add(a))}function _u(e,t,n){var a=0;t&&(a|=4),Uu(n,e,a,t)}var Ru="_reactListening"+Math.random().toString(36).slice(2);function zu(e){if(!e[Ru]){e[Ru]=!0,We.forEach(function(t){"selectionchange"!==t&&(Mu.has(t)||_u(t,!1,e),_u(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ru]||(t[Ru]=!0,_u("selectionchange",!1,t))}}function Uu(e,t,n,a){switch(uf(t)){case 2:var o=af;break;case 8:o=of;break;default:o=rf}n=o.bind(null,t,n,e),o=void 0,!Rt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),a?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Bu(e,t,n,a,o){var r=a;if(0===(1&t)&&0===(2&t)&&null!==a)e:for(;;){if(null===a)return;var l=a.tag;if(3===l||4===l){var i=a.stateNode.containerInfo;if(i===o)break;if(4===l)for(l=a.return;null!==l;){var c=l.tag;if((3===c||4===c)&&l.stateNode.containerInfo===o)return;l=l.return}for(;null!==i;){if(null===(l=Ue(i)))return;if(5===(c=l.tag)||6===c||26===c||27===c){a=r=l;continue e}i=i.parentNode}}a=a.return}Ht(function(){var a=r,o=Ft(n),l=[];e:{var i=ka.get(e);if(void 0!==i){var c=Jt,u=e;switch(e){case"keypress":if(0===$t(n))break e;case"keydown":case"keyup":c=gn;break;case"focusin":u="focus",c=rn;break;case"focusout":u="blur",c=rn;break;case"beforeblur":case"afterblur":c=rn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=an;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=on;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=yn;break;case ma:case pa:case ga:c=ln;break;case ba:c=vn;break;case"scroll":case"scrollend":c=tn;break;case"wheel":c=bn;break;case"copy":case"cut":case"paste":c=sn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=hn;break;case"toggle":case"beforetoggle":c=kn}var d=0!==(4&t),f=!d&&("scroll"===e||"scrollend"===e),m=d?null!==i?i+"Capture":null:i;d=[];for(var p,g=a;null!==g;){var h=g;if(p=h.stateNode,5!==(h=h.tag)&&26!==h&&27!==h||null===p||null===m||null!=(h=It(g,m))&&d.push(Vu(g,h,p)),f)break;g=g.return}0<d.length&&(i=new c(i,u,null,n,o),l.push({event:i,listeners:d}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(i="mouseover"===e||"pointerover"===e)||n===At||!(u=n.relatedTarget||n.fromElement)||!Ue(u)&&!u[Le])&&(c||i)&&(i=o.window===o?o:(i=o.ownerDocument)?i.defaultView||i.parentWindow:window,c?(c=a,null!==(u=(u=n.relatedTarget||n.toElement)?Ue(u):null)&&(f=s(u),d=u.tag,u!==f||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=a),c!==u)){if(d=an,h="onMouseLeave",m="onMouseEnter",g="mouse","pointerout"!==e&&"pointerover"!==e||(d=hn,h="onPointerLeave",m="onPointerEnter",g="pointer"),f=null==c?i:Ve(c),p=null==u?i:Ve(u),(i=new d(h,g+"leave",c,n,o)).target=f,i.relatedTarget=p,h=null,Ue(o)===a&&((d=new d(m,g+"enter",u,n,o)).target=p,d.relatedTarget=f,h=d),f=h,c&&u)e:{for(m=u,g=0,p=d=c;p;p=$u(p))g++;for(p=0,h=m;h;h=$u(h))p++;for(;0<g-p;)d=$u(d),g--;for(;0<p-g;)m=$u(m),p--;for(;g--;){if(d===m||null!==m&&d===m.alternate)break e;d=$u(d),m=$u(m)}d=null}else d=null;null!==c&&Wu(l,i,c,d,!1),null!==u&&null!==f&&Wu(l,f,u,d,!0)}if("select"===(c=(i=a?Ve(a):window).nodeName&&i.nodeName.toLowerCase())||"input"===c&&"file"===i.type)var y=_n;else if(jn(i))if(Rn)y=qn;else{y=Wn;var v=$n}else!(c=i.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==i.type&&"radio"!==i.type?a&&Et(a.elementType)&&(y=_n):y=Kn;switch(y&&(y=y(e,a))?On(l,y,n,o):(v&&v(e,i,a),"focusout"===e&&a&&"number"===i.type&&null!=a.memoizedProps.value&&vt(i,"number",i.value)),v=a?Ve(a):window,e){case"focusin":(jn(v)||"true"===v.contentEditable)&&(aa=v,oa=a,ra=null);break;case"focusout":ra=oa=aa=null;break;case"mousedown":la=!0;break;case"contextmenu":case"mouseup":case"dragend":la=!1,ia(l,n,o);break;case"selectionchange":if(na)break;case"keydown":case"keyup":ia(l,n,o)}var b;if(wn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else An?Pn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Cn&&"ko"!==n.locale&&(An||"onCompositionStart"!==k?"onCompositionEnd"===k&&An&&(b=Gt()):(Bt="value"in(Ut=o)?Ut.value:Ut.textContent,An=!0)),0<(v=Gu(a,k)).length&&(k=new cn(k,e,null,n,o),l.push({event:k,listeners:v}),b?k.data=b:null!==(b=Dn(n))&&(k.data=b))),(b=Tn?function(e,t){switch(e){case"compositionend":return Dn(t);case"keypress":return 32!==t.which?null:(Nn=!0,En);case"textInput":return(e=t.data)===En&&Nn?null:e;default:return null}}(e,n):function(e,t){if(An)return"compositionend"===e||!wn&&Pn(e,t)?(e=Gt(),Vt=Bt=Ut=null,An=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Cn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(k=Gu(a,"onBeforeInput")).length&&(v=new cn("onBeforeInput","beforeinput",null,n,o),l.push({event:v,listeners:k}),v.data=b)),function(e,t,n,a,o){if("submit"===t&&n&&n.stateNode===o){var r=Au((o[Oe]||null).action),l=a.submitter;l&&null!==(t=(t=l[Oe]||null)?Au(t.formAction):l.getAttribute("formAction"))&&(r=t,l=null);var i=new Jt("action","action",null,a,o);e.push({event:i,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(0!==Su){var e=l?Fu(o,l):new FormData(o);Fl(n,{pending:!0,data:e,method:o.method,action:r},null,e)}}else"function"===typeof r&&(i.preventDefault(),e=l?Fu(o,l):new FormData(o),Fl(n,{pending:!0,data:e,method:o.method,action:r},r,e))},currentTarget:o}]})}}(l,e,a,n,o)}Hu(l,t)})}function Vu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gu(e,t){for(var n=t+"Capture",a=[];null!==e;){var o=e,r=o.stateNode;if(5!==(o=o.tag)&&26!==o&&27!==o||null===r||(null!=(o=It(e,n))&&a.unshift(Vu(e,o,r)),null!=(o=It(e,t))&&a.push(Vu(e,o,r))),3===e.tag)return a;e=e.return}return[]}function $u(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Wu(e,t,n,a,o){for(var r=t._reactName,l=[];null!==n&&n!==a;){var i=n,s=i.alternate,c=i.stateNode;if(i=i.tag,null!==s&&s===a)break;5!==i&&26!==i&&27!==i||null===c||(s=c,o?null!=(c=It(n,r))&&l.unshift(Vu(n,c,s)):o||null!=(c=It(n,r))&&l.push(Vu(n,c,s))),n=n.return}0!==l.length&&e.push({event:t,listeners:l})}var Ku=/\r\n?/g,qu=/\u0000|\uFFFD/g;function Qu(e){return("string"===typeof e?e:""+e).replace(Ku,"\n").replace(qu,"")}function Yu(e,t){return t=Qu(t),Qu(e)===t}function Zu(){}function Xu(e,t,n,a,o,r){switch(n){case"children":"string"===typeof a?"body"===t||"textarea"===t&&""===a||wt(e,a):("number"===typeof a||"bigint"===typeof a)&&"body"!==t&&wt(e,""+a);break;case"className":nt(e,"class",a);break;case"tabIndex":nt(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":nt(e,n,a);break;case"style":Ct(e,a,r);break;case"data":if("object"!==t){nt(e,"data",a);break}case"src":case"href":if(""===a&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==a||"function"===typeof a||"symbol"===typeof a||"boolean"===typeof a){e.removeAttribute(n);break}a=Dt(""+a),e.setAttribute(n,a);break;case"action":case"formAction":if("function"===typeof a){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof r&&("formAction"===n?("input"!==t&&Xu(e,t,"name",o.name,o,null),Xu(e,t,"formEncType",o.formEncType,o,null),Xu(e,t,"formMethod",o.formMethod,o,null),Xu(e,t,"formTarget",o.formTarget,o,null)):(Xu(e,t,"encType",o.encType,o,null),Xu(e,t,"method",o.method,o,null),Xu(e,t,"target",o.target,o,null))),null==a||"symbol"===typeof a||"boolean"===typeof a){e.removeAttribute(n);break}a=Dt(""+a),e.setAttribute(n,a);break;case"onClick":null!=a&&(e.onclick=Zu);break;case"onScroll":null!=a&&Iu("scroll",e);break;case"onScrollEnd":null!=a&&Iu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=a){if("object"!==typeof a||!("__html"in a))throw Error(l(61));if(null!=(n=a.__html)){if(null!=o.children)throw Error(l(60));e.innerHTML=n}}break;case"multiple":e.multiple=a&&"function"!==typeof a&&"symbol"!==typeof a;break;case"muted":e.muted=a&&"function"!==typeof a&&"symbol"!==typeof a;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==a||"function"===typeof a||"boolean"===typeof a||"symbol"===typeof a){e.removeAttribute("xlink:href");break}n=Dt(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=a&&"function"!==typeof a&&"symbol"!==typeof a?e.setAttribute(n,""+a):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&"function"!==typeof a&&"symbol"!==typeof a?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===a?e.setAttribute(n,""):!1!==a&&null!=a&&"function"!==typeof a&&"symbol"!==typeof a?e.setAttribute(n,a):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&!isNaN(a)&&1<=a?e.setAttribute(n,a):e.removeAttribute(n);break;case"rowSpan":case"start":null==a||"function"===typeof a||"symbol"===typeof a||isNaN(a)?e.removeAttribute(n):e.setAttribute(n,a);break;case"popover":Iu("beforetoggle",e),Iu("toggle",e),tt(e,"popover",a);break;case"xlinkActuate":at(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":at(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":at(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":at(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":at(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":at(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":at(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":at(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":at(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":tt(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&tt(e,n=Nt.get(n)||n,a)}}function Ju(e,t,n,a,o,r){switch(n){case"style":Ct(e,a,r);break;case"dangerouslySetInnerHTML":if(null!=a){if("object"!==typeof a||!("__html"in a))throw Error(l(61));if(null!=(n=a.__html)){if(null!=o.children)throw Error(l(60));e.innerHTML=n}}break;case"children":"string"===typeof a?wt(e,a):("number"===typeof a||"bigint"===typeof a)&&wt(e,""+a);break;case"onScroll":null!=a&&Iu("scroll",e);break;case"onScrollEnd":null!=a&&Iu("scrollend",e);break;case"onClick":null!=a&&(e.onclick=Zu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Ke.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(o=n.endsWith("Capture"),t=n.slice(2,o?n.length-7:void 0),"function"===typeof(r=null!=(r=e[Oe]||null)?r[n]:null)&&e.removeEventListener(t,r,o),"function"!==typeof a)?n in e?e[n]=a:!0===a?e.setAttribute(n,""):tt(e,n,a):("function"!==typeof r&&null!==r&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,a,o)))}}function ed(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Iu("error",e),Iu("load",e);var a,o=!1,r=!1;for(a in n)if(n.hasOwnProperty(a)){var i=n[a];if(null!=i)switch(a){case"src":o=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Xu(e,t,a,i,n,null)}}return r&&Xu(e,t,"srcSet",n.srcSet,n,null),void(o&&Xu(e,t,"src",n.src,n,null));case"input":Iu("invalid",e);var s=a=i=r=null,c=null,u=null;for(o in n)if(n.hasOwnProperty(o)){var d=n[o];if(null!=d)switch(o){case"name":r=d;break;case"type":i=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":a=d;break;case"defaultValue":s=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(l(137,t));break;default:Xu(e,t,o,d,n,null)}}return yt(e,a,s,c,u,i,r,!1),void dt(e);case"select":for(r in Iu("invalid",e),o=i=a=null,n)if(n.hasOwnProperty(r)&&null!=(s=n[r]))switch(r){case"value":a=s;break;case"defaultValue":i=s;break;case"multiple":o=s;default:Xu(e,t,r,s,n,null)}return t=a,n=i,e.multiple=!!o,void(null!=t?bt(e,!!o,t,!1):null!=n&&bt(e,!!o,n,!0));case"textarea":for(i in Iu("invalid",e),a=r=o=null,n)if(n.hasOwnProperty(i)&&null!=(s=n[i]))switch(i){case"value":o=s;break;case"defaultValue":r=s;break;case"children":a=s;break;case"dangerouslySetInnerHTML":if(null!=s)throw Error(l(91));break;default:Xu(e,t,i,s,n,null)}return St(e,o,r,a),void dt(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(o=n[c]))if("selected"===c)e.selected=o&&"function"!==typeof o&&"symbol"!==typeof o;else Xu(e,t,c,o,n,null);return;case"dialog":Iu("beforetoggle",e),Iu("toggle",e),Iu("cancel",e),Iu("close",e);break;case"iframe":case"object":Iu("load",e);break;case"video":case"audio":for(o=0;o<Lu.length;o++)Iu(Lu[o],e);break;case"image":Iu("error",e),Iu("load",e);break;case"details":Iu("toggle",e);break;case"embed":case"source":case"link":Iu("error",e),Iu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(o=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Xu(e,t,u,o,n,null)}return;default:if(Et(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(o=n[d])&&Ju(e,t,d,o,n,void 0));return}}for(s in n)n.hasOwnProperty(s)&&(null!=(o=n[s])&&Xu(e,t,s,o,n,null))}var td=null,nd=null;function ad(e){return 9===e.nodeType?e:e.ownerDocument}function od(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function rd(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function ld(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var id=null;var sd="function"===typeof setTimeout?setTimeout:void 0,cd="function"===typeof clearTimeout?clearTimeout:void 0,ud="function"===typeof Promise?Promise:void 0,dd="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ud?function(e){return ud.resolve(null).then(e).catch(fd)}:sd;function fd(e){setTimeout(function(){throw e})}function md(e){return"head"===e}function pd(e,t){var n=t,a=0,o=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0<a&&8>a){n=a;var l=e.ownerDocument;if(1&n&&Sd(l.documentElement),2&n&&Sd(l.body),4&n)for(Sd(n=l.head),l=n.firstChild;l;){var i=l.nextSibling,s=l.nodeName;l[Re]||"SCRIPT"===s||"STYLE"===s||"LINK"===s&&"stylesheet"===l.rel.toLowerCase()||n.removeChild(l),l=i}}if(0===o)return e.removeChild(r),void Pf(t);o--}else"$"===n||"$?"===n||"$!"===n?o++:a=n.charCodeAt(0)-48;else a=0;n=r}while(n);Pf(t)}function gd(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":gd(n),ze(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function hd(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function yd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var vd=null;function bd(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function kd(e,t,n){switch(t=ad(n),e){case"html":if(!(e=t.documentElement))throw Error(l(452));return e;case"head":if(!(e=t.head))throw Error(l(453));return e;case"body":if(!(e=t.body))throw Error(l(454));return e;default:throw Error(l(451))}}function Sd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);ze(e)}var wd=new Map,xd=new Set;function Td(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Cd=M.d;M.d={f:function(){var e=Cd.f(),t=Uc();return e||t},r:function(e){var t=Be(e);null!==t&&5===t.tag&&"form"===t.type?Ol(t):Cd.r(e)},D:function(e){Cd.D(e),Nd("dns-prefetch",e,null)},C:function(e,t){Cd.C(e,t),Nd("preconnect",e,t)},L:function(e,t,n){Cd.L(e,t,n);var a=Ed;if(a&&e&&t){var o='link[rel="preload"][as="'+gt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(o+='[imagesrcset="'+gt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(o+='[imagesizes="'+gt(n.imageSizes)+'"]')):o+='[href="'+gt(e)+'"]';var r=o;switch(t){case"style":r=Dd(e);break;case"script":r=jd(e)}wd.has(r)||(e=f({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),wd.set(r,e),null!==a.querySelector(o)||"style"===t&&a.querySelector(Ad(r))||"script"===t&&a.querySelector(Od(r))||(ed(t=a.createElement("link"),"link",e),$e(t),a.head.appendChild(t)))}},m:function(e,t){Cd.m(e,t);var n=Ed;if(n&&e){var a=t&&"string"===typeof t.as?t.as:"script",o='link[rel="modulepreload"][as="'+gt(a)+'"][href="'+gt(e)+'"]',r=o;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":r=jd(e)}if(!wd.has(r)&&(e=f({rel:"modulepreload",href:e},t),wd.set(r,e),null===n.querySelector(o))){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Od(r)))return}ed(a=n.createElement("link"),"link",e),$e(a),n.head.appendChild(a)}}},X:function(e,t){Cd.X(e,t);var n=Ed;if(n&&e){var a=Ge(n).hoistableScripts,o=jd(e),r=a.get(o);r||((r=n.querySelector(Od(o)))||(e=f({src:e,async:!0},t),(t=wd.get(o))&&Id(e,t),$e(r=n.createElement("script")),ed(r,"link",e),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},a.set(o,r))}},S:function(e,t,n){Cd.S(e,t,n);var a=Ed;if(a&&e){var o=Ge(a).hoistableStyles,r=Dd(e);t=t||"default";var l=o.get(r);if(!l){var i={loading:0,preload:null};if(l=a.querySelector(Ad(r)))i.loading=5;else{e=f({rel:"stylesheet",href:e,"data-precedence":t},n),(n=wd.get(r))&&Hd(e,n);var s=l=a.createElement("link");$e(s),ed(s,"link",e),s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),s.addEventListener("load",function(){i.loading|=1}),s.addEventListener("error",function(){i.loading|=2}),i.loading|=4,Md(l,t,a)}l={type:"stylesheet",instance:l,count:1,state:i},o.set(r,l)}}},M:function(e,t){Cd.M(e,t);var n=Ed;if(n&&e){var a=Ge(n).hoistableScripts,o=jd(e),r=a.get(o);r||((r=n.querySelector(Od(o)))||(e=f({src:e,async:!0,type:"module"},t),(t=wd.get(o))&&Id(e,t),$e(r=n.createElement("script")),ed(r,"link",e),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},a.set(o,r))}}};var Ed="undefined"===typeof document?null:document;function Nd(e,t,n){var a=Ed;if(a&&"string"===typeof t&&t){var o=gt(t);o='link[rel="'+e+'"][href="'+o+'"]',"string"===typeof n&&(o+='[crossorigin="'+n+'"]'),xd.has(o)||(xd.add(o),e={rel:e,crossOrigin:n,href:t},null===a.querySelector(o)&&(ed(t=a.createElement("link"),"link",e),$e(t),a.head.appendChild(t)))}}function Pd(e,t,n,a){var o,r,i,s,c=(c=G.current)?Td(c):null;if(!c)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Dd(n.href),(a=(n=Ge(c).hoistableStyles).get(t))||(a={type:"style",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Dd(n.href);var u=Ge(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(Ad(e)))&&!u._p&&(d.instance=u,d.state.loading=5),wd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},wd.set(e,n),u||(o=c,r=e,i=n,s=d.state,o.querySelector('link[rel="preload"][as="style"]['+r+"]")?s.loading=1:(r=o.createElement("link"),s.preload=r,r.addEventListener("load",function(){return s.loading|=1}),r.addEventListener("error",function(){return s.loading|=2}),ed(r,"link",i),$e(r),o.head.appendChild(r))))),t&&null===a)throw Error(l(528,""));return d}if(t&&null!==a)throw Error(l(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=jd(n),(a=(n=Ge(c).hoistableScripts).get(t))||(a={type:"script",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function Dd(e){return'href="'+gt(e)+'"'}function Ad(e){return'link[rel="stylesheet"]['+e+"]"}function Fd(e){return f({},e,{"data-precedence":e.precedence,precedence:null})}function jd(e){return'[src="'+gt(e)+'"]'}function Od(e){return"script[async]"+e}function Ld(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+gt(n.href)+'"]');if(a)return t.instance=a,$e(a),a;var o=f({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return $e(a=(e.ownerDocument||e).createElement("style")),ed(a,"style",o),Md(a,n.precedence,e),t.instance=a;case"stylesheet":o=Dd(n.href);var r=e.querySelector(Ad(o));if(r)return t.state.loading|=4,t.instance=r,$e(r),r;a=Fd(n),(o=wd.get(o))&&Hd(a,o),$e(r=(e.ownerDocument||e).createElement("link"));var i=r;return i._p=new Promise(function(e,t){i.onload=e,i.onerror=t}),ed(r,"link",a),t.state.loading|=4,Md(r,n.precedence,e),t.instance=r;case"script":return r=jd(n.src),(o=e.querySelector(Od(r)))?(t.instance=o,$e(o),o):(a=n,(o=wd.get(r))&&Id(a=f({},n),o),$e(o=(e=e.ownerDocument||e).createElement("script")),ed(o,"link",a),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(l(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(a=t.instance,t.state.loading|=4,Md(a,n.precedence,e));return t.instance}function Md(e,t,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=a.length?a[a.length-1]:null,r=o,l=0;l<a.length;l++){var i=a[l];if(i.dataset.precedence===t)r=i;else if(r!==o)break}r?r.parentNode.insertBefore(e,r.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Hd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Id(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var _d=null;function Rd(e,t,n){if(null===_d){var a=new Map,o=_d=new Map;o.set(n,a)}else(a=(o=_d).get(n))||(a=new Map,o.set(n,a));if(a.has(e))return a;for(a.set(e,null),n=n.getElementsByTagName(e),o=0;o<n.length;o++){var r=n[o];if(!(r[Re]||r[je]||"link"===e&&"stylesheet"===r.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==r.namespaceURI){var l=r.getAttribute(t)||"";l=e+l;var i=a.get(l);i?i.push(r):a.set(l,[r])}}return a}function zd(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function Ud(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var Bd=null;function Vd(){}function Gd(){if(this.count--,0===this.count)if(this.stylesheets)Wd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var $d=null;function Wd(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,$d=new Map,t.forEach(Kd,e),$d=null,Gd.call(e))}function Kd(e,t){if(!(4&t.state.loading)){var n=$d.get(e);if(n)var a=n.get(null);else{n=new Map,$d.set(e,n);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),r=0;r<o.length;r++){var l=o[r];"LINK"!==l.nodeName&&"not all"===l.getAttribute("media")||(n.set(l.dataset.precedence,l),a=l)}a&&n.set(null,a)}l=(o=t.instance).getAttribute("data-precedence"),(r=n.get(l)||a)===a&&n.set(null,o),n.set(l,o),this.count++,a=Gd.bind(this),o.addEventListener("load",a),o.addEventListener("error",a),r?r.parentNode.insertBefore(o,r.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(o,e.firstChild),t.state.loading|=4}}var qd={$$typeof:S,Provider:null,Consumer:null,_currentValue:H,_currentValue2:H,_threadCount:0};function Qd(e,t,n,a,o,r,l,i){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Te(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Te(0),this.hiddenUpdates=Te(null),this.identifierPrefix=a,this.onUncaughtError=o,this.onCaughtError=r,this.onRecoverableError=l,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=i,this.incompleteTransitions=new Map}function Yd(e,t,n,a,o,r,l,i,s,c,u,d){return e=new Qd(e,t,n,l,i,s,c,d),t=1,!0===r&&(t|=24),r=Ha(3,null,null,t),e.current=r,r.stateNode=e,(t=Lo()).refCount++,e.pooledCache=t,t.refCount++,r.memoizedState={element:a,isDehydrated:n,cache:t},ar(r),e}function Zd(e){return e?e=La:La}function Xd(e,t,n,a,o,r){o=Zd(o),null===a.context?a.context=o:a.pendingContext=o,(a=rr(t)).payload={element:n},null!==(r=void 0===r?null:r)&&(a.callback=r),null!==(n=lr(e,a,t))&&(Hc(n,0,t),ir(n,e,t))}function Jd(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function ef(e,t){Jd(e,t),(e=e.alternate)&&Jd(e,t)}function tf(e){if(13===e.tag){var t=Fa(e,67108864);null!==t&&Hc(t,0,67108864),ef(e,67108864)}}var nf=!0;function af(e,t,n,a){var o=L.T;L.T=null;var r=M.p;try{M.p=2,rf(e,t,n,a)}finally{M.p=r,L.T=o}}function of(e,t,n,a){var o=L.T;L.T=null;var r=M.p;try{M.p=8,rf(e,t,n,a)}finally{M.p=r,L.T=o}}function rf(e,t,n,a){if(nf){var o=lf(a);if(null===o)Bu(e,t,a,sf,n),bf(e,a);else if(function(e,t,n,a,o){switch(t){case"focusin":return ff=kf(ff,e,t,n,a,o),!0;case"dragenter":return mf=kf(mf,e,t,n,a,o),!0;case"mouseover":return pf=kf(pf,e,t,n,a,o),!0;case"pointerover":var r=o.pointerId;return gf.set(r,kf(gf.get(r)||null,e,t,n,a,o)),!0;case"gotpointercapture":return r=o.pointerId,hf.set(r,kf(hf.get(r)||null,e,t,n,a,o)),!0}return!1}(o,e,t,n,a))a.stopPropagation();else if(bf(e,a),4&t&&-1<vf.indexOf(e)){for(;null!==o;){var r=Be(o);if(null!==r)switch(r.tag){case 3:if((r=r.stateNode).current.memoizedState.isDehydrated){var l=ve(r.pendingLanes);if(0!==l){var i=r;for(i.pendingLanes|=2,i.entangledLanes|=2;l;){var s=1<<31-me(l);i.entanglements[1]|=s,l&=~s}wu(r),0===(6&nc)&&(wc=te()+500,xu(0,!1))}}break;case 13:null!==(i=Fa(r,2))&&Hc(i,0,2),Uc(),ef(r,2)}if(null===(r=lf(a))&&Bu(e,t,a,sf,n),r===o)break;o=r}null!==o&&a.stopPropagation()}else Bu(e,t,a,null,n)}}function lf(e){return cf(e=Ft(e))}var sf=null;function cf(e){if(sf=null,null!==(e=Ue(e))){var t=s(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return sf=e,null}function uf(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ne()){case ae:return 2;case oe:return 8;case re:case le:return 32;case ie:return 268435456;default:return 32}default:return 32}}var df=!1,ff=null,mf=null,pf=null,gf=new Map,hf=new Map,yf=[],vf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function bf(e,t){switch(e){case"focusin":case"focusout":ff=null;break;case"dragenter":case"dragleave":mf=null;break;case"mouseover":case"mouseout":pf=null;break;case"pointerover":case"pointerout":gf.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":hf.delete(t.pointerId)}}function kf(e,t,n,a,o,r){return null===e||e.nativeEvent!==r?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:r,targetContainers:[o]},null!==t&&(null!==(t=Be(t))&&tf(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function Sf(e){var t=Ue(e.target);if(null!==t){var n=s(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void function(e,t){var n=M.p;try{return M.p=e,t()}finally{M.p=n}}(e.priority,function(){if(13===n.tag){var e=Lc();e=Pe(e);var t=Fa(n,e);null!==t&&Hc(t,0,e),ef(n,e)}})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function wf(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=lf(e.nativeEvent);if(null!==n)return null!==(t=Be(n))&&tf(t),e.blockedOn=n,!1;var a=new(n=e.nativeEvent).constructor(n.type,n);At=a,n.target.dispatchEvent(a),At=null,t.shift()}return!0}function xf(e,t,n){wf(e)&&n.delete(t)}function Tf(){df=!1,null!==ff&&wf(ff)&&(ff=null),null!==mf&&wf(mf)&&(mf=null),null!==pf&&wf(pf)&&(pf=null),gf.forEach(xf),hf.forEach(xf)}function Cf(e,t){e.blockedOn===t&&(e.blockedOn=null,df||(df=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Tf)))}var Ef=null;function Nf(e){Ef!==e&&(Ef=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Ef===e&&(Ef=null);for(var t=0;t<e.length;t+=3){var n=e[t],a=e[t+1],o=e[t+2];if("function"!==typeof a){if(null===cf(a||n))continue;break}var r=Be(n);null!==r&&(e.splice(t,3),t-=3,Fl(r,{pending:!0,data:o,method:n.method,action:a},a,o))}}))}function Pf(e){function t(t){return Cf(t,e)}null!==ff&&Cf(ff,e),null!==mf&&Cf(mf,e),null!==pf&&Cf(pf,e),gf.forEach(t),hf.forEach(t);for(var n=0;n<yf.length;n++){var a=yf[n];a.blockedOn===e&&(a.blockedOn=null)}for(;0<yf.length&&null===(n=yf[0]).blockedOn;)Sf(n),null===n.blockedOn&&yf.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(a=0;a<n.length;a+=3){var o=n[a],r=n[a+1],l=o[Oe]||null;if("function"===typeof r)l||Nf(n);else if(l){var i=null;if(r&&r.hasAttribute("formAction")){if(o=r,l=r[Oe]||null)i=l.formAction;else if(null!==cf(o))continue}else i=l.action;"function"===typeof i?n[a+1]=i:(n.splice(a,3),a-=3),Nf(n)}}}function Df(e){this._internalRoot=e}function Af(e){this._internalRoot=e}Af.prototype.render=Df.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(l(409));Xd(t.current,Lc(),e,t,null,null)},Af.prototype.unmount=Df.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Xd(e.current,2,null,e,null,null),Uc(),t[Le]=null}},Af.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ae();e={blockedOn:null,target:e,priority:t};for(var n=0;n<yf.length&&0!==t&&t<yf[n].priority;n++);yf.splice(n,0,e),0===n&&Sf(e)}};var Ff=o.version;if("19.1.1"!==Ff)throw Error(l(527,Ff,"19.1.1"));M.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(l(188));throw e=Object.keys(e).join(","),Error(l(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=s(e)))throw Error(l(188));return t!==e?null:e}for(var n=e,a=t;;){var o=n.return;if(null===o)break;var r=o.alternate;if(null===r){if(null!==(a=o.return)){n=a;continue}break}if(o.child===r.child){for(r=o.child;r;){if(r===n)return u(o),e;if(r===a)return u(o),t;r=r.sibling}throw Error(l(188))}if(n.return!==a.return)n=o,a=r;else{for(var i=!1,c=o.child;c;){if(c===n){i=!0,n=o,a=r;break}if(c===a){i=!0,a=o,n=r;break}c=c.sibling}if(!i){for(c=r.child;c;){if(c===n){i=!0,n=r,a=o;break}if(c===a){i=!0,a=r,n=o;break}c=c.sibling}if(!i)throw Error(l(189))}}if(n.alternate!==a)throw Error(l(190))}if(3!==n.tag)throw Error(l(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?d(e):null)?null:e.stateNode};var jf={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.1.1"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Of=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Of.isDisabled&&Of.supportsFiber)try{ue=Of.inject(jf),de=Of}catch(Mf){}}t.createRoot=function(e,t){if(!i(e))throw Error(l(299));var n=!1,a="",o=vi,r=bi,s=ki;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(a=t.identifierPrefix),void 0!==t.onUncaughtError&&(o=t.onUncaughtError),void 0!==t.onCaughtError&&(r=t.onCaughtError),void 0!==t.onRecoverableError&&(s=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Yd(e,1,!1,null,0,n,a,o,r,s,0,null),e[Le]=t.current,zu(e),new Df(t)},t.hydrateRoot=function(e,t,n){if(!i(e))throw Error(l(299));var a=!1,o="",r=vi,s=bi,c=ki,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onUncaughtError&&(r=n.onUncaughtError),void 0!==n.onCaughtError&&(s=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(u=n.formState)),(t=Yd(e,1,!0,t,0,a,o,r,s,c,0,u)).context=Zd(null),n=t.current,(o=rr(a=Pe(a=Lc()))).callback=null,lr(n,o,a),n=a,t.current.lanes=n,Ce(t,n),wu(t),e[Le]=t.current,zu(e),new Af(t)},t.version="19.1.1"},43:(e,t,n)=>{e.exports=n(288)},288:(e,t)=>{var n=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),m=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,h={};function y(e,t,n){this.props=e,this.context=t,this.refs=h,this.updater=n||p}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=h,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var k=b.prototype=new v;k.constructor=b,g(k,y.prototype),k.isPureReactComponent=!0;var S=Array.isArray,w={H:null,A:null,T:null,S:null,V:null},x=Object.prototype.hasOwnProperty;function T(e,t,a,o,r,l){return a=l.ref,{$$typeof:n,type:e,key:t,ref:void 0!==a?a:null,props:l}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var E=/\/+/g;function N(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function P(){}function D(e,t,o,r,l){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var s,c,u=!1;if(null===e)u=!0;else switch(i){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case a:u=!0;break;case f:return D((u=e._init)(e._payload),t,o,r,l)}}if(u)return l=l(e),u=""===r?"."+N(e,0):r,S(l)?(o="",null!=u&&(o=u.replace(E,"$&/")+"/"),D(l,t,o,"",function(e){return e})):null!=l&&(C(l)&&(s=l,c=o+(null==l.key||e&&e.key===l.key?"":(""+l.key).replace(E,"$&/")+"/")+u,l=T(s.type,c,void 0,0,0,s.props)),t.push(l)),1;u=0;var d,p=""===r?".":r+":";if(S(e))for(var g=0;g<e.length;g++)u+=D(r=e[g],t,o,i=p+N(r,g),l);else if("function"===typeof(g=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=m&&d[m]||d["@@iterator"])?d:null))for(e=g.call(e),g=0;!(r=e.next()).done;)u+=D(r=r.value,t,o,i=p+N(r,g++),l);else if("object"===i){if("function"===typeof e.then)return D(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(P,P):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,o,r,l);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function A(e,t,n){if(null==e)return e;var a=[],o=0;return D(e,a,"","",function(e){return t.call(n,e,o++)}),a}function F(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var j="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function O(){}t.Children={map:A,forEach:function(e,t,n){A(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return A(e,function(){t++}),t},toArray:function(e){return A(e,function(e){return e})||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=o,t.Profiler=l,t.PureComponent=b,t.StrictMode=r,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=w,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return w.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var a=g({},e.props),o=e.key;if(null!=t)for(r in void 0!==t.ref&&void 0,void 0!==t.key&&(o=""+t.key),t)!x.call(t,r)||"key"===r||"__self"===r||"__source"===r||"ref"===r&&void 0===t.ref||(a[r]=t[r]);var r=arguments.length-2;if(1===r)a.children=n;else if(1<r){for(var l=Array(r),i=0;i<r;i++)l[i]=arguments[i+2];a.children=l}return T(e.type,o,void 0,0,0,a)},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:i,_context:e},e},t.createElement=function(e,t,n){var a,o={},r=null;if(null!=t)for(a in void 0!==t.key&&(r=""+t.key),t)x.call(t,a)&&"key"!==a&&"__self"!==a&&"__source"!==a&&(o[a]=t[a]);var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){for(var i=Array(l),s=0;s<l;s++)i[s]=arguments[s+2];o.children=i}if(e&&e.defaultProps)for(a in l=e.defaultProps)void 0===o[a]&&(o[a]=l[a]);return T(e,r,void 0,0,0,o)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:F}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=w.T,n={};w.T=n;try{var a=e(),o=w.S;null!==o&&o(n,a),"object"===typeof a&&null!==a&&"function"===typeof a.then&&a.then(O,j)}catch(r){j(r)}finally{w.T=t}},t.unstable_useCacheRefresh=function(){return w.H.useCacheRefresh()},t.use=function(e){return w.H.use(e)},t.useActionState=function(e,t,n){return w.H.useActionState(e,t,n)},t.useCallback=function(e,t){return w.H.useCallback(e,t)},t.useContext=function(e){return w.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return w.H.useDeferredValue(e,t)},t.useEffect=function(e,t,n){var a=w.H;if("function"===typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return a.useEffect(e,t)},t.useId=function(){return w.H.useId()},t.useImperativeHandle=function(e,t,n){return w.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return w.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return w.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return w.H.useMemo(e,t)},t.useOptimistic=function(e,t){return w.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return w.H.useReducer(e,t,n)},t.useRef=function(e){return w.H.useRef(e)},t.useState=function(e){return w.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return w.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return w.H.useTransition()},t.version="19.1.1"},391:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},579:(e,t,n)=>{e.exports=n(799)},672:(e,t,n)=>{var a=n(43);function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var l={d:{f:r,r:function(){throw Error(o(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},i=Symbol.for("react.portal");var s=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(o(299));return function(e,t,n){var a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:i,key:null==a?null:""+a,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=s.T,n=l.p;try{if(s.T=null,l.p=2,e)return e()}finally{s.T=t,l.p=n,l.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,l.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&l.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,a=c(n,t.crossOrigin),o="string"===typeof t.integrity?t.integrity:void 0,r="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?l.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:a,integrity:o,fetchPriority:r}):"script"===n&&l.d.X(e,{crossOrigin:a,integrity:o,fetchPriority:r,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);l.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&l.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,a=c(n,t.crossOrigin);l.d.L(e,n,{crossOrigin:a,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);l.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else l.d.m(e)},t.requestFormReset=function(e){l.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return s.H.useFormState(e,t,n)},t.useFormStatus=function(){return s.H.useHostTransitionStatus()},t.version="19.1.1"},799:(e,t)=>{var n=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function o(e,t,a){var o=null;if(void 0!==a&&(o=""+a),void 0!==t.key&&(o=""+t.key),"key"in t)for(var r in a={},t)"key"!==r&&(a[r]=t[r]);else a=t;return t=a.ref,{$$typeof:n,type:e,key:o,ref:void 0!==t?t:null,props:a}}t.Fragment=a,t.jsx=o,t.jsxs=o},853:(e,t,n)=>{e.exports=n(896)},896:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var a=n-1>>>1,o=e[a];if(!(0<r(o,t)))break e;e[a]=t,e[n]=o,n=a}}function a(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var a=0,o=e.length,l=o>>>1;a<l;){var i=2*(a+1)-1,s=e[i],c=i+1,u=e[c];if(0>r(s,n))c<o&&0>r(u,s)?(e[a]=u,e[c]=n,a=c):(e[a]=s,e[i]=n,a=i);else{if(!(c<o&&0>r(u,n)))break e;e[a]=u,e[c]=n,a=c}}}return t}function r(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var l=performance;t.unstable_now=function(){return l.now()}}else{var i=Date,s=i.now();t.unstable_now=function(){return i.now()-s}}var c=[],u=[],d=1,f=null,m=3,p=!1,g=!1,h=!1,y=!1,v="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function S(e){for(var t=a(u);null!==t;){if(null===t.callback)o(u);else{if(!(t.startTime<=e))break;o(u),t.sortIndex=t.expirationTime,n(c,t)}t=a(u)}}function w(e){if(h=!1,S(e),!g)if(null!==a(c))g=!0,T||(T=!0,x());else{var t=a(u);null!==t&&j(w,t.startTime-e)}}var x,T=!1,C=-1,E=5,N=-1;function P(){return!!y||!(t.unstable_now()-N<E)}function D(){if(y=!1,T){var e=t.unstable_now();N=e;var n=!0;try{e:{g=!1,h&&(h=!1,b(C),C=-1),p=!0;var r=m;try{t:{for(S(e),f=a(c);null!==f&&!(f.expirationTime>e&&P());){var l=f.callback;if("function"===typeof l){f.callback=null,m=f.priorityLevel;var i=l(f.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof i){f.callback=i,S(e),n=!0;break t}f===a(c)&&o(c),S(e)}else o(c);f=a(c)}if(null!==f)n=!0;else{var s=a(u);null!==s&&j(w,s.startTime-e),n=!1}}break e}finally{f=null,m=r,p=!1}n=void 0}}finally{n?x():T=!1}}}if("function"===typeof k)x=function(){k(D)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,F=A.port2;A.port1.onmessage=D,x=function(){F.postMessage(null)}}else x=function(){v(D,0)};function j(e,n){C=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_next=function(e){switch(m){case 1:case 2:case 3:var t=3;break;default:t=m}var n=m;m=t;try{return e()}finally{m=n}},t.unstable_requestPaint=function(){y=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=m;m=e;try{return t()}finally{m=n}},t.unstable_scheduleCallback=function(e,o,r){var l=t.unstable_now();switch("object"===typeof r&&null!==r?r="number"===typeof(r=r.delay)&&0<r?l+r:l:r=l,e){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return e={id:d++,callback:o,priorityLevel:e,startTime:r,expirationTime:i=r+i,sortIndex:-1},r>l?(e.sortIndex=r,n(u,e),null===a(c)&&e===a(u)&&(h?(b(C),C=-1):h=!0,j(w,r-l))):(e.sortIndex=i,n(c,e),g||p||(g=!0,T||(T=!0,x()))),e},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(e){var t=m;return function(){var n=m;m=t;try{return e.apply(this,arguments)}finally{m=n}}}},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)}},t={};function n(a){var o=t[a];if(void 0!==o)return o.exports;var r=t[a]={exports:{}};return e[a](r,r.exports,n),r.exports}n.m=e,n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,a)=>(n.f[a](e,t),t),[])),n.u=e=>"static/js/"+e+".83419c48.chunk.js",n.miniCssF=e=>{},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="premarket-short-scanner:";n.l=(a,o,r,l)=>{if(e[a])e[a].push(o);else{var i,s;if(void 0!==r)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==a||d.getAttribute("data-webpack")==t+r){i=d;break}}i||(s=!0,(i=document.createElement("script")).charset="utf-8",i.timeout=120,n.nc&&i.setAttribute("nonce",n.nc),i.setAttribute("data-webpack",t+r),i.src=a),e[a]=[o];var f=(t,n)=>{i.onerror=i.onload=null,clearTimeout(m);var o=e[a];if(delete e[a],i.parentNode&&i.parentNode.removeChild(i),o&&o.forEach(e=>e(n)),t)return t(n)},m=setTimeout(f.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=f.bind(null,i.onerror),i.onload=f.bind(null,i.onload),s&&document.head.appendChild(i)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={792:0};n.f.j=(t,a)=>{var o=n.o(e,t)?e[t]:void 0;if(0!==o)if(o)a.push(o[2]);else{var r=new Promise((n,a)=>o=e[t]=[n,a]);a.push(o[2]=r);var l=n.p+n.u(t),i=new Error;n.l(l,a=>{if(n.o(e,t)&&(0!==(o=e[t])&&(e[t]=void 0),o)){var r=a&&("load"===a.type?"missing":a.type),l=a&&a.target&&a.target.src;i.message="Loading chunk "+t+" failed.\n("+r+": "+l+")",i.name="ChunkLoadError",i.type=r,i.request=l,o[1](i)}},"chunk-"+t,t)}};var t=(t,a)=>{var o,r,l=a[0],i=a[1],s=a[2],c=0;if(l.some(t=>0!==e[t])){for(o in i)n.o(i,o)&&(n.m[o]=i[o]);if(s)s(n)}for(t&&t(a);c<l.length;c++)r=l[c],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0},a=self.webpackChunkpremarket_short_scanner=self.webpackChunkpremarket_short_scanner||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var a=n(43),o=n(391);function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function l(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=r(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}function i(e,t,n){return(t=l(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){i(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const u=[{id:"none",name:"No Sound",description:"Silent notifications only"},{id:"beep",name:"Classic Beep",description:"Simple notification beep",frequency:800,duration:200},{id:"chime",name:"Gentle Chime",description:"Soft notification chime",frequency:523.25,duration:400},{id:"alert",name:"Alert Tone",description:"Attention-grabbing alert",frequency:1e3,duration:300},{id:"urgent",name:"Urgent Alert",description:"High priority signal",pattern:[1200,150,0,50,1200,150,0,50,1200,150]},{id:"trading-bell",name:"Trading Bell",description:"Classic trading floor bell",frequency:659.25,duration:600},{id:"success",name:"Success Tone",description:"Pleasant success notification",pattern:[523.25,200,659.25,200,783.99,400]},{id:"warning",name:"Warning Sound",description:"Cautionary alert tone",pattern:[750,200,0,100,750,200]}];const d=new class{constructor(){this.audioContext=null,this.enabled=!1,this.initializeAudioContext()}initializeAudioContext(){try{this.audioContext=new(window.AudioContext||window.webkitAudioContext)}catch(e){console.warn("AudioContext not supported:",e)}}async enableAudio(){if(this.audioContext||this.initializeAudioContext(),this.audioContext&&"suspended"===this.audioContext.state)try{await this.audioContext.resume(),this.enabled=!0,console.log("Audio enabled for trading alerts")}catch(e){console.error("Failed to enable audio:",e)}else this.audioContext&&(this.enabled=!0)}disableAudio(){this.enabled=!1}isEnabled(){return this.enabled&&null!==this.audioContext}async playSound(e){if(!this.enabled||!this.audioContext)return;const t=u.find(t=>t.id===e);if(t&&"none"!==e)try{t.pattern?await this.playPattern(t.pattern):t.frequency&&t.duration&&await this.playTone(t.frequency,t.duration)}catch(n){console.error("Failed to play sound:",n)}}async playTone(e,t){if(!this.audioContext)return;const n=this.audioContext.createOscillator(),a=this.audioContext.createGain();n.connect(a),a.connect(this.audioContext.destination),n.frequency.setValueAtTime(e,this.audioContext.currentTime),n.type="sine";const o=this.audioContext.currentTime;return a.gain.setValueAtTime(0,o),a.gain.linearRampToValueAtTime(.3,o+.01),a.gain.exponentialRampToValueAtTime(.001,o+t/1e3),n.start(o),n.stop(o+t/1e3),new Promise(e=>{n.onended=()=>e()})}async playPattern(e){for(let t=0;t<e.length;t+=2){const n=e[t],a=e[t+1];n>0?await this.playTone(n,a):await new Promise(e=>setTimeout(e,a))}}async previewSound(e){const t=this.enabled;t||await this.enableAudio(),await this.playSound(e),t||this.disableAudio()}getSoundOptions(){return u}};var f=n(579);const m=e=>{let{alerts:t,voiceAlertsEnabled:n,soundAlertsEnabled:o,selectedSound:r,isConnected:l=!1,stats:i,symbols:s=[]}=e;const[u,m]=(0,a.useState)("time"),[p,g]=(0,a.useState)("desc"),[h,y]=(0,a.useState)(""),[v,b]=(0,a.useState)({min:"",max:""}),[k,S]=(0,a.useState)(!1),[w,x]=(0,a.useState)("all"),[T,C]=(0,a.useState)(!1),E=(0,a.useRef)(0),N=(0,a.useRef)(new Set),P=(0,a.useMemo)(()=>{const e="all"===w?t:t.filter(e=>e.type===w),n=new Map,a=new Set;return e.forEach(e=>{const t="".concat(e.symbol,"-").concat(e.timestamp,"-").concat(e.price.toFixed(2),"-").concat(e.type);n.has(e.id)||a.has(t)?console.log("\ud83d\udd04 Filtered duplicate: ".concat(e.symbol," ").concat(e.type," ID: ").concat(e.id," Key: ").concat(t)):(n.set(e.id,e),a.add(t))}),Array.from(n.values())},[t,w]),D=(0,a.useMemo)(()=>P.filter(e=>!(h&&!e.symbol.toLowerCase().includes(h.toLowerCase()))&&(!(v.min&&e.price<parseFloat(v.min))&&!(v.max&&e.price>parseFloat(v.max)))).sort((e,t)=>{let n=0;switch(u){case"time":n=e.timestamp-t.timestamp;break;case"price":n=e.price-t.price;break;case"volume":n=e.volume-t.volume;break;case"gap":n=(e.gapPercent||0)-(t.gapPercent||0)}return"desc"===p?-n:n}),[P,h,v,u,p]),A=e=>"ToppingTail5m"===e?"5-Minute Topping Tail":e;(0,a.useEffect)(()=>{const e=P.length,t=new Set(P.map(e=>e.id)),a=P.filter(e=>!N.current.has(e.id));a.length>0&&(a.forEach(async e=>{if(o&&"none"!==r)try{await d.playSound(r)}catch(t){console.error("Sound alert failed:",t)}if(n&&"speechSynthesis"in window){const t=A(e.type),n=e.hod?" High of day ".concat(e.hod.toFixed(2)):"",a=new SpeechSynthesisUtterance("".concat(t," signal for ").concat(e.symbol," at ").concat(e.price.toFixed(2)).concat(n));a.rate=1.2,a.pitch=1,a.volume=.8,window.speechSynthesis.speak(a)}if("Notification"in window&&"granted"===Notification.permission){const t=A(e.type);new Notification("".concat(t," - ").concat(e.symbol),{body:"".concat(e.symbol,": $").concat(e.price.toFixed(2)," - ").concat(e.detail),icon:"/icon.png",badge:"/icon.png",tag:"".concat(e.type,"-").concat(e.symbol),requireInteraction:!0,silent:!1})}}),N.current=t),E.current=e},[P,n,o,r]);const F=(0,a.useCallback)(()=>{y(""),b({min:"",max:""}),x("all")},[]),j=e=>"ToppingTail5m"===e?"TOPPING TAIL 5M":e,O=e=>{const t=Date.now(),n=Math.floor((t-e)/1e3);return n<60?"".concat(n,"s ago"):n<3600?"".concat(Math.floor(n/60),"m ago"):"".concat(Math.floor(n/3600),"h ago")},L=(0,a.useCallback)(async()=>{"Notification"in window&&"default"===Notification.permission&&await Notification.requestPermission()},[]),M=(0,a.useMemo)(()=>{const e=D.reduce((e,t)=>e+t.volume,0),t=D.length>0?D.reduce((e,t)=>e+t.price,0)/D.length:0,n=D.length>0?D.reduce((e,t)=>e+(t.gapPercent||0),0)/D.length:0,a=D.filter(e=>Date.now()-e.timestamp<3e5).length;return{totalVolume:Math.round(e/1e3),avgPrice:t,avgGap:n,recentCount:a}},[D]);return(0,f.jsxs)("div",{className:"hod-break-feed",children:[(0,f.jsxs)("div",{className:"hod-header",children:[(0,f.jsxs)("div",{className:"hod-title-section",children:[(0,f.jsxs)("div",{className:"hod-main-title",children:[(0,f.jsx)("span",{className:"hod-title-text",children:"SHORT SIGNALS"}),(0,f.jsx)("span",{className:"hod-subtitle",children:"Premium Pattern Detection"})]}),(0,f.jsxs)("div",{className:"hod-metrics",children:[(0,f.jsxs)("div",{className:"metric-card",children:[(0,f.jsx)("span",{className:"metric-value",children:D.length}),(0,f.jsx)("span",{className:"metric-label",children:"Signals"})]}),(0,f.jsxs)("div",{className:"metric-card",children:[(0,f.jsx)("span",{className:"metric-value",children:M.recentCount}),(0,f.jsx)("span",{className:"metric-label",children:"Recent"})]}),(0,f.jsxs)("div",{className:"metric-card",children:[(0,f.jsxs)("span",{className:"metric-value",children:["$",M.avgPrice.toFixed(2)]}),(0,f.jsx)("span",{className:"metric-label",children:"Avg Price"})]}),(0,f.jsxs)("div",{className:"metric-card",children:[(0,f.jsxs)("span",{className:"metric-value",children:[M.avgGap.toFixed(1),"%"]}),(0,f.jsx)("span",{className:"metric-label",children:"Avg Gap"})]})]})]}),(0,f.jsxs)("div",{className:"hod-controls",children:[(0,f.jsxs)("div",{className:"sort-controls",children:[(0,f.jsx)("label",{children:"Sort by:"}),(0,f.jsxs)("select",{value:u,onChange:e=>m(e.target.value),className:"sort-select",children:[(0,f.jsx)("option",{value:"time",children:"Time"}),(0,f.jsx)("option",{value:"price",children:"Price"}),(0,f.jsx)("option",{value:"volume",children:"Volume"}),(0,f.jsx)("option",{value:"gap",children:"Gap %"})]}),(0,f.jsx)("button",{className:"sort-order-btn ".concat(p),onClick:()=>g(e=>"asc"===e?"desc":"asc"),title:"Sort ".concat("asc"===p?"descending":"ascending"),children:"asc"===p?"\u2191":"\u2193"})]}),(0,f.jsx)("button",{className:"filter-toggle ".concat(k?"active":""),onClick:()=>S(!k),children:"FILTERS"}),(0,f.jsxs)("button",{className:"symbols-toggle ".concat(T?"active":""),onClick:()=>C(!T),title:"Show monitored symbols",children:["SYMBOLS (",s.length,")"]}),"default"===Notification.permission&&(0,f.jsx)("button",{className:"notification-btn",onClick:L,title:"Enable Browser Notifications",children:"NOTIFY"})]})]}),k&&(0,f.jsx)("div",{className:"hod-filter-panel",children:(0,f.jsxs)("div",{className:"filter-grid",children:[(0,f.jsxs)("div",{className:"filter-group",children:[(0,f.jsx)("label",{children:"Pattern Type:"}),(0,f.jsxs)("select",{value:w,onChange:e=>x(e.target.value),className:"filter-input",children:[(0,f.jsx)("option",{value:"all",children:"All Patterns"}),(0,f.jsx)("option",{value:"ToppingTail5m",children:"5m Topping Tail"})]})]}),(0,f.jsxs)("div",{className:"filter-group",children:[(0,f.jsx)("label",{children:"Symbol:"}),(0,f.jsx)("input",{type:"text",value:h,onChange:e=>y(e.target.value),placeholder:"Filter symbols...",className:"filter-input"})]}),(0,f.jsxs)("div",{className:"filter-group",children:[(0,f.jsx)("label",{children:"Price Range:"}),(0,f.jsxs)("div",{className:"range-inputs",children:[(0,f.jsx)("input",{type:"number",value:v.min,onChange:e=>b(t=>c(c({},t),{},{min:e.target.value})),placeholder:"Min",className:"filter-input range-input",min:"0",step:"0.01"}),(0,f.jsx)("span",{children:"-"}),(0,f.jsx)("input",{type:"number",value:v.max,onChange:e=>b(t=>c(c({},t),{},{max:e.target.value})),placeholder:"Max",className:"filter-input range-input",min:"0",step:"0.01"})]})]}),(0,f.jsx)("button",{onClick:F,className:"clear-filters",children:"CLEAR"})]})}),T&&(0,f.jsxs)("div",{className:"symbols-panel",children:[(0,f.jsxs)("div",{className:"symbols-panel-header",children:[(0,f.jsxs)("h4",{children:["Monitored Symbols (",s.length,")"]}),(0,f.jsx)("span",{className:"symbols-panel-subtitle",children:"Currently scanning for 5m patterns"})]}),(0,f.jsx)("div",{className:"symbols-grid",children:0===s.length?(0,f.jsx)("div",{className:"no-symbols",children:"No symbols currently being monitored"}):s.map(e=>(0,f.jsx)("div",{className:"symbol-chip",children:e},e))})]}),(0,f.jsx)("div",{className:"hod-alerts-container",children:0===D.length?(0,f.jsxs)("div",{className:"hod-no-alerts",children:[(0,f.jsx)("div",{className:"no-alerts-main",children:0===P.length?"AWAITING SHORT SIGNALS":"NO MATCHING SIGNALS"}),(0,f.jsx)("div",{className:"no-alerts-sub",children:0===P.length?"Monitoring for HOD breaks and topping tail patterns":"Try adjusting your filters to see more results"})]}):D.map((e,t)=>{const n=Date.now()-e.timestamp<6e4,a=t<3;return(0,f.jsxs)("div",{className:"hod-alert-card ".concat(n?"recent":""," ").concat(a?"priority":""),children:[(0,f.jsxs)("div",{className:"alert-card-header",children:[(0,f.jsxs)("div",{className:"symbol-section",children:[(0,f.jsx)("span",{className:"symbol",children:e.symbol}),(0,f.jsx)("span",{className:"pattern-badge ".concat((r=e.type,"ToppingTail5m"===r?"pattern-badge-5m":"pattern-badge")),children:j(e.type)})]}),(0,f.jsxs)("div",{className:"price-section",children:[(0,f.jsxs)("span",{className:"price",children:["$",e.price.toFixed(2)]}),void 0!==e.gapPercent&&(0,f.jsxs)("span",{className:"gap ".concat(e.gapPercent>0?"positive":"negative"),children:[e.gapPercent>0?"+":"",e.gapPercent.toFixed(1),"%"]})]})]}),(0,f.jsxs)("div",{className:"alert-card-body",children:[(0,f.jsx)("div",{className:"signal-description",children:e.detail}),(0,f.jsxs)("div",{className:"alert-metrics",children:[(0,f.jsxs)("div",{className:"metric",children:[(0,f.jsx)("span",{className:"metric-label",children:"Volume:"}),(0,f.jsxs)("span",{className:"metric-value",children:[(e.volume/1e3).toFixed(0),"K"]})]}),void 0!==e.hod&&(0,f.jsxs)("div",{className:"metric",children:[(0,f.jsx)("span",{className:"metric-label",children:"HOD:"}),(0,f.jsxs)("span",{className:"metric-value",children:["$",e.hod.toFixed(2)]})]}),(0,f.jsxs)("div",{className:"metric",children:[(0,f.jsx)("span",{className:"metric-label",children:"Time:"}),(0,f.jsx)("span",{className:"metric-value",children:(o=e.timestamp,new Date(o).toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"}))})]}),(0,f.jsxs)("div",{className:"metric",children:[(0,f.jsx)("span",{className:"metric-label",children:"Since:"}),(0,f.jsx)("span",{className:"metric-value",children:O(e.timestamp)})]})]})]}),n&&(0,f.jsx)("div",{className:"recent-indicator",children:(0,f.jsx)("span",{children:"FRESH SIGNAL"})})]},e.id);var o,r})}),(0,f.jsxs)("div",{className:"hod-status-bar",children:[(0,f.jsxs)("div",{className:"status-left",children:[(0,f.jsx)("span",{className:"connection-status ".concat(l?"connected":"disconnected"),children:l?"LIVE":"OFFLINE"}),(0,f.jsxs)("span",{className:"total-volume",children:["Total Volume: ",M.totalVolume,"K"]})]}),(0,f.jsx)("div",{className:"status-right",children:i&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("span",{children:["Tracking: ",i.symbolsTracked," symbols"]}),(0,f.jsxs)("span",{children:["Updated: ",i.lastUpdate]})]})})]})]})},p={marketHours:{startTime:"06:00",endTime:"10:00",timezone:"America/New_York"},gapCriteria:{minGapPercentage:10,maxGapPercentage:1e4,minPrice:1,maxPrice:60,minCumulativeVolume:1e5},patterns:{hod:{nearHodDistancePercent:3,maxHodDistancePercent:10},toppingTail:{minUpperWickPercent:50,maxBodyPercent:50,mustCloseRed:!0,minBarVolume:1e3},toppingTail5m:{minClosePercent:40,mustCloseRed:!1,minBarVolume:5e3,maxBarVolume:5e7,minShadowToBodyRatio:.5,requireStrictHODBreak:!0,maxHighDistanceFromHODPercent:15,maxCloseDistanceFromHODPercent:20},ema200TapReject:{maxTapDistancePercent:.5,minRejectionBars:1,mustCloseBelowEMA:!0},firstNewLowAfterPeakVolume:{peakVolumeMultiplier:2,maxDistanceFromHODPercent:1,barsForNewLowComparison:5},hodRetestFail:{maxLowerHighDistanceDollars:.1,maxLowerHighDistancePercent:.3,mustCloseRed:!0,minRetestDelayMinutes:5}},api:{maxRetries:3,requestTimeout:3e4,httpTimeout:1e4,aggregatesLimit:5e4},scanning:{backfillInterval:1e4,bidAskSpread:.01},historical:{maxLookbackDays:730,maxSymbolsToAnalyze:100,minDailyVolume:2e6,minVolumeForDiscovery:25e3},development:{enableDebugLogging:!0,overrideCurrentTime:null,enableTestSignal:!1}},g=()=>{let e=c({},p);return console.log("\ud83d\udd50 Using EXTENDED HOURS configuration (4:00 AM - 4:00 PM ET)"),e=c({},y.extendedHours),e},h=e=>{const t=e.match(/^(\d{1,2}):(\d{2})$/);if(!t)return null;const n=parseInt(t[1],10),a=parseInt(t[2],10);return n<0||n>23||a<0||a>59?null:60*n+a},y={conservative:c(c({},p),{},{gapCriteria:c(c({},p.gapCriteria),{},{minGapPercentage:8,minPrice:2,minCumulativeVolume:2e5}),patterns:c(c({},p.patterns),{},{hod:{nearHodDistancePercent:.2,maxHodDistancePercent:.8}})}),aggressive:c(c({},p),{},{gapCriteria:c(c({},p.gapCriteria),{},{minGapPercentage:3,minPrice:.5,minCumulativeVolume:5e4}),patterns:c(c({},p.patterns),{},{hod:{nearHodDistancePercent:.5,maxHodDistancePercent:2}})}),testing:c(c({},p),{},{marketHours:c(c({},p.marketHours),{},{startTime:"06:30",endTime:"09:25"}),development:c(c({},p.development),{},{enableDebugLogging:!0})}),extendedHours:c(c({},p),{},{marketHours:c(c({},p.marketHours),{},{startTime:"04:00",endTime:"20:00"}),gapCriteria:c(c({},p.gapCriteria),{},{minGapPercentage:20,minCumulativeVolume:1e6}),api:c({},p.api),scanning:c({},p.scanning),historical:c({},p.historical),development:c(c({},p.development),{},{enableDebugLogging:!0})})},v={ToppingTail5m:{title:"5-Minute Topping Tail",color:"#dc3545",priority:1}},b=e=>{let{gapScanner:t}=e;const[n,o]=(0,a.useState)(""),[r,l]=(0,a.useState)(!1),[i,s]=(0,a.useState)(null),[c,u]=(0,a.useState)(null),[d,m]=(0,a.useState)("all"),[p,h]=(0,a.useState)("06:30"),[y,b]=(0,a.useState)("10:00"),k=(0,a.useMemo)(()=>g(),[]),S=(0,a.useCallback)(e=>{const[t,n,a]=e.split("-").map(Number);return new Date(t,n-1,a).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})},[]),w=(0,a.useCallback)(e=>new Date(e).toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"}),[]),x=(0,a.useCallback)(e=>{o(e.target.value),u(null)},[]),T=(0,a.useCallback)(async()=>{if(!n)return void u("Please select a date");const[e,a,o]=n.split("-").map(Number),r=new Date(e,a-1,o);if(r>=new Date)return void u("Please select a date in the past");if(0===r.getDay()||6===r.getDay())return void u("Please select a weekday (markets are closed on weekends)");l(!0),u(null),s(null);const i=Date.now();try{console.log("Starting historical scan for ".concat(n,"..."));const e=await t.getHistoricalAlertsForDate(n),a={ToppingTail5m:0},o=new Set,r=e.filter(e=>"ToppingTail5m"===e.type);r.forEach(e=>{e.type in a&&(a[e.type]=(a[e.type]||0)+1),o.add(e.symbol)});const l=Date.now()-i;s({date:n,alerts:r,totalAlerts:r.length,patternBreakdown:a,symbolsScanned:Array.from(o),scanDuration:l})}catch(c){console.error("Historical scan failed:",c),u("Scan failed: ".concat(c instanceof Error?c.message:"Unknown error"))}finally{l(!1)}},[n,t]),C=(0,a.useMemo)(()=>{if(!i)return[];const[e,t]=p.split(":").map(Number),[n,a]=y.split(":").map(Number),o=e+t/60,r=n+a/60;let l=i.alerts;return"all"!==d&&(l=l.filter(e=>e.type===d)),l=l.filter(e=>{const t=new Date(e.timestamp),n=new Date(t.toLocaleString("en-US",{timeZone:"America/New_York"})),a=n.getHours()+n.getMinutes()/60;return a>=o&&a<r}),l},[i,d,p,y]);return(0,f.jsxs)("div",{className:"historical-testing",children:[(0,f.jsxs)("div",{className:"historical-header",children:[(0,f.jsxs)("div",{className:"header-title",children:[(0,f.jsx)("span",{className:"header-label",children:"HISTORICAL PATTERN TESTING"}),(0,f.jsx)("span",{className:"header-subtitle",children:"Scan for 5-minute patterns during regular market hours"})]}),(0,f.jsxs)("div",{className:"config-display",children:[(0,f.jsxs)("span",{className:"config-item",children:[(0,f.jsx)("span",{className:"config-label",children:"Hours:"})," ",k.marketHours.startTime," - ",k.marketHours.endTime," ET"]}),(0,f.jsxs)("span",{className:"config-item",children:[(0,f.jsx)("span",{className:"config-label",children:"Price:"})," $",k.gapCriteria.minPrice," - $",k.gapCriteria.maxPrice]}),(0,f.jsxs)("span",{className:"config-item",children:[(0,f.jsx)("span",{className:"config-label",children:"Volume:"})," ",(k.gapCriteria.minCumulativeVolume/1e3).toFixed(0),"K+"]}),(0,f.jsxs)("span",{className:"config-item",children:[(0,f.jsx)("span",{className:"config-label",children:"Gap:"})," ",k.gapCriteria.minGapPercentage,"%+"]}),(0,f.jsxs)("span",{className:"config-item",children:[(0,f.jsx)("span",{className:"config-label",children:"5m TT Close:"})," ",k.patterns.toppingTail5m.minClosePercent,"%+"]}),(0,f.jsxs)("span",{className:"config-item",children:[(0,f.jsx)("span",{className:"config-label",children:"5m TT Shadow:"})," ",k.patterns.toppingTail5m.minShadowToBodyRatio,"x+"]}),(0,f.jsxs)("span",{className:"config-item",children:[(0,f.jsx)("span",{className:"config-label",children:"5m TT HOD:"})," ",k.patterns.toppingTail5m.requireStrictHODBreak?"Strict Break":"".concat(k.patterns.toppingTail5m.maxHighDistanceFromHODPercent,"% max")]})]})]}),(0,f.jsxs)("div",{className:"scan-controls",children:[(0,f.jsxs)("div",{className:"date-input-group",children:[(0,f.jsx)("label",{htmlFor:"historical-date",children:"Select Date:"}),(0,f.jsx)("input",{id:"historical-date",type:"date",value:n,onChange:x,max:(new Date).toISOString().split("T")[0],disabled:r})]}),(0,f.jsxs)("div",{className:"date-input-group",children:[(0,f.jsx)("label",{htmlFor:"filter-start-time",children:"Filter Start:"}),(0,f.jsx)("input",{id:"filter-start-time",type:"time",value:p,onChange:e=>h(e.target.value),disabled:r})]}),(0,f.jsxs)("div",{className:"date-input-group",children:[(0,f.jsx)("label",{htmlFor:"filter-end-time",children:"Filter End:"}),(0,f.jsx)("input",{id:"filter-end-time",type:"time",value:y,onChange:e=>b(e.target.value),disabled:r})]}),(0,f.jsx)("button",{className:"scan-button ".concat(r?"scanning":""),onClick:T,disabled:r||!n,children:r?"SCANNING...":"RUN HISTORICAL SCAN"})]}),c&&(0,f.jsxs)("div",{className:"error-message",children:[(0,f.jsx)("span",{className:"error-icon",children:"\u26a0"}),(0,f.jsx)("span",{className:"error-text",children:c})]}),r&&(0,f.jsxs)("div",{className:"scanning-indicator",children:[(0,f.jsx)("div",{className:"scanning-spinner"}),(0,f.jsxs)("span",{children:["Analyzing historical data for ",S(n),"..."]})]}),i&&(0,f.jsxs)("div",{className:"results-container",children:[(0,f.jsxs)("div",{className:"results-header",children:[(0,f.jsxs)("h3",{children:["Results for ",S(i.date)]}),(0,f.jsxs)("div",{className:"results-summary",children:[(0,f.jsxs)("span",{className:"total-alerts",children:[i.totalAlerts," TOTAL"]}),(0,f.jsxs)("span",{className:"filtered-alerts",children:[C.length," SHOWING"]}),(0,f.jsxs)("span",{className:"symbols-count",children:[i.symbolsScanned.length," SYMBOLS"]}),(0,f.jsxs)("span",{className:"scan-time",children:[(i.scanDuration/1e3).toFixed(1),"s"]})]})]}),(0,f.jsxs)("div",{className:"pattern-breakdown",children:[(0,f.jsx)("h4",{children:"Pattern Breakdown"}),(0,f.jsxs)("div",{className:"pattern-filter-group",children:[(0,f.jsx)("label",{htmlFor:"pattern-filter",children:"Filter by Pattern:"}),(0,f.jsxs)("select",{id:"pattern-filter",value:d,onChange:e=>m(e.target.value),className:"pattern-filter-select",children:[(0,f.jsxs)("option",{value:"all",children:["All Patterns (",i.totalAlerts,")"]}),Object.entries(v).map(e=>{let[t,n]=e;const a=i.patternBreakdown[t]||0;return(0,f.jsxs)("option",{value:t,children:[n.title," (",a,")"]},t)})]})]}),(0,f.jsx)("div",{className:"pattern-grid",children:Object.entries(v).map(e=>{let[t,n]=e;const a=i.patternBreakdown[t]||0,o=d===t||"all"===d;return(0,f.jsxs)("div",{className:"pattern-stat priority-".concat(n.priority," ").concat(o?"selected":"dimmed"),style:{borderLeftColor:n.color},onClick:()=>m(d===t?"all":t),children:[(0,f.jsx)("div",{className:"pattern-name",style:{color:n.color},children:n.title}),(0,f.jsx)("div",{className:"pattern-count",children:a})]},t)})})]}),(0,f.jsxs)("div",{className:"alerts-timeline",children:[(0,f.jsxs)("h4",{children:["Alert Timeline ","all"!==d&&v[d]&&"(".concat(v[d].title,")")]}),(0,f.jsx)("div",{className:"timeline-container",children:0===C.length?(0,f.jsxs)("div",{className:"no-alerts-historical",children:[(0,f.jsx)("div",{className:"no-alerts-main",children:"NO PATTERNS DETECTED"}),(0,f.jsx)("div",{className:"no-alerts-sub",children:0===i.alerts.length?"No qualifying signals found for this date":"No signals match the selected filter"})]}):C.sort((e,t)=>e.timestamp-t.timestamp).filter(e=>v[e.type]).map(e=>{const t=v[e.type];return(0,f.jsxs)("div",{className:"timeline-alert priority-".concat(t.priority),style:{borderLeftColor:t.color},children:[(0,f.jsx)("div",{className:"alert-time",children:w(e.timestamp)}),(0,f.jsxs)("div",{className:"alert-content",children:[(0,f.jsxs)("div",{className:"alert-symbol-pattern",children:[(0,f.jsx)("span",{className:"alert-symbol",children:e.symbol}),(0,f.jsx)("span",{className:"alert-pattern",style:{color:t.color},children:t.title})]}),(0,f.jsxs)("div",{className:"alert-details",children:[(0,f.jsxs)("span",{className:"alert-price",children:["$",e.price.toFixed(2)]}),(0,f.jsxs)("span",{className:"alert-volume",children:[(e.volume/1e3).toFixed(0),"k vol"]}),e.gapPercent&&(0,f.jsxs)("span",{className:"alert-gap",children:[e.gapPercent.toFixed(1),"% gap"]})]})]}),(0,f.jsx)("div",{className:"alert-description",children:e.detail})]},e.id)})})]}),(0,f.jsxs)("div",{className:"symbols-scanned",children:[(0,f.jsx)("h4",{children:"Symbols Analyzed"}),(0,f.jsx)("div",{className:"symbols-list",children:i.symbolsScanned.map((e,t)=>(0,f.jsxs)("span",{className:"symbol-tag",children:[e,t<i.symbolsScanned.length-1&&", "]},e))})]})]})]})},k=(0,a.memo)(b),S=[{value:"all",label:"All Strategies"},{value:"ToppingTail5m",label:"5-Minute Topping Tail"},{value:"GreenRunReject",label:"Green Run Rejection"}],w=e=>{let{gapScanner:t}=e;const[n,o]=(0,a.useState)("all"),[r,l]=(0,a.useState)(""),[i,s]=(0,a.useState)(""),[c,u]=(0,a.useState)(!1),[d,m]=(0,a.useState)(null),[p,h]=(0,a.useState)(null),[y,v]=(0,a.useState)("marketOpen"),[b,k]=(0,a.useState)("09:30"),[w,x]=(0,a.useState)("16:00"),T=(0,a.useMemo)(()=>g(),[]),C=(0,a.useCallback)(e=>{const[t,n,a]=e.split("-").map(Number);return new Date(t,n-1,a).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})},[]),E=(0,a.useCallback)(()=>{if(!r||!i)return"Please select both start and end dates";const e=new Date(r),t=new Date(i),n=new Date;if(e>=n||t>=n)return"Both dates must be in the past";if(e>=t)return"Start date must be before end date";const a=(t.getTime()-e.getTime())/864e5;return a>365&&console.warn("Large date range detected: ".concat(a," days. This may take a while to process.")),null},[r,i]),N=(0,a.useCallback)((e,t)=>{const n=new Date(e),a=new Date(t),o=[],r=new Date(n);for(;r<=a;){const e=r.getDay();0!==e&&6!==e&&o.push(r.toISOString().split("T")[0]),r.setDate(r.getDate()+1)}return o},[]),P=(0,a.useCallback)(async()=>{const e=E();if(e)h(e);else{u(!0),h(null),m(null);try{console.log("Starting backtest: ".concat(n," from ").concat(r," to ").concat(i));const e=N(r,i);console.log("Testing ".concat(e.length," business days")),console.log("\u26a1 Pre-fetching grouped daily data for all dates...");const a=g().historical.minDailyVolume,o=t.polygonApiKey,l=new Map,s=async e=>{if(l.has(e))return l.get(e);const t=new Map;try{const n="https://api.polygon.io/v2/aggs/grouped/locale/us/market/stocks/".concat(e,"?adjusted=true&apiKey=").concat(o),a=await fetch(n),r=await a.json();r.results&&r.results.forEach(e=>{e.T&&t.set(e.T,e)}),l.set(e,t)}catch(p){console.warn("Failed to fetch daily data for ".concat(e,":"),p)}return t},c=new Set(e);e.forEach(e=>{const[t,n,a]=e.split("-").map(Number);let o=new Date(t,n-1,a);for(o.setDate(o.getDate()+1);0===o.getDay()||6===o.getDay();)o.setDate(o.getDate()+1);const r="".concat(o.getFullYear(),"-").concat(String(o.getMonth()+1).padStart(2,"0"),"-").concat(String(o.getDate()).padStart(2,"0"));c.add(r)});const u=Array.from(c),d=10;for(let t=0;t<u.length;t+=d){const e=u.slice(t,t+d);await Promise.all(e.map(e=>s(e))),console.log("   Fetched ".concat(Math.min(t+d,u.length),"/").concat(u.length," dates"))}console.log("\u2705 Pre-fetch complete! Cached data for ".concat(l.size," dates"));const f=[],h=3;for(let r=0;r<e.length;r+=h){const o=e.slice(r,Math.min(r+h,e.length));console.log("\n\ud83d\udd04 Processing batch ".concat(Math.floor(r/h)+1,": ").concat(o.join(", ")));const l=await Promise.all(o.map(async e=>{try{const o=await t.getHistoricalAlertsForDate(e),r=await s(e);let l=o;if(a>0&&r.size>0){const t=l.length;l=o.filter(e=>{const t=r.get(e.symbol);return((null===t||void 0===t?void 0:t.v)||0)>=a});const n=t-l.length;n>0&&console.log("   \ud83d\udcca ".concat(e,": Filtered ").concat(n," low-volume signals (< ").concat((a/1e3).toFixed(0),"K daily volume)"))}let i="all"===n?l:l.filter(e=>e.type===n);const[c,u]=b.split(":").map(Number),[d,f]=w.split(":").map(Number),m=c+u/60,g=d+f/60;i=i.filter(e=>{const t=new Date(e.timestamp),n=new Date(t.toLocaleString("en-US",{timeZone:"America/New_York"})),a=n.getHours()+n.getMinutes()/60;return a>=m&&a<g});let h=[];if("marketOpen"===y){const e=new Map;i.sort((e,t)=>e.timestamp-t.timestamp).forEach(t=>{e.has(t.symbol)||e.set(t.symbol,t)}),h=Array.from(e.values())}else h=i.sort((e,t)=>e.timestamp-t.timestamp);const v=[];for(const n of h)try{let a=null,o=null,r=0;if("marketOpen"===y){const l=new Date(n.timestamp),i=l.toLocaleString("en-US",{timeZone:"America/New_York",hour12:!1}),c=i.match(/(\d{1,2}):(\d{2}):(\d{2})/);if(!c){console.warn("Could not parse ET time for ".concat(n.symbol,": ").concat(i));continue}const u=parseInt(c[1])+parseInt(c[2])/60,[d,f,m]=e.split("-").map(Number);let p=new Date(d,f-1,m);for(u>=9.5&&p.setDate(p.getDate()+1);0===p.getDay()||6===p.getDay();)p.setDate(p.getDate()+1);const g="".concat(p.getFullYear(),"-").concat(String(p.getMonth()+1).padStart(2,"0"),"-").concat(String(p.getDate()).padStart(2,"0"));let h=0;const y=(await s(g)).get(n.symbol);if(y&&y.o?h=y.o:(console.log("\u26a0\ufe0f  ".concat(n.symbol," not in grouped data for ").concat(g,", fetching individually...")),h=await t.getMarketOpenPrice(n.symbol,g)),h<=0){console.warn("No open price for ".concat(n.symbol," on ").concat(g));continue}a=h,o=new Date(g+"T14:30:00.000Z");const v=l.toLocaleString("en-US",{timeZone:"America/New_York"}),b=new Date(v).setHours(0,0,0,0),k=new Date(g).setHours(0,0,0,0),S=Math.round((k-b)/864e5),w=parseInt(c[1]),x=parseInt(c[2]);r=24*S*60+(570-(60*w+x))}else{const l=await t.get5MinuteBars(n.symbol,new Date(e+"T00:00:00"),new Date(e+"T23:59:59"));if(!l||0===l.length){console.warn("No 5m bars for ".concat(n.symbol," on ").concat(e));continue}const i=new Date(n.timestamp);let s=!1,c=-1;for(let e=0;e<l.length;e++)if(new Date(l[e].t).getTime()>i.getTime()){c=e;break}if(-1===c){console.warn("No bars after entry for ".concat(n.symbol," on ").concat(e));continue}for(let e=c;e<l.length;e++){const t=l[e],n=new Date(t.t),u=new Date(n.toLocaleString("en-US",{timeZone:"America/New_York"})),d=u.getMinutes(),f=u.getSeconds();if(!(d%5===0&&0===f))continue;let m=!1;if("firstGreen5m"===y){m=t.c>t.o}else if("firstBreakPrevHigh5m"===y){if(e>c){const n=l[e-1];m=t.h>n.h}}else if("firstGreenOrBreakPrevHigh5m"===y){const n=t.c>t.o;let a=!1;if(e>c){const n=l[e-1];a=t.h>n.h}m=n||a}if(m){a=t.c,o=n,r=Math.round((n.getTime()-i.getTime())/6e4),s=!0;break}}if(!s){console.warn("No exit found for ".concat(y," for ").concat(n.symbol," on ").concat(e));continue}}if(null===a||null===o){console.warn("Missing exit data for ".concat(n.symbol," on ").concat(e));continue}const l=1e3,i=(n.price-a)*l,c=(n.price-a)/n.price*100,u=i>0,d={id:"".concat(n.symbol,"-").concat(e,"-").concat(n.timestamp,"-").concat(n.type),symbol:n.symbol,date:e,strategy:n.type,entryTime:new Date(n.timestamp).toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",timeZone:"America/New_York"}),entryPrice:n.price,exitPrice:a,exitTime:o.toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",timeZone:"America/New_York"}),exitStrategy:y,pnl:i,pnlPercent:c,isWin:u,signalDetail:n.detail,volume:n.volume||0,gapPercent:n.gapPercent||0,minutesToExit:r};v.push(d)}catch(p){console.warn("Failed to process trade for ".concat(n.symbol," on ").concat(e,":"),p)}return v}catch(p){return console.warn("Failed to process ".concat(e,":"),p),[]}})),i=l.flat();f.push(...i),console.log("   \u2705 Batch complete: ".concat(i.length," trades processed (Total: ").concat(f.length,")"))}const v=f.length,k=f.filter(e=>e.isWin),S=f.filter(e=>!e.isWin),x=f.reduce((e,t)=>e+t.pnl,0),T=v>0?k.length/v*100:0,C=k.length>0?k.reduce((e,t)=>e+t.pnl,0)/k.length:0,E=S.length>0?S.reduce((e,t)=>e+t.pnl,0)/S.length:0,P=k.length>0?Math.max(...k.map(e=>e.pnl)):0,D=S.length>0?Math.min(...S.map(e=>e.pnl)):0,A=k.reduce((e,t)=>e+t.pnl,0),F=Math.abs(S.reduce((e,t)=>e+t.pnl,0)),j=F>0?A/F:0,O={trades:f.sort((e,t)=>new Date(t.date).getTime()-new Date(e.date).getTime()),totalTrades:v,totalPnL:x,winRate:T,avgWin:C,avgLoss:E,maxWin:P,maxLoss:D,profitFactor:j,startDate:r,endDate:i,strategy:n};m(O),console.log("Backtest completed: ".concat(v," trades, $").concat(x.toFixed(2)," P&L"))}catch(p){console.error("Backtest failed:",p),h("Backtest failed: ".concat(p instanceof Error?p.message:"Unknown error"))}finally{u(!1)}}},[r,i,n,y,b,w,t,E,N]);return(0,f.jsxs)("div",{className:"backtesting",children:[(0,f.jsxs)("div",{className:"backtesting-header",children:[(0,f.jsxs)("div",{className:"header-title",children:[(0,f.jsx)("span",{className:"header-label",children:"STRATEGY BACKTESTING"}),(0,f.jsx)("span",{className:"header-subtitle",children:"Test 5-minute pattern performance \u2022 1000 shares per trade \u2022 Customizable entry times & exit strategies"})]}),(0,f.jsxs)("div",{className:"config-display",children:[(0,f.jsxs)("span",{className:"config-item",children:[(0,f.jsx)("span",{className:"config-label",children:"Hours:"})," ",T.marketHours.startTime," - ",T.marketHours.endTime," ET"]}),(0,f.jsxs)("span",{className:"config-item",children:[(0,f.jsx)("span",{className:"config-label",children:"Price:"})," $",T.gapCriteria.minPrice," - $",T.gapCriteria.maxPrice]}),(0,f.jsxs)("span",{className:"config-item",children:[(0,f.jsx)("span",{className:"config-label",children:"Volume:"})," ",(T.gapCriteria.minCumulativeVolume/1e3).toFixed(0),"K+"]}),(0,f.jsxs)("span",{className:"config-item",children:[(0,f.jsx)("span",{className:"config-label",children:"Gap:"})," ",T.gapCriteria.minGapPercentage,"%+"]}),(0,f.jsxs)("span",{className:"config-item",children:[(0,f.jsx)("span",{className:"config-label",children:"5m TT Close:"})," ",T.patterns.toppingTail5m.minClosePercent,"%+"]}),(0,f.jsxs)("span",{className:"config-item",children:[(0,f.jsx)("span",{className:"config-label",children:"5m TT Shadow:"})," ",T.patterns.toppingTail5m.minShadowToBodyRatio,"x+"]}),(0,f.jsxs)("span",{className:"config-item",children:[(0,f.jsx)("span",{className:"config-label",children:"5m TT HOD:"})," ",T.patterns.toppingTail5m.requireStrictHODBreak?"Strict Break":"".concat(T.patterns.toppingTail5m.maxHighDistanceFromHODPercent,"% max")]})]})]}),(0,f.jsxs)("div",{className:"backtest-controls",children:[(0,f.jsxs)("div",{className:"control-group",children:[(0,f.jsx)("label",{htmlFor:"strategy-select",children:"Strategy:"}),(0,f.jsx)("select",{id:"strategy-select",value:n,onChange:e=>o(e.target.value),disabled:c,className:"control-select",children:S.map(e=>{let{value:t,label:n}=e;return(0,f.jsx)("option",{value:t,children:n},t)})})]}),(0,f.jsxs)("div",{className:"control-group",children:[(0,f.jsx)("label",{htmlFor:"start-date",children:"Start Date:"}),(0,f.jsx)("input",{id:"start-date",type:"date",value:r,onChange:e=>l(e.target.value),max:(new Date).toISOString().split("T")[0],disabled:c,className:"control-input"})]}),(0,f.jsxs)("div",{className:"control-group",children:[(0,f.jsx)("label",{htmlFor:"end-date",children:"End Date:"}),(0,f.jsx)("input",{id:"end-date",type:"date",value:i,onChange:e=>s(e.target.value),max:(new Date).toISOString().split("T")[0],disabled:c,className:"control-input"})]}),(0,f.jsxs)("div",{className:"control-group",children:[(0,f.jsx)("label",{htmlFor:"exit-strategy",children:"Exit Strategy:"}),(0,f.jsxs)("select",{id:"exit-strategy",value:y,onChange:e=>v(e.target.value),disabled:c,className:"control-select",children:[(0,f.jsx)("option",{value:"marketOpen",children:"Close at Market Open"}),(0,f.jsx)("option",{value:"firstGreen5m",children:"First Green 5m Candle"}),(0,f.jsx)("option",{value:"firstBreakPrevHigh5m",children:"First Break Prev High 5m"}),(0,f.jsx)("option",{value:"firstGreenOrBreakPrevHigh5m",children:"First Green OR Break Prev High 5m"})]})]}),(0,f.jsxs)("div",{className:"control-group",children:[(0,f.jsx)("label",{htmlFor:"entry-start-time",children:"Entry Start Time:"}),(0,f.jsx)("input",{id:"entry-start-time",type:"time",value:b,onChange:e=>k(e.target.value),disabled:c,className:"control-input"})]}),(0,f.jsxs)("div",{className:"control-group",children:[(0,f.jsx)("label",{htmlFor:"entry-end-time",children:"Entry End Time:"}),(0,f.jsx)("input",{id:"entry-end-time",type:"time",value:w,onChange:e=>x(e.target.value),disabled:c,className:"control-input"})]}),(0,f.jsx)("button",{className:"backtest-button ".concat(c?"running":""),onClick:P,disabled:c||!r||!i,children:c?"RUNNING BACKTEST...":"RUN BACKTEST"})]}),p&&(0,f.jsxs)("div",{className:"error-message",children:[(0,f.jsx)("span",{className:"error-icon",children:"\u26a0"}),(0,f.jsx)("span",{className:"error-text",children:p})]}),c&&(0,f.jsxs)("div",{className:"backtest-progress",children:[(0,f.jsx)("div",{className:"progress-spinner"}),(0,f.jsx)("span",{children:"Analyzing historical data and market prices..."})]}),d&&(0,f.jsxs)("div",{className:"backtest-results",children:[(0,f.jsxs)("div",{className:"results-summary",children:[(0,f.jsx)("h3",{children:"Backtest Results"}),(0,f.jsxs)("div",{className:"summary-stats",children:[(0,f.jsxs)("div",{className:"stat-group",children:[(0,f.jsxs)("div",{className:"stat-item",children:[(0,f.jsx)("span",{className:"stat-label",children:"Total Trades"}),(0,f.jsx)("span",{className:"stat-value",children:d.totalTrades})]}),(0,f.jsxs)("div",{className:"stat-item",children:[(0,f.jsx)("span",{className:"stat-label",children:"Total P&L"}),(0,f.jsxs)("span",{className:"stat-value ".concat(d.totalPnL>=0?"positive":"negative"),children:["$",d.totalPnL.toFixed(2)]})]}),(0,f.jsxs)("div",{className:"stat-item",children:[(0,f.jsx)("span",{className:"stat-label",children:"Win Rate"}),(0,f.jsxs)("span",{className:"stat-value",children:[d.winRate.toFixed(1),"%"]})]}),(0,f.jsxs)("div",{className:"stat-item",children:[(0,f.jsx)("span",{className:"stat-label",children:"Profit Factor"}),(0,f.jsx)("span",{className:"stat-value",children:d.profitFactor.toFixed(2)})]})]}),(0,f.jsxs)("div",{className:"stat-group",children:[(0,f.jsxs)("div",{className:"stat-item",children:[(0,f.jsx)("span",{className:"stat-label",children:"Avg Win"}),(0,f.jsxs)("span",{className:"stat-value positive",children:["$",d.avgWin.toFixed(2)]})]}),(0,f.jsxs)("div",{className:"stat-item",children:[(0,f.jsx)("span",{className:"stat-label",children:"Avg Loss"}),(0,f.jsxs)("span",{className:"stat-value negative",children:["$",d.avgLoss.toFixed(2)]})]}),(0,f.jsxs)("div",{className:"stat-item",children:[(0,f.jsx)("span",{className:"stat-label",children:"Max Win"}),(0,f.jsxs)("span",{className:"stat-value positive",children:["$",d.maxWin.toFixed(2)]})]}),(0,f.jsxs)("div",{className:"stat-item",children:[(0,f.jsx)("span",{className:"stat-label",children:"Max Loss"}),(0,f.jsxs)("span",{className:"stat-value negative",children:["$",d.maxLoss.toFixed(2)]})]})]})]})]}),(0,f.jsxs)("div",{className:"trades-table",children:[(0,f.jsx)("h4",{children:"Trade Details"}),(0,f.jsx)("div",{className:"table-container",children:(0,f.jsxs)("table",{children:[(0,f.jsx)("thead",{children:(0,f.jsxs)("tr",{children:[(0,f.jsx)("th",{children:"Date"}),(0,f.jsx)("th",{children:"Symbol"}),(0,f.jsx)("th",{children:"Strategy"}),(0,f.jsx)("th",{children:"Entry Time"}),(0,f.jsx)("th",{children:"Exit Time"}),(0,f.jsx)("th",{children:"Exit Type"}),(0,f.jsx)("th",{children:"Hold Time"}),(0,f.jsx)("th",{children:"Volume"}),(0,f.jsx)("th",{children:"Gap %"}),(0,f.jsx)("th",{children:"Entry Price"}),(0,f.jsx)("th",{children:"Exit Price"}),(0,f.jsx)("th",{children:"P&L"}),(0,f.jsx)("th",{children:"P&L %"}),(0,f.jsx)("th",{children:"Signal"})]})}),(0,f.jsx)("tbody",{children:d.trades.map(e=>(0,f.jsxs)("tr",{className:e.isWin?"winning-trade":"losing-trade",children:[(0,f.jsx)("td",{children:C(e.date)}),(0,f.jsx)("td",{className:"symbol",children:e.symbol}),(0,f.jsx)("td",{className:"strategy",children:e.strategy}),(0,f.jsx)("td",{children:e.entryTime}),(0,f.jsx)("td",{children:e.exitTime}),(0,f.jsx)("td",{className:"exit-strategy",children:"marketOpen"===e.exitStrategy?"Market Open":"firstGreen5m"===e.exitStrategy?"1st Green 5m":"firstBreakPrevHigh5m"===e.exitStrategy?"1st Break Prev High":"1st Green/Break High"}),(0,f.jsxs)("td",{children:[e.minutesToExit,"m"]}),(0,f.jsx)("td",{children:e.volume.toLocaleString()}),(0,f.jsxs)("td",{className:e.gapPercent>0?"positive":"negative",children:[e.gapPercent>0?"+":"",e.gapPercent.toFixed(1),"%"]}),(0,f.jsxs)("td",{children:["$",e.entryPrice.toFixed(2)]}),(0,f.jsxs)("td",{children:["$",e.exitPrice.toFixed(2)]}),(0,f.jsxs)("td",{className:e.isWin?"positive":"negative",children:["$",e.pnl.toFixed(2)]}),(0,f.jsxs)("td",{className:e.isWin?"positive":"negative",children:[e.pnlPercent.toFixed(1),"%"]}),(0,f.jsx)("td",{className:"signal-detail",children:e.signalDetail})]},e.id))})]})})]})]})]})},x=(0,a.memo)(w);class T{constructor(e,t,n){this.ws=null,this.apiKey=void 0,this.config=void 0,this.symbols=new Map,this.alertCallbacks=[],this.firedAlertIds=new Set,this.isConnected=!1,this.reconnectAttempts=0,this.maxReconnectAttempts=10,this.reconnectDelay=5e3,this.heartbeatInterval=null,this.lastMessageTime=0,this.messageCount=0,this.detectToppingTail5m=void 0,this.apiKey=e,this.config=t,this.detectToppingTail5m=n.detectToppingTail5m,console.log("\ud83d\udd0c WebSocketScanner initialized")}async connect(e){return console.log("\n"+"=".repeat(80)),console.log("\ud83d\udd0c WEBSOCKET: Connecting to Polygon..."),console.log("=".repeat(80)),new Promise((t,n)=>{try{this.ws=new WebSocket("wss://socket.polygon.io/stocks"),this.ws.onopen=()=>{console.log("\u2705 WebSocket connection opened")},this.ws.onmessage=async a=>{const o=JSON.parse(a.data);for(const r of o)"status"===r.ev&&"auth_success"===r.status?(console.log("\u2705 WebSocket authenticated successfully"),this.isConnected=!0,this.reconnectAttempts=0,await this.initializeSymbols(e),await this.subscribeToSymbols(),this.startHeartbeat(),t()):"status"===r.ev&&"auth_failed"===r.status?(console.error("\u274c WebSocket authentication failed"),n(new Error("Authentication failed"))):"AM"===r.ev?this.handleMinuteAggregate(r):"status"===r.ev&&console.log("\ud83d\udce1 Status message: ".concat(r.message||JSON.stringify(r)))},this.ws.onerror=e=>{console.error("\u274c WebSocket error:",e),n(e)},this.ws.onclose=e=>{console.log("\ud83d\udd0c WebSocket closed: code=".concat(e.code,", reason=").concat(e.reason||"none")),this.isConnected=!1,this.stopHeartbeat(),this.handleReconnect()},this.ws.onopen=()=>{console.log("\ud83d\udce4 Sending authentication..."),this.ws.send(JSON.stringify({action:"auth",params:this.apiKey}))}}catch(a){console.error("\u274c Failed to create WebSocket:",a),n(a)}})}async initializeSymbols(e){console.log("\n\ud83d\udcca Initializing ".concat(e.length," symbols..."));for(const t of e){const e=void 0!==t.hod?t.hod:t.currentPrice;this.symbols.set(t.symbol,{symbol:t.symbol,minuteCandles:[],hod:e,gapPercent:t.gapPercent,previousClose:t.previousClose,lastProcessed5MinBoundary:0,cumulativeVolume:0}),console.log("   \u2705 ".concat(t.symbol,": gap=").concat(t.gapPercent.toFixed(1),"%, Initial HOD=").concat(e.toFixed(2)).concat(void 0!==t.hod?" (from gap scan)":" (from current price)"))}console.log("\n\ud83d\udce5 Backfilling recent 1-minute candles..."),await this.backfillRecentCandles(e.map(e=>e.symbol))}async backfillRecentCandles(e){const t=new Date,n=new Date(t.toLocaleString("en-US",{timeZone:"America/New_York"})),[a,o]=this.config.marketHours.startTime.split(":").map(Number),r=new Date(n.getFullYear(),n.getMonth(),n.getDate(),a,o,0),l=Date.parse(r.toLocaleString("en-US",{timeZone:"UTC"})),i="".concat(n.getFullYear(),"-").concat(String(n.getMonth()+1).padStart(2,"0"),"-").concat(String(n.getDate()).padStart(2,"0")),s=this.getPreviousTradingDay(i);console.log("   Fetching 1-minute bars from market start (".concat(this.config.marketHours.startTime," ET) to now")),console.log("   Date: ".concat(i,", Start time: ").concat(r.toLocaleTimeString())),console.log("   Also fetching previous day after-hours data: ".concat(s));for(const u of e){try{const e=await this.getAfterHoursHigh(u,s),t="https://api.polygon.io/v2/aggs/ticker/".concat(u,"/range/1/minute/").concat(i,"/").concat(i,"?adjusted=true&sort=asc&limit=50000&include_extended_hours=true&apikey=").concat(this.apiKey),n=await fetch(t),a=await n.json();if(!a.results||0===a.results.length){console.log("   \u26a0\ufe0f  ".concat(u,": No recent 1-minute data available"));continue}const o=this.symbols.get(u);if(!o)continue;const r=a.results.map(e=>({timestamp:e.t,high:e.h})),c=r.length>0?Math.max(...r.map(e=>e.high)):0;o.hod=Math.max(e,c);const d=a.results.filter(e=>e.t>=l).map(e=>({timestamp:e.t,open:e.o,high:e.h,low:e.l,close:e.c,volume:e.v}));o.minuteCandles=d,o.cumulativeVolume=d.reduce((e,t)=>e+t.volume,0),console.log("   \u2705 ".concat(u,": Loaded ").concat(d.length," 1-minute candles from ").concat(this.config.marketHours.startTime," ET")),console.log("      \ud83d\udcc8 HOD Calculation: Prev day after-hours=$".concat(e.toFixed(2),", Today max=$").concat(c.toFixed(2)," (from ALL ").concat(r.length," bars), TRUE HOD=$").concat(o.hod.toFixed(2))),console.log("      \ud83d\udcca Cumulative Volume: ".concat((o.cumulativeVolume/1e3).toFixed(1),"K (from bars >= ").concat(this.config.marketHours.startTime,")")),this.checkAndProcess5MinCandle(u,o)}catch(c){console.error("   \u274c ".concat(u,": Backfill failed:"),c)}await new Promise(e=>setTimeout(e,100))}console.log("   \u2705 Backfill complete\n")}getPreviousTradingDay(e){const[t,n,a]=e.split("-").map(Number),o=new Date(t,n-1,a);o.setDate(o.getDate()-1),0===o.getDay()?o.setDate(o.getDate()-2):6===o.getDay()&&o.setDate(o.getDate()-1);const r=o.getFullYear(),l=String(o.getMonth()+1).padStart(2,"0"),i=String(o.getDate()).padStart(2,"0");return"".concat(r,"-").concat(l,"-").concat(i)}async getAfterHoursHigh(e,t){try{const n="https://api.polygon.io/v2/aggs/ticker/".concat(e,"/range/1/minute/").concat(t,"/").concat(t,"?adjusted=true&sort=asc&limit=50000&include_extended_hours=true&apikey=").concat(this.apiKey),a=await fetch(n);if(!a.ok)return 0;const o=await a.json();if(!o.results||0===o.results.length)return 0;const r=o.results.filter(e=>{const t=new Date(e.t),n=new Date(t.toLocaleString("en-US",{timeZone:"America/New_York"})),a=n.getHours()+n.getMinutes()/60;return a>=16&&a<20});if(0===r.length)return 0;const l=Math.max(...r.map(e=>e.h));return console.log("      \ud83d\udcca ".concat(e," After-hours high (").concat(t," 4-8 PM): $").concat(l.toFixed(2)," from ").concat(r.length," bars")),l}catch(n){return console.error("   \u26a0\ufe0f  ".concat(e,": Failed to fetch after-hours data for ").concat(t,":"),n),0}}async subscribeToSymbols(){if(!this.ws||this.ws.readyState!==WebSocket.OPEN)return void console.error("\u274c Cannot subscribe: WebSocket not ready");const e=Array.from(this.symbols.keys());if(0===e.length)return void console.warn("\u26a0\ufe0f  No symbols to subscribe to");const t=e.map(e=>"AM.".concat(e)).join(",");console.log("\ud83d\udce1 Subscribing to minute aggregates for ".concat(e.length," symbols...")),console.log("   Symbols: ".concat(e.join(", ")));const n={action:"subscribe",params:t};this.ws.send(JSON.stringify(n)),console.log("\u2705 Subscription request sent")}handleMinuteAggregate(e){this.lastMessageTime=Date.now(),this.messageCount++;const t=this.symbols.get(e.sym);if(!t)return;const n={timestamp:e.s,open:e.o,high:e.h,low:e.l,close:e.c,volume:e.v};if(e.h>t.hod){const n=t.hod;t.hod=e.h,console.log("\ud83d\udcc8 ".concat(e.sym," NEW HOD: ").concat(n.toFixed(2)," \u2192 ").concat(e.h.toFixed(2)))}t.cumulativeVolume+=e.v,t.minuteCandles.push(n),t.minuteCandles.length>120&&t.minuteCandles.shift(),console.log("\ud83d\udcca ".concat(e.sym," 1m candle: ").concat(this.formatETTime(new Date(e.s))," | O:").concat(e.o.toFixed(2)," H:").concat(e.h.toFixed(2)," L:").concat(e.l.toFixed(2)," C:").concat(e.c.toFixed(2)," V:").concat(e.v)),this.checkAndProcess5MinCandle(e.sym,t)}checkAndProcess5MinCandle(e,t){if(0===t.minuteCandles.length)return;const n=t.minuteCandles[t.minuteCandles.length-1],a=new Date(n.timestamp),o=new Date(a.toLocaleString("en-US",{timeZone:"America/New_York"})),r=o.getMinutes();if(!(4===r%5))return;const l=new Date(o),i=5*Math.floor(r/5);l.setMinutes(i,0,0);const s=l.getTime(),c=l.getMinutes();if(s<=t.lastProcessed5MinBoundary)return;const u=(c+4)%60,d=l.getHours();console.log("\n".concat("\u23f0".repeat(40))),console.log("\u23f0 ".concat(e," - 5-MIN PERIOD COMPLETED with ").concat(this.formatETTime(o)," candle")),console.log("   \u2705 Processing COMPLETED period: ".concat(d,":").concat(String(c).padStart(2,"0"),"-").concat(d,":").concat(String(u).padStart(2,"0"))),console.log("   \u26a1 INSTANT ALERT: No delay - processing immediately!"),console.log("".concat("\u23f0".repeat(40)));const f=[];for(let p=0;p<5;p++){const e=c+p,n=new Date(l);n.setMinutes(e);const a=n.getTime(),o=t.minuteCandles.find(t=>{const n=new Date(t.timestamp);return new Date(n.toLocaleString("en-US",{timeZone:"America/New_York"})).getMinutes()===e&&Math.abs(t.timestamp-a)<12e4});o&&f.push(o)}if(console.log("   Found ".concat(f.length,"/5 required 1-minute candles")),f.length<5)return void console.log("   \u26a0\ufe0f  Insufficient data to build 5-minute candle - need 5, have ".concat(f.length));const m=this.aggregate5MinCandle(f,l);console.log("   \ud83d\udcca 5m Candle [".concat(c,":00-").concat(c+4,":59]: O:").concat(m.open.toFixed(2)," H:").concat(m.high.toFixed(2)," L:").concat(m.low.toFixed(2)," C:").concat(m.close.toFixed(2)," V:").concat(m.volume)),t.lastProcessed5MinBoundary=s,this.detectPatterns(e,t,m,l).catch(t=>{console.error("\u274c Error in pattern detection for ".concat(e,":"),t)})}aggregate5MinCandle(e,t){const n=e.sort((e,t)=>e.timestamp-t.timestamp);return{timestamp:t.getTime(),open:n[0].open,high:Math.max(...n.map(e=>e.high)),low:Math.min(...n.map(e=>e.low)),close:n[n.length-1].close,volume:n.reduce((e,t)=>e+t.volume,0)}}async detectPatterns(e,t,n,a){console.log("\n\ud83d\udd0d Running pattern detection for ".concat(e," at ").concat(this.formatETTime(a),"..."));const o=new Date(a.toLocaleString("en-US",{timeZone:"America/New_York"})),r=o.getHours()+o.getMinutes()/60,[l,i]=this.config.marketHours.startTime.split(":").map(Number),[s,c]=this.config.marketHours.endTime.split(":").map(Number),u=l+i/60,d=s+c/60;if(r<u||r>=d)return void console.log("   \u23f0 FILTERED OUT: ".concat(e," at ").concat(this.formatETTime(a)," (ET ").concat(r.toFixed(2),") - outside ").concat(u.toFixed(1),"-").concat(d.toFixed(1)," hours - SKIPPING DETECTION"));if(t.cumulativeVolume<this.config.gapCriteria.minCumulativeVolume)return void console.log("   \ud83d\udeab VOLUME FILTER: ".concat(e," at ").concat(this.formatETTime(a)," - cumulative volume ").concat((t.cumulativeVolume/1e3).toFixed(1),"K < ").concat((this.config.gapCriteria.minCumulativeVolume/1e3).toFixed(0),"K required - SKIPPING SIGNAL"));console.log("   \u2705 VOLUME PASSED: ".concat(e," at ").concat(this.formatETTime(a)," - cumulative volume ").concat((t.cumulativeVolume/1e3).toFixed(1),"K >= ").concat((this.config.gapCriteria.minCumulativeVolume/1e3).toFixed(0),"K required"));const f=await this.build5MinCandleHistory(e,a);f.push(n);const m=f.length-1;console.log("   \ud83d\udcca Built history of ".concat(f.length," 5-minute candles (").concat(f.length-1," from REST + 1 current) for pattern detection"));const p=f.map(e=>({t:e.timestamp,o:e.open,h:e.high,l:e.low,c:e.close,v:e.volume,vw:(e.open+e.close)/2,n:1})),g=[this.detectToppingTail5m.call(this,e,p,m,t.hod,a,t.cumulativeVolume,t.gapPercent)];g.forEach(e=>{e&&(console.log("\ud83c\udfaf PATTERN DETECTED: ".concat(e.type," for ").concat(e.symbol)),this.fireAlert(e))}),g.every(e=>null===e)&&console.log("   \u2705 No patterns detected")}async build5MinCandleHistory(e,t){try{const n=this.symbols.get(e);if(!n)return console.log("   \u26a0\ufe0f  ".concat(e,": Symbol state not found")),[];const a=(new Date).toISOString().split("T")[0],o="https://api.polygon.io/v2/aggs/ticker/".concat(e,"/range/5/minute/").concat(a,"/").concat(a,"?adjusted=true&sort=asc&limit=50000&include_extended_hours=true&apikey=").concat(this.apiKey),r=await fetch(o),l=await r.json();let i=[];if(l.results&&l.results.length>0){const e=t.getTime()-9e5;i=l.results.filter(t=>t.t<e).map(e=>({timestamp:e.t,open:e.o,high:e.h,low:e.l,close:e.c,volume:e.v})),console.log("   \ud83d\udcca Fetched ".concat(i.length," older 5-minute bars from REST API (before ").concat(new Date(e).toLocaleTimeString(),")"))}const s=this.buildRecent5MinBarsFromBuffer(n,t);console.log("   \ud83d\udcca Built ".concat(s.length," recent 5-minute bars from 1-minute buffer"));const c=[...i,...s].slice(-20);return console.log("   \ud83d\udcca Total history: ".concat(c.length," bars (").concat(i.length," from REST + ").concat(s.length," from buffer)")),c}catch(n){return console.error("   \u274c Failed to build 5-minute history for ".concat(e,":"),n),[]}}buildRecent5MinBarsFromBuffer(e,t){const n=[],a=new Date(t.toLocaleString("en-US",{timeZone:"America/New_York"})),o=a.getMinutes(),r=5*Math.floor(o/5);for(let l=4;l>0;l--){const t=r-5*l,o=new Date(a);o.setMinutes(t,0,0);const i=[];for(let n=0;n<5;n++){const a=t+n,r=new Date(o);r.setMinutes(a);const l=r.getTime(),s=e.minuteCandles.find(e=>{const t=new Date(e.timestamp);return new Date(t.toLocaleString("en-US",{timeZone:"America/New_York"})).getMinutes()===a%60&&Math.abs(e.timestamp-l)<12e4});s&&i.push(s)}5===i.length&&n.push(this.aggregate5MinCandle(i,o))}return n}fireAlert(e){if(this.firedAlertIds.has(e.id))console.log("\u23ed\ufe0f  Skipping duplicate alert: ".concat(e.id));else{if(this.firedAlertIds.add(e.id),this.firedAlertIds.size>1e3){Array.from(this.firedAlertIds).slice(0,500).forEach(e=>this.firedAlertIds.delete(e))}console.log("\n\ud83d\udd14 FIRING ALERT: ".concat(e.type," for ").concat(e.symbol," at ").concat(new Date(e.timestamp).toLocaleTimeString())),console.log("   Callbacks registered: ".concat(this.alertCallbacks.length)),this.alertCallbacks.forEach((t,n)=>{try{t(e),console.log("   \u2705 Callback ".concat(n+1," executed"))}catch(a){console.error("   \u274c Error in callback ".concat(n+1,":"),a)}})}}onAlert(e){return console.log("\ud83d\udcdd Registering alert callback (total: ".concat(this.alertCallbacks.length+1,")")),this.alertCallbacks.push(e),()=>{const t=this.alertCallbacks.indexOf(e);t>-1&&(this.alertCallbacks.splice(t,1),console.log("\ud83d\uddd1\ufe0f  WebSocket alert callback removed (remaining: ".concat(this.alertCallbacks.length,")")))}}async updateSymbols(e){console.log("\n\ud83d\udcca Updating symbols (".concat(e.length," symbols)..."));const t=new Set(e.map(e=>e.symbol)),n=new Set(this.symbols.keys()),a=e.filter(e=>!n.has(e.symbol)),o=Array.from(n).filter(e=>!t.has(e));if(o.length>0&&this.ws&&this.ws.readyState===WebSocket.OPEN){const e=o.map(e=>"AM.".concat(e)).join(",");this.ws.send(JSON.stringify({action:"unsubscribe",params:e})),o.forEach(e=>this.symbols.delete(e)),console.log("   \ud83d\udd34 Unsubscribed from: ".concat(o.join(", ")))}if(a.length>0){for(const e of a){const t=void 0!==e.hod?e.hod:e.currentPrice;this.symbols.set(e.symbol,{symbol:e.symbol,minuteCandles:[],hod:t,gapPercent:e.gapPercent,previousClose:e.previousClose,lastProcessed5MinBoundary:0,cumulativeVolume:0})}if(this.ws&&this.ws.readyState===WebSocket.OPEN){const e=a.map(e=>"AM.".concat(e.symbol)).join(",");this.ws.send(JSON.stringify({action:"subscribe",params:e})),console.log("   \ud83d\udfe2 Subscribed to: ".concat(a.map(e=>e.symbol).join(", ")))}}console.log("   \ud83d\udcca Total symbols tracked: ".concat(this.symbols.size))}startHeartbeat(){this.heartbeatInterval=setInterval(()=>{if(this.ws&&this.ws.readyState===WebSocket.OPEN){const e=Date.now()-this.lastMessageTime,t=Math.floor(e/1e3);console.log("\n".concat("\ud83d\udc93".repeat(20))),console.log("\ud83d\udc93 WebSocket HEARTBEAT - Status Check"),console.log("   Connection: ".concat(this.isConnected?"\ud83d\udfe2 CONNECTED":"\ud83d\udd34 DISCONNECTED")),console.log("   Symbols tracked: ".concat(this.symbols.size)),console.log("   Messages received: ".concat(this.messageCount)),console.log("   Last message: ".concat(t,"s ago")),console.log("   Status: ".concat(t<120?"\u2705 HEALTHY - Receiving data":"\u26a0\ufe0f  WARNING - No data for "+t+"s")),console.log("".concat("\ud83d\udc93".repeat(20),"\n"))}},3e4)}stopHeartbeat(){this.heartbeatInterval&&(clearInterval(this.heartbeatInterval),this.heartbeatInterval=null)}handleReconnect(){if(this.reconnectAttempts>=this.maxReconnectAttempts)return void console.error("\u274c Max reconnection attempts (".concat(this.maxReconnectAttempts,") reached. Giving up."));this.reconnectAttempts++;const e=this.reconnectDelay*Math.pow(2,this.reconnectAttempts-1);console.log("\ud83d\udd04 Attempting reconnection ".concat(this.reconnectAttempts,"/").concat(this.maxReconnectAttempts," in ").concat(e/1e3,"s...")),setTimeout(async()=>{try{const e=Array.from(this.symbols.values()).map(e=>({symbol:e.symbol,gapPercent:e.gapPercent,previousClose:e.previousClose,currentPrice:e.hod}));await this.connect(e),console.log("\u2705 Reconnected successfully")}catch(e){console.error("\u274c Reconnection failed:",e)}},e)}disconnect(){console.log("\ud83d\udd0c Disconnecting WebSocket..."),this.stopHeartbeat(),this.ws&&(this.ws.close(),this.ws=null),this.isConnected=!1,console.log("\u2705 WebSocket disconnected")}getConnectionStatus(){return this.isConnected&&null!==this.ws&&this.ws.readyState===WebSocket.OPEN}getDetailedStatus(){const e=Date.now()-this.lastMessageTime,t=Math.floor(e/1e3);return{isConnected:this.isConnected&&null!==this.ws&&this.ws.readyState===WebSocket.OPEN,symbolsTracked:this.symbols.size,messagesReceived:this.messageCount,lastMessageTime:this.lastMessageTime,secondsSinceLastMessage:t,isHealthy:t<120}}printStatus(){const e=this.getDetailedStatus();console.log("\n".concat("\ud83d\udcca".repeat(30))),console.log("\ud83d\udcca WEBSOCKET STATUS REPORT"),console.log("".concat("\ud83d\udcca".repeat(30))),console.log("   Connection: ".concat(e.isConnected?"\ud83d\udfe2 CONNECTED":"\ud83d\udd34 DISCONNECTED")),console.log("   Symbols tracked: ".concat(e.symbolsTracked)),console.log("   Total messages received: ".concat(e.messagesReceived)),console.log("   Last message: ".concat(e.secondsSinceLastMessage,"s ago")),console.log("   Health status: ".concat(e.isHealthy?"\u2705 HEALTHY":"\u26a0\ufe0f  WARNING - No recent data")),e.isConnected&&e.symbolsTracked>0&&(console.log("\n   Tracked symbols:"),Array.from(this.symbols.keys()).forEach((e,t)=>{const n=this.symbols.get(e);console.log("      ".concat(t+1,". ").concat(e," - HOD: $").concat(n.hod.toFixed(2),", Gap: ").concat(n.gapPercent.toFixed(1),"%, Candles: ").concat(n.minuteCandles.length))})),console.log("".concat("\ud83d\udcca".repeat(30),"\n"))}formatETTime(e){return new Date(e.toLocaleString("en-US",{timeZone:"America/New_York"})).toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"})}}class C{constructor(e,t){this.polygonApiKey=void 0,this.gapStocks=new Map,this.isScanning=!1,this.scanInterval=null,this.alertCallbacks=[],this.firedAlertIds=new Set,this.lastBackfillTime=0,this.config=void 0,this.webSocketScanner=null,this.useWebSocket=!0,this.patternStates=new Map,this.requestCache=new Map,this.requestQueue=new Map,this.maxRetries=3,this.cacheTimeout=3e4,this.polygonApiKey=e||"YePMCoG58N9NN9wor1g9NAgkULrFpXae",this.config=t||g(),this.validateAndApplyConfig(),this.useWebSocket&&this.polygonApiKey&&(this.webSocketScanner=new T(this.polygonApiKey,this.config,{detectToppingTail5m:this.detectToppingTail5m.bind(this)}),console.log("\u2705 WebSocket scanner initialized"))}clearCache(){console.log("\ud83d\uddd1\ufe0f Clearing API response cache to respect updated configuration"),this.requestCache.clear(),this.requestQueue.clear(),this.firedAlertIds.clear(),console.log("\u2705 Cache cleared successfully")}validateAndApplyConfig(){const e=(e=>{const t=[],n=h(e.marketHours.startTime),a=h(e.marketHours.endTime);return null===n&&t.push("Invalid start time format: ".concat(e.marketHours.startTime)),null===a&&t.push("Invalid end time format: ".concat(e.marketHours.endTime)),n&&a&&n>=a&&t.push("Start time must be before end time"),e.gapCriteria.minGapPercentage<0&&t.push("Minimum gap percentage must be positive"),e.gapCriteria.maxGapPercentage<=e.gapCriteria.minGapPercentage&&t.push("Maximum gap percentage must be greater than minimum"),e.gapCriteria.minPrice<=0&&t.push("Minimum price must be positive"),e.gapCriteria.maxPrice<=e.gapCriteria.minPrice&&t.push("Maximum price must be greater than minimum price"),e.patterns.hod.nearHodDistancePercent<0&&t.push("Near HOD distance percentage must be positive"),e.patterns.hod.maxHodDistancePercent<=e.patterns.hod.nearHodDistancePercent&&t.push("Max HOD distance must be greater than near HOD distance"),t})(this.config);if(e.length>0)throw console.error("Scanner Configuration Errors:",e),new Error("Invalid scanner configuration: ".concat(e.join(", ")));console.log("\ud83d\udd27 Scanner Config Applied: Hours ".concat(this.config.marketHours.startTime,"-").concat(this.config.marketHours.endTime," ET")),this.clearCache(),this.maxRetries=this.config.api.maxRetries,this.cacheTimeout=this.config.api.requestTimeout,this.config.development.enableDebugLogging&&console.log("\ud83d\udd27 Scanner Configuration Applied:",{marketHours:"".concat(this.config.marketHours.startTime," - ").concat(this.config.marketHours.endTime," (").concat(this.config.marketHours.timezone,")"),gapCriteria:"".concat(this.config.gapCriteria.minGapPercentage,"%-").concat(this.config.gapCriteria.maxGapPercentage,"%, $").concat(this.config.gapCriteria.minPrice,"-$").concat(this.config.gapCriteria.maxPrice,", vol: ").concat(this.config.gapCriteria.minCumulativeVolume),hodSettings:"Near HOD: ".concat(this.config.patterns.hod.nearHodDistancePercent,"%, Max: ").concat(this.config.patterns.hod.maxHodDistancePercent,"%")})}updateConfig(e){this.config=c(c({},this.config),e),this.validateAndApplyConfig(),this.config.development.enableDebugLogging&&console.log("\ud83d\udd04 Configuration updated successfully")}getCurrentTime(){return this.config.development.overrideCurrentTime?new Date(this.config.development.overrideCurrentTime):new Date}isWithinMarketHours(e){const t=e||this.getCurrentTime(),n=new Date(t.toLocaleString("en-US",{timeZone:"America/New_York"})),a=n.getHours(),o=n.getMinutes(),[r,l]=this.config.marketHours.startTime.split(":").map(Number),[i,s]=this.config.marketHours.endTime.split(":").map(Number),c=60*i+s,u=60*a+o,d=60*r+l-2,f=u>=d&&u<c;return console.log("\u23f0 ET Time: ".concat(a.toString().padStart(2,"0"),":").concat(o.toString().padStart(2,"0")," | Market: ").concat(r,":").concat(l.toString().padStart(2,"0"),"-").concat(i,":").concat(s.toString().padStart(2,"0")," | Status: ").concat(f?"ACTIVE (incl. 2min grace)":"CLOSED")),this.config.development.enableDebugLogging&&console.log("\u23f0 Market Hours Check: ".concat(a.toString().padStart(2,"0"),":").concat(o.toString().padStart(2,"0")," ET (").concat(u," min) vs ").concat(r,":").concat(l.toString().padStart(2,"0"),"-").concat(i,":").concat(s.toString().padStart(2,"0")," (").concat(d,"-").concat(c," min w/ grace) = ").concat(f?"WITHIN":"OUTSIDE")),f}getETMinutes(e){return new Date(e.toLocaleString("en-US",{timeZone:"America/New_York"})).getMinutes()}async cachedFetch(e,t){const n="".concat(e,"-").concat(JSON.stringify(t)),a=this.requestCache.get(n);if(a&&Date.now()-a.timestamp<this.cacheTimeout)return a.data;const o=this.requestQueue.get(n);if(o)return o;const r=this.fetchWithRetry(e,t,this.maxRetries);this.requestQueue.set(n,r);try{const e=await r;return this.requestCache.set(n,{data:e,timestamp:Date.now()}),e}finally{this.requestQueue.delete(n)}}async fetchWithRetry(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,a=new Error("Unknown error occurred");for(let r=1;r<=n;r++)try{const n=await fetch(e,c(c({},t),{},{timeout:this.config.api.httpTimeout}));if(!n.ok)throw new Error("HTTP ".concat(n.status,": ").concat(n.statusText));return n.json()}catch(o){if(a=o,r<n){const e=1e3*Math.pow(2,r-1);console.warn("Request failed (attempt ".concat(r,"/").concat(n,"), retrying in ").concat(e,"ms...")),await new Promise(t=>setTimeout(t,e))}}throw a}async scanForGappers(){try{const e=this.getCurrentTime(),t=this.getETHour(e);this.config.development.enableDebugLogging&&console.log("Scanning for gappers at ET time: ".concat(this.formatETTime(e)," (").concat(t.toFixed(2),")"));const n=await this.fetchGappersFromAPI(),a=n.filter(e=>e.gapPercent>=this.config.gapCriteria.minGapPercentage&&e.gapPercent<=this.config.gapCriteria.maxGapPercentage&&e.cumulativeVolume>=this.config.gapCriteria.minCumulativeVolume&&e.currentPrice>=this.config.gapCriteria.minPrice&&e.currentPrice<=this.config.gapCriteria.maxPrice);if(a.forEach(e=>{this.gapStocks.set(e.symbol,e)}),this.config.development.enableDebugLogging){console.log("Found ".concat(a.length," qualified gap stocks (min gap: ").concat(this.config.gapCriteria.minGapPercentage,"%, min vol: ").concat(this.config.gapCriteria.minCumulativeVolume,")")),a.forEach(e=>{console.log("\u2705 QUALIFIED STOCK: ".concat(e.symbol," - ").concat((e.cumulativeVolume/1e3).toFixed(0),"k volume (").concat(e.gapPercent.toFixed(1),"% gap)"))});const e=n.filter(e=>e.gapPercent>=this.config.gapCriteria.minGapPercentage&&e.gapPercent<=this.config.gapCriteria.maxGapPercentage&&e.currentPrice>=this.config.gapCriteria.minPrice&&e.currentPrice<=this.config.gapCriteria.maxPrice).filter(e=>e.cumulativeVolume<this.config.gapCriteria.minCumulativeVolume);e.length>0&&console.log("\ud83d\udeab VOLUME FILTERED OUT: ".concat(e.map(e=>"".concat(e.symbol,":").concat((e.cumulativeVolume/1e3).toFixed(0),"k")).join(", ")))}return a}catch(e){return console.error("Error scanning for gappers:",e),Array.from(this.gapStocks.values())}}async fetchGappersFromAPI(){const e=new Date,t=this.getETHour(e),n=(new Date).toISOString().split("T")[0];if(!this.polygonApiKey)throw console.error("No Polygon API key provided - cannot fetch real market data"),new Error("Polygon API key required for real market data");try{console.log("\n========== SCANNER MODE SELECTION =========="),console.log("Current ET Time: ".concat(this.formatETTime(e)," (Hour: ").concat(t.toFixed(2),")")),console.log("Config: ".concat(this.config.gapCriteria.minGapPercentage,"%+ gap, ").concat((this.config.gapCriteria.minCumulativeVolume/1e3).toFixed(0),"K+ volume, $").concat(this.config.gapCriteria.minPrice,"-").concat(this.config.gapCriteria.maxPrice," price")),console.log("Market Hours: ".concat(this.config.marketHours.startTime," - ").concat(this.config.marketHours.endTime," ET"));const a=this.isWithinMarketHours(e);if(console.log("Within Market Hours Check: ".concat(a)),console.log("ET Hour >= 9.5 (9:30 AM)?: ".concat(t>=9.5)),t>=9.5){console.log("\ud83d\udcc8 MODE: REGULAR HOURS - Using live gainers endpoint"),console.log("============================================\n");const e=await this.fetchLiveGappers(n);return console.log("Found ".concat(e.length," qualifying gap stocks:"),e.map(e=>e.symbol)),e}if(a){console.log("\ud83c\udf05 MODE: PREMARKET - Using live premarket scan with minute bar volume"),console.log("============================================\n");const e=await this.fetchLivePremarketGappers(n);return console.log("Found ".concat(e.length," premarket gap stocks:"),e.map(e=>e.symbol)),e}{console.log("\ud83d\udd50 MODE: MARKET CLOSED - Using historical analysis"),console.log("============================================\n");const e=await this.fetchHistoricalGappers(n);return console.log("Found ".concat(e.length," historical gap stocks:"),e.map(e=>e.symbol)),e}}catch(a){throw console.error("Error fetching gainers:",a),a}}async fetchLiveGappers(e){const t="https://api.polygon.io/v2/snapshot/locale/us/markets/stocks/gainers?apikey=".concat(this.polygonApiKey);console.log("Fetching live gainers from Polygon API...");const n=await this.cachedFetch(t);if("OK"!==n.status||!n.tickers)return console.warn("No real-time gainers data available"),[];console.log("Processing ".concat(n.tickers.length," real-time gainers for live gaps"));const a=[];for(const c of n.tickers)try{var o,r,l;const t=null===(o=c.lastTrade)||void 0===o?void 0:o.p,n=c.todaysChangePerc,s=c.ticker,u=null===(r=c.prevDay)||void 0===r?void 0:r.c,d=null===(l=c.min)||void 0===l?void 0:l.av;var i;if(this.config.development.enableDebugLogging&&s)console.log("\ud83d\udd0d VOLUME DEBUG ".concat(s,": min.av=").concat(d||"N/A",", day.v=").concat((null===(i=c.day)||void 0===i?void 0:i.v)||"N/A",", required=").concat(this.config.gapCriteria.minCumulativeVolume));if(!t||!d||!n||!s||!u){this.config.development.enableDebugLogging&&console.log("\u274c ".concat(s,": MISSING DATA - price=").concat(t,", volume=").concat(d,", change=").concat(n,", prevClose=").concat(u));continue}const f=t>=this.config.gapCriteria.minPrice&&t<=this.config.gapCriteria.maxPrice,m=d>=this.config.gapCriteria.minCumulativeVolume,p=n>=this.config.gapCriteria.minGapPercentage;if(this.config.development.enableDebugLogging&&console.log("\ud83d\udcca ".concat(s," FILTER CHECK: price=").concat(f?"\u2705":"\u274c"," (").concat(t.toFixed(2),"), volume=").concat(m?"\u2705":"\u274c"," (").concat((d/1e3).toFixed(0),"K >= ").concat((this.config.gapCriteria.minCumulativeVolume/1e3).toFixed(0),"K), gap=").concat(p?"\u2705":"\u274c"," (").concat(n.toFixed(1),"%)")),f&&m&&p){console.log("\u2705 ".concat(s,": QUALIFIED - ").concat(n.toFixed(1),"% gap, ").concat((d/1e3).toFixed(0),"K volume, $").concat(t.toFixed(2)));const o={symbol:s,gapPercent:n,currentPrice:t,previousClose:u,volume:d,cumulativeVolume:d,hod:await this.calculateTrueHOD(s,e),lastUpdated:Date.now(),ema200:void 0};a.push(o)}else{const e=[];f||e.push("price $".concat(t.toFixed(2)," not in $").concat(this.config.gapCriteria.minPrice,"-$").concat(this.config.gapCriteria.maxPrice)),m||e.push("volume ".concat((d/1e3).toFixed(0),"K < ").concat((this.config.gapCriteria.minCumulativeVolume/1e3).toFixed(0),"K")),p||e.push("gap ".concat(n.toFixed(1),"% < ").concat(this.config.gapCriteria.minGapPercentage,"%")),this.config.development.enableDebugLogging&&console.log("\u274c ".concat(s,": REJECTED - ").concat(e.join(", ")))}}catch(s){console.warn("Error processing ticker data:",s)}return console.log("Final qualifying live gap stocks: ".concat(a.length)),a}async getPremarketVolume(e,t){try{const t=this.getCurrentTime(),n=this.getMarketStartTime(),a=new Date(n);a.setHours(9,30,0,0);const o=t<a?t:a;console.log("Calculating premarket volume for ".concat(e," from ").concat(this.formatETTime(n)," to ").concat(this.formatETTime(o)));const r=await this.getHistoricalBars(e,n,o);if(0===r.length)return console.warn("No premarket bars found for ".concat(e)),null;const l=r.reduce((e,t)=>{const n=new Date(t.t),a=this.getETHour(n);return a>=this.getConfigStartHour()&&a<this.getConfigEndHour()?e+t.v:e},0);return console.log("".concat(e,": Calculated premarket volume = ").concat((l/1e3).toFixed(0),"K from ").concat(r.length," minute bars")),l}catch(n){return console.error("Error calculating premarket volume for ".concat(e,":"),n),null}}async getPremarketVolumeAndHOD(e,t){try{const n=this.getCurrentTime(),a=this.getMarketStartTime(),o=new Date(a);o.setHours(9,30,0,0);const r=n<o?n:o;console.log("Calculating premarket volume and HOD for ".concat(e," from ").concat(this.formatETTime(a)," to ").concat(this.formatETTime(r)));const l=this.getPreviousTradingDay(t),i=await this.getAfterHoursBars(e,l),s=i.length>0?Math.max(...i.map(e=>e.h)):0;console.log("   \ud83d\udcca ".concat(e," Previous day (").concat(l,") after-hours high: $").concat(s.toFixed(2)));const c=await this.getHistoricalBars(e,a,r);if(0===c.length)return console.warn("No premarket bars found for ".concat(e)),s>0?{volume:0,hod:s}:null;let u=0,d=s;return c.forEach(e=>{const t=new Date(e.t),n=this.getETHour(t);n>=this.getConfigStartHour()&&n<this.getConfigEndHour()&&(u+=e.v,e.h>d&&(d=e.h))}),console.log("".concat(e,": Calculated premarket volume = ").concat((u/1e3).toFixed(0),"K, HOD = $").concat(d.toFixed(2)," (includes prev day after-hours) from ").concat(c.length," minute bars")),{volume:u,hod:d}}catch(n){return console.error("Error calculating premarket data for ".concat(e,":"),n),null}}async getPremarketPeakGapPercent(e,t,n){try{const a=new Date(t+"T00:00:00"),o=new Date(a);o.setHours(this.getConfigStartHour(),0,0,0);const r=new Date(a);r.setHours(9,30,0,0);const l=await this.getHistoricalBars(e,o,r);if(0===l.length)return console.log("   ".concat(e,": No pre-market bars found")),{peakGapPercent:0,peakPrice:n,peakTime:null};let i=-1/0,s=n,c=null;return l.forEach(e=>{const t=(e.h-n)/n*100;t>i&&(i=t,s=e.h,c=new Date(e.t))}),c&&console.log("   ".concat(e,": Peak gap = ").concat(i.toFixed(1),"% at ").concat(this.formatETTime(c)," (price: $").concat(s.toFixed(2),")")),{peakGapPercent:i,peakPrice:s,peakTime:c}}catch(a){return console.error("Error calculating peak gap for ".concat(e,":"),a),{peakGapPercent:0,peakPrice:n,peakTime:null}}}initializePatternState(e,t){if(0===t.length)return;let n,a=t[0].h,o=0,r=!1;for(let i=0;i<t.length;i++){const l=t[i];l.h>a&&(a=l.h,console.log("\ud83d\udcc8 REAL-TIME HOD UPDATE: ".concat(e," \u2192 ").concat(a.toFixed(2)," at bar ").concat(i)));l.c>l.o?(r?o++:(n=l.o,o=1),r=!0):(o=0,r=!1,n=void 0)}const l=t[t.length-1];this.patternStates.set(e,{hod:a,consecutiveGreenCandles:o,lastBarWasGreen:r,greenRunStartPrice:n,lastAnalyzedBarTimestamp:l.t}),console.log("Initialized pattern state for ".concat(e,": HOD=").concat(a.toFixed(2),", ConsecGreen=").concat(o,", LastGreen=").concat(r))}async fetchHistoricalGappers(e){console.log("Using historical analysis for consistent gap stock detection");try{return await this.getHistoricalGapStocks(e)}catch(t){return console.warn("Historical analysis failed:",t),[]}}async fetchLivePremarketGappers(e){console.log("\ud83c\udf05 LIVE PREMARKET SCAN: Fetching gappers with minute bar volume calculation");try{const n="https://api.polygon.io/v2/snapshot/locale/us/markets/stocks/gainers?apikey=".concat(this.polygonApiKey);console.log("Fetching gainers from snapshot API...");const a=await this.cachedFetch(n);if("OK"!==a.status||!a.tickers)return console.error("\u274c No real-time gainers data available"),[];console.log("\u2705 Found ".concat(a.tickers.length," total gainers"));const o=a.tickers.filter(e=>{var t,n;const a=null===(t=e.lastTrade)||void 0===t?void 0:t.p,o=e.todaysChangePerc,r=null===(n=e.prevDay)||void 0===n?void 0:n.c,l=o>=this.config.gapCriteria.minGapPercentage,i=a>=this.config.gapCriteria.minPrice&&a<=this.config.gapCriteria.maxPrice;return l&&i&&console.log("\ud83d\udcca Candidate: ".concat(e.ticker," - ").concat(null===o||void 0===o?void 0:o.toFixed(1),"% gap, $").concat(null===a||void 0===a?void 0:a.toFixed(2))),l&&i&&a&&r}).slice(0,20);if(console.log("\n\ud83c\udfaf Found ".concat(o.length," gap candidates meeting basic criteria (>=").concat(this.config.gapCriteria.minGapPercentage,"% gap, $").concat(this.config.gapCriteria.minPrice,"-").concat(this.config.gapCriteria.maxPrice,")\n")),0===o.length)return console.log("\u274c No candidates found. Consider lowering minGapPercentage or adjusting price range."),[];const r=[];for(const l of o)try{const t=l.ticker,n=l.lastTrade.p,a=l.todaysChangePerc,o=l.prevDay.c;console.log("\n\ud83d\udd0d Checking ".concat(t," premarket volume and HOD..."));const i=await this.getPremarketVolumeAndHOD(t,e);if(!i){console.log("\u274c ".concat(t,": No premarket data available"));continue}i.volume>=this.config.gapCriteria.minCumulativeVolume?(console.log("\u2705 ".concat(t,": QUALIFIED - ").concat(a.toFixed(1),"% gap, ").concat((i.volume/1e3).toFixed(0),"K premarket volume, $").concat(n.toFixed(2),", HOD $").concat(i.hod.toFixed(2))),r.push({symbol:t,gapPercent:a,currentPrice:n,previousClose:o,volume:i.volume,cumulativeVolume:i.volume,hod:i.hod,lastUpdated:Date.now(),ema200:void 0})):console.log("\u274c ".concat(t,": ").concat((i.volume/1e3).toFixed(0),"K premarket volume < ").concat((this.config.gapCriteria.minCumulativeVolume/1e3).toFixed(0),"K required"))}catch(t){console.error("\u274c Error processing ".concat(l.ticker,":"),t)}return console.log("\n\u2705 Found ".concat(r.length," qualifying premarket gap stocks\n")),r}catch(t){return console.error("\u274c Error fetching live premarket gappers:",t),[]}}async backfillMissedData(){const e=this.getCurrentTime(),t=this.getMarketStartTime(),n=this.getMarketEndTime();this.config.development.enableDebugLogging&&(console.log("=== ENHANCED BACKFILL DEBUG ==="),console.log("Current time:",this.formatETTime(e)),console.log("".concat(this.config.marketHours.startTime," ET:"),this.formatETTime(t)),console.log("".concat(this.config.marketHours.endTime," ET:"),this.formatETTime(n)),console.log("API Key available:",!!this.polygonApiKey),console.log("Extended Hours Support:","16:00"===this.config.marketHours.endTime?"\u2705":"\u274c"));const a=this.getETHour(e),o=this.getConfigStartHour(),r=this.getConfigEndHour(),l=a>=o&&a<r,i=a>=9.5&&a<16,s=a>=16||a<o;let c,u;if(console.log("\ud83d\udcca Session Analysis: Premarket=".concat(l,", Regular=").concat(i,", After=").concat(s,", Current=").concat(a.toFixed(2))),!this.isWithinMarketHours(e)&&e.getTime()<t.getTime())c=Math.max(e.getTime(),t.getTime()),u="Before market hours (clamped to start time)",this.config.development.enableDebugLogging&&console.log("\ud83d\udd50 Before market hours - clamping backfill window to ".concat(this.formatETTime(new Date(c))));else if(this.isWithinMarketHours(e))c=e.getTime(),u="Market session active (".concat(l?"premarket":i?"regular":"extended",")"),this.config.development.enableDebugLogging&&console.log("\ud83d\udd34 LIVE BACKFILL: ".concat(u," - backfilling from ").concat(this.config.marketHours.startTime," to current time"));else{const e=this.getDynamicEndTime();c=Math.min(n.getTime(),e.getTime()),u="Market closed - capped session (".concat(this.config.marketHours.startTime," - ").concat(this.formatETTime(new Date(c)),")"),this.config.development.enableDebugLogging&&(console.log("\u23f9\ufe0f COMPLETE BACKFILL: ".concat(u)),console.log("\ud83d\udd12 Dynamic capping: Original end=".concat(this.formatETTime(n),", Capped end=").concat(this.formatETTime(new Date(c)))))}const d=this.formatETTime(t),f=this.formatETTime(new Date(c));console.log("\ud83d\udd04 Backfilling from ".concat(d," to ").concat(f," (").concat(u,")"));const m=new Date(e.toLocaleString("en-US",{timeZone:"America/New_York"})),p="".concat(m.getFullYear(),"-").concat(String(m.getMonth()+1).padStart(2,"0"),"-").concat(String(m.getDate()).padStart(2,"0"));console.log("\ud83d\udcc5 Using today's date (ET timezone) for backfill: ".concat(p));try{const e=await this.getHistoricalAlertsForDate(p),n=e.filter(e=>{const n=new Date(e.timestamp),a=e.timestamp>=t.getTime()&&e.timestamp<=c;return this.config.development.enableDebugLogging&&!a&&console.log("\u23f0 FILTERING OUT ALERT: ".concat(e.symbol," at ").concat(this.formatETTime(n)," (outside dynamic window ").concat(d," - ").concat(f,")")),a});if(console.log("\u2705 Backfilled ".concat(n.length," alerts from ").concat(d," to ").concat(f)),this.config.development.enableDebugLogging&&e.length>n.length&&console.log("\ud83d\udcca BACKFILL FILTER STATS: ".concat(e.length," total alerts \u2192 ").concat(n.length," in time window (filtered out ").concat(e.length-n.length,")")),this.config.development.enableDebugLogging&&"16:00"===this.config.marketHours.endTime){const e=n.filter(e=>{const t=this.getETHour(new Date(e.timestamp));return t>=this.getConfigStartHour()&&t<this.getConfigEndHour()}),t=n.filter(e=>{const t=this.getETHour(new Date(e.timestamp));return t>=9.5&&t<16});console.log("\ud83d\udcc8 SESSION BREAKDOWN: Premarket=".concat(e.length,", Regular=").concat(t.length))}return n.sort((e,t)=>e.timestamp-t.timestamp)}catch(g){if(console.error("Enhanced backfill failed:",g),!this.polygonApiKey)throw console.error("No Polygon API key provided - cannot generate historical alerts"),new Error("Polygon API key required for historical backfill");return[]}}async startScanning(){if(console.log("\n".concat("*".repeat(80))),console.log("\ud83d\ude80 startScanning() called - Current state: isScanning=".concat(this.isScanning)),console.log("".concat("*".repeat(80))),this.isScanning)return void console.log("\u26a0\ufe0f  Scanner is already running - ignoring duplicate start request");this.isScanning=!0,console.log("\u2705 isScanning flag set to TRUE"),console.log("\ud83d\udccb Market Hours: ".concat(this.config.marketHours.startTime," - ").concat(this.config.marketHours.endTime," ET")),console.log("\ud83d\udcca Performing initial gap stock scan...");const e=await this.scanForGappers();console.log("\ud83d\udcdc Checking last 4 5-minute candles for patterns already in progress..."),await this.checkStartupHistoricalPatterns();if(this.useWebSocket&&this.webSocketScanner&&e.length>0){console.log("\ud83d\udd0c Using DUAL-MODE SCANNING: WebSocket (primary) + REST polling (validation)"),console.log("   Symbols: ".concat(e.length)),console.log("   \u26a1 WebSocket: Real-time alerts (0s lag)"),console.log("   \ud83d\udd04 REST API: Validation every 5min (catches missed bars)");try{this.webSocketScanner.onAlert(e=>{console.log("\ud83d\udce8 WebSocket alert received: ".concat(e.symbol," ").concat(e.type)),this.fireAlert(e)});const t=e.map(e=>({symbol:e.symbol,gapPercent:e.gapPercent,previousClose:e.previousClose,currentPrice:e.currentPrice,hod:e.hod}));await this.webSocketScanner.connect(t),console.log("\u2705 WebSocket scanner connected and streaming"),console.log("\ud83d\udd04 Starting REST API validation polling (runs every 5 minutes)..."),this.scheduleNextBackfill();const n=window.setInterval(async()=>{console.log("\n\ud83d\udd04 Updating dual-mode watchlist...");const e=(await this.scanForGappers()).map(e=>({symbol:e.symbol,gapPercent:e.gapPercent,previousClose:e.previousClose,currentPrice:e.currentPrice,hod:e.hod}));await this.webSocketScanner.updateSymbols(e)},12e4);this.symbolUpdateInterval||(this.symbolUpdateInterval=n)}catch(t){console.error("\u274c Failed to start WebSocket scanner:",t),console.log("\u26a0\ufe0f  Falling back to REST polling only..."),this.scheduleNextBackfill()}}else console.log("\ud83d\udce1 Using POLLING mode for scanning"),console.log("   Reason: ".concat(this.useWebSocket?this.webSocketScanner?0===e.length?"No qualifying stocks":"Outside regular hours":"No WebSocket scanner":"WebSocket disabled")),console.log("\u23f0 Scheduling first backfill run..."),this.scheduleNextBackfill();console.log("".concat("*".repeat(80))),console.log("\u2705 Scanner started successfully"),console.log("".concat("*".repeat(80),"\n"))}scheduleNextBackfill(){console.log("\ud83d\udcc5 scheduleNextBackfill() - Setting up smart backfill scheduling"),console.log("   Strategy: Aligned to 5-minute candle closes + 1 second delay");console.log("   Scheduling initial backfill in ".concat(2e3,"ms...")),setTimeout(()=>{console.log("\u23f0 Initial backfill delay complete - starting first scan now"),this.performScheduledBackfill()},2e3)}getMillisecondsUntilNext5MinBoundary(){const e=new Date,t=new Date(e.toLocaleString("en-US",{timeZone:"America/New_York"})),n=t.getMinutes(),a=t.getSeconds(),o=t.getMilliseconds(),r=5-n%5,l=1e3*(5===r&&0===a&&0===o?0:60*r-a)-o+15e3;return l<500?l+3e5:l}async performScheduledBackfill(){console.log("\n".concat("=".repeat(80))),console.log("\ud83d\udd04 performScheduledBackfill() START - isScanning=".concat(this.isScanning)),console.log("".concat("=".repeat(80)));try{const e=this.getCurrentTime(),t=this.getMarketStartTime(),n=this.getMarketEndTime(),a=this.isWithinMarketHours(e),o=e.getTime()<t.getTime(),r=e.getTime()>=n.getTime();if(a){console.log("\u2705 Within market hours - proceeding with backfill at ".concat(this.formatETTime(e),"...")),this.config.development.enableDebugLogging&&console.log("   Checking for new pattern signals since last scan"),console.log("\ud83d\udcca Step 1: Updating gap stocks list..."),await this.scanForGappers(),console.log("   \u2705 Gap stocks updated"),console.log("\ud83d\udcca Step 2: Performing continuous backfill..."),await this.performContinuousBackfill(),console.log("   \u2705 Continuous backfill complete");const t=this.getMillisecondsUntilNext5MinBoundary(),n=new Date(Date.now()+t),a=new Date(n.toLocaleString("en-US",{timeZone:"America/New_York"}));console.log("\u23f0 SCHEDULING NEXT SCAN: ".concat(a.toLocaleTimeString("en-US",{timeZone:"America/New_York"})," ET (in ").concat((t/1e3).toFixed(0),"s)")),this.scanInterval&&(clearTimeout(this.scanInterval),console.log("   \ud83d\uddd1\ufe0f  Cleared existing timeout")),this.scanInterval=window.setTimeout(()=>{console.log("\n\u23f0 TIMEOUT FIRED - Executing scheduled backfill now"),this.performScheduledBackfill()},t),console.log("   \u2705 Next scan scheduled (timeout ID: ".concat(this.scanInterval,")"))}else o?(console.log("\u23f0 BEFORE MARKET HOURS at ".concat(this.formatETTime(e)," (market starts at ").concat(this.formatETTime(t),")")),console.log("   Waiting for market to open... will check again in 30 seconds"),this.scanInterval&&clearTimeout(this.scanInterval),this.scanInterval=window.setTimeout(()=>{console.log("\n\u23f0 PRE-MARKET CHECK - Checking if market hours have started"),this.performScheduledBackfill()},3e4),console.log("   \u2705 Pre-market check scheduled (timeout ID: ".concat(this.scanInterval,")"))):r&&(console.log("\u274c AFTER MARKET HOURS at ".concat(this.formatETTime(e)," (market ended at ").concat(this.formatETTime(n),")")),this.isScanning?(console.log("\ud83d\uded1 Automatically stopping scanner..."),this.stopScanning()):console.log("\u2139\ufe0f  Scanner already stopped"))}catch(e){console.error("\u274c ERROR in scheduled backfill:",e),console.error("   Stack trace:",e);const t=this.getCurrentTime(),n=t.getTime()>=this.getMarketEndTime().getTime();if(this.isScanning&&!n){const e=this.isWithinMarketHours(t)?this.getMillisecondsUntilNext5MinBoundary():3e4;console.log("\u26a0\ufe0f  RECOVERY: Scheduling next scan despite error (in ".concat((e/1e3).toFixed(0),"s)")),this.scanInterval&&clearTimeout(this.scanInterval),this.scanInterval=window.setTimeout(()=>{console.log("\n\u23f0 RECOVERY TIMEOUT FIRED - Retrying backfill"),this.performScheduledBackfill()},e),console.log("   \u2705 Recovery scan scheduled (timeout ID: ".concat(this.scanInterval,")"))}else console.log("\u274c NOT RESCHEDULING: isScanning=".concat(this.isScanning,", isAfterMarket=").concat(n))}console.log("".concat("=".repeat(80))),console.log("\ud83d\udd04 performScheduledBackfill() END"),console.log("".concat("=".repeat(80),"\n"))}async checkStartupHistoricalPatterns(){try{console.log("\n".concat("=".repeat(80))),console.log("\ud83d\udcdc STARTUP HISTORICAL CHECK: Analyzing last 4 5-minute candles for existing patterns"),console.log("".concat("=".repeat(80)));const t=Array.from(this.gapStocks.values());if(0===t.length)return void console.log("\u23ed\ufe0f  No gap stocks to analyze");const n=this.getCurrentTime(),a=new Date(n);a.setHours(0,0,0,0);let o=0;for(const r of t)try{console.log("\n\ud83d\udcca Analyzing ".concat(r.symbol," for recent patterns..."));const e=await this.get5MinuteBars(r.symbol,a,n);if(0===e.length){console.log("   \u23ed\ufe0f  No 5-minute bars found for ".concat(r.symbol));continue}const t=e.slice(-4);console.log("   \ud83d\udcca Found ".concat(e.length," total bars, analyzing last ").concat(t.length," candles"));const l=n.toISOString().split("T")[0],i=await this.getHistoricalMinuteBars(r.symbol,l),s=this.getConfigStartHour(),c=this.getConfigEndHour();let u=0;for(const a of i){const e=this.getETHour(new Date(a.t));e>=s&&e<c&&a.t<=n.getTime()&&(u+=a.v)}console.log("   \ud83d\udcca Cumulative volume: ".concat((u/1e3).toFixed(0),"k"));let d=r.hod;for(let n=0;n<t.length;n++){const a=t[n],l=e.indexOf(a),i=new Date(a.t);console.log("   \ud83d\udd0d Checking candle ".concat(n+1,"/").concat(t.length," at ").concat(this.formatETTime(i))),a.h>d&&(d=a.h,console.log("      \ud83d\udcc8 Updated HOD: ".concat(d.toFixed(2))));[this.detectToppingTail5m(r.symbol,e,l,d,i,u,r.gapPercent)].forEach(e=>{e&&(console.log("   \ud83d\udd14 STARTUP PATTERN FOUND: ".concat(r.symbol," ").concat(e.type," at ").concat(this.formatETTime(new Date(e.timestamp)))),this.fireAlert(e),o++)})}}catch(e){console.warn("   \u26a0\ufe0f  Failed to analyze ".concat(r.symbol,":"),e)}console.log("\n".concat("=".repeat(80))),console.log("\u2705 STARTUP HISTORICAL CHECK COMPLETE: Found ".concat(o," patterns across ").concat(t.length," stocks")),console.log("".concat("=".repeat(80),"\n"))}catch(e){console.error("Error in startup historical pattern check:",e)}}async performContinuousBackfill(){try{const e=Date.now();console.log("\ud83d\udd0d Scanning for new signals (looking for alerts after ".concat(new Date(this.lastBackfillTime).toLocaleTimeString(),")..."));const t=await this.backfillMissedData();console.log("   \ud83d\udcca Backfill returned ".concat(t.length," total alerts"));const n=t.filter(e=>e.timestamp>this.lastBackfillTime);n.length>0?(console.log("\ud83d\udd14 Found ".concat(n.length," NEW signals from continuous backfill!")),console.log("   Alert details: ".concat(n.map(e=>"".concat(e.symbol," ").concat(e.type," at ").concat(new Date(e.timestamp).toLocaleTimeString())).join(", "))),n.forEach(e=>{this.fireAlert(e)})):console.log("\u2705 No new signals found (checked ".concat(t.length," alerts, all older than ").concat(new Date(this.lastBackfillTime).toLocaleTimeString(),")")),this.lastBackfillTime=e}catch(e){console.error("Error in continuous backfill:",e)}}stopScanning(){console.log("\ud83d\uded1 stopScanning() called - Current state: isScanning=".concat(this.isScanning,", hasInterval=").concat(!!this.scanInterval)),this.webSocketScanner&&this.webSocketScanner.getConnectionStatus()&&(console.log("   \ud83d\udd0c Disconnecting WebSocket scanner..."),this.webSocketScanner.disconnect(),console.log("   \u2705 WebSocket scanner disconnected")),this.scanInterval&&(clearTimeout(this.scanInterval),clearInterval(this.scanInterval),this.scanInterval=null,console.log("   \u2705 Cleared REST polling interval")),this.symbolUpdateInterval&&(clearInterval(this.symbolUpdateInterval),this.symbolUpdateInterval=null,console.log("   \u2705 Cleared symbol update interval")),this.isScanning=!1,console.log("   \u2705 Gap stock scanner stopped (all modes)")}getQualifiedSymbols(){return Array.from(this.gapStocks.keys())}getSymbolData(){return Array.from(this.gapStocks.values()).map(e=>({symbol:e.symbol,lastPrice:e.currentPrice,gapPercent:e.gapPercent,volume:e.cumulativeVolume,hod:e.hod,bid:e.currentPrice-this.config.scanning.bidAskSpread,ask:e.currentPrice+this.config.scanning.bidAskSpread}))}onAlert(e){return console.log("\ud83d\udcdd onAlert() - Registering new alert callback"),console.log("   Callbacks before: ".concat(this.alertCallbacks.length)),this.alertCallbacks.push(e),console.log("   Callbacks after: ".concat(this.alertCallbacks.length)),console.log("   \u2705 Alert callback registered successfully"),()=>{const t=this.alertCallbacks.indexOf(e);t>-1&&(this.alertCallbacks.splice(t,1),console.log("\ud83d\uddd1\ufe0f  Alert callback removed (remaining: ".concat(this.alertCallbacks.length,")")))}}invalidateCache(){this.clearCache(),console.log("\ud83d\udd04 Cache invalidated - fresh data will be fetched on next scan")}setLastBackfillTime(e){this.lastBackfillTime=e,console.log("\u23f0 Last backfill time set to ".concat(new Date(e).toLocaleTimeString()))}fireAlert(e){if(console.log("\n\ud83d\udd14 fireAlert() called for ".concat(e.symbol," ").concat(e.type)),console.log("   Alert ID: ".concat(e.id)),console.log("   Alert Time: ".concat(new Date(e.timestamp).toLocaleTimeString())),console.log("   Registered callbacks: ".concat(this.alertCallbacks.length)),console.log("   Already fired? ".concat(this.firedAlertIds.has(e.id))),this.firedAlertIds.has(e.id))console.log("\u23ed\ufe0f  SKIPPING: Alert already fired previously");else{if(this.firedAlertIds.add(e.id),console.log("\u2705 Alert marked as fired (total fired: ".concat(this.firedAlertIds.size,")")),this.firedAlertIds.size>1e3){const e=Array.from(this.firedAlertIds),t=e.slice(0,e.length-500);t.forEach(e=>this.firedAlertIds.delete(e)),console.log("\ud83d\uddd1\ufe0f  Cleaned up ".concat(t.length," old alert IDs"))}console.log("\ud83d\udd14 FIRING ALERT to ".concat(this.alertCallbacks.length," callback(s)...")),this.alertCallbacks.forEach((t,n)=>{try{console.log("   \ud83d\udcde Calling callback ".concat(n+1,"...")),t(e),console.log("   \u2705 Callback ".concat(n+1," completed successfully"))}catch(a){console.error("   \u274c ERROR in callback ".concat(n+1,":"),a)}}),0===this.alertCallbacks.length&&console.warn("\u26a0\ufe0f  WARNING: No callbacks registered! Alert will not be delivered to UI."),console.log("\ud83d\udd14 fireAlert() complete\n")}}async getHistoricalAlertsForDate(e){try{console.log("=== HISTORICAL SCAN FOR ".concat(e," ==="));const[n,a,o]=e.split("-").map(Number),r=new Date(n,a-1,o);if(console.log("Parsed date: ".concat(r.toDateString()," (input: ").concat(e,")")),isNaN(r.getTime()))throw new Error("Invalid date format");if(0===r.getDay()||6===r.getDay())throw new Error("Markets are closed on weekends");if((Date.now()-r.getTime())/864e5>this.config.historical.maxLookbackDays)throw new Error("Historical data only available for the last 2 years");console.log("Step 1: Finding gap stocks for ".concat(e," with criteria: 20%+ gap, 500k+ volume, $1-$10 price"));const l=this.getCurrentTime(),i=new Date(l.toLocaleString("en-US",{timeZone:"America/New_York"})),s="".concat(i.getFullYear(),"-").concat(String(i.getMonth()+1).padStart(2,"0"),"-").concat(String(i.getDate()).padStart(2,"0")),c=e===s,u=this.isWithinMarketHours(l),d=this.gapStocks.size>0;let f;if(console.log("\n".concat("\ud83d\udd0d".repeat(40))),console.log("\ud83d\udd0d REST SYMBOL DISCOVERY DEBUG:"),console.log("   dateString: ".concat(e)),console.log("   todayDateString: ".concat(s)),console.log("   isToday: ".concat(c)),console.log("   isWithinHours: ".concat(u)),console.log("   this.gapStocks.size: ".concat(this.gapStocks.size)),console.log("".concat("\ud83d\udd0d".repeat(40),"\n")),c&&u?d?(f=Array.from(this.gapStocks.values()),console.log("\u2705 Using CACHED live gap stocks (".concat(f.length," stocks) from this.gapStocks"))):(console.log("\u26a0\ufe0f  Gap stocks cache is empty - fetching FRESH from gainers endpoint (pre-market compatible)..."),f=await this.scanForGappers(),console.log("\u2705 Fetched FRESH live gap stocks (".concat(f.length," stocks) from gainers endpoint"))):(console.log("\ud83d\udcca Using HISTORICAL mode - Reason: ".concat(c?"Market closed":"Scanning past date")),console.log("   Fetching from grouped daily endpoint..."),f=await this.getHistoricalGapStocks(e),console.log("\ud83d\udcca Fetched ".concat(f.length," historical gap stocks"))),0===f.length)return console.log("No qualifying gap stocks found for this date"),[];console.log("Step 2: Found ".concat(f.length," qualifying gap stocks:"),f.map(e=>"".concat(e.symbol," (").concat(e.gapPercent.toFixed(1),"%, ").concat((e.cumulativeVolume/1e3).toFixed(0),"k vol, $").concat(e.currentPrice.toFixed(2),")")));const m=[];for(const p of f)try{console.log("Step 3: Scanning ".concat(p.symbol," for patterns (").concat((p.cumulativeVolume/1e3).toFixed(0),"k vol)..."));const t=await this.scanHistoricalStock(p.symbol,e,p.cumulativeVolume,p.gapPercent);t.length>0&&console.log("Found ".concat(t.length," patterns for ").concat(p.symbol,":"),t.map(e=>e.type)),m.push(...t)}catch(t){console.warn("Failed to scan historical data for ".concat(p.symbol,":"),t)}return console.log("Step 4: Generated ".concat(m.length," total historical alerts for ").concat(e)),m.sort((e,t)=>e.timestamp-t.timestamp)}catch(t){throw console.error("Failed to get historical alerts:",t),t}}async getHistoricalGapStocks(e){if(!this.polygonApiKey)throw console.error("No Polygon API key provided - cannot fetch historical gap stocks"),new Error("Polygon API key required for historical data");try{console.log("\n\ud83d\udd0d STAGE 1: Filtering candidates by volume & price using grouped daily data...");const t=e,n="https://api.polygon.io/v2/aggs/grouped/locale/us/market/stocks/".concat(t,"?adjusted=true&apikey=").concat(this.polygonApiKey),a=await this.cachedFetch(n);if(!a.results||0===a.results.length)return console.warn("No grouped data available for this date"),[];const o=this.getPreviousTradingDay(t),r="https://api.polygon.io/v2/aggs/grouped/locale/us/market/stocks/".concat(o,"?adjusted=true&apikey=").concat(this.polygonApiKey),l=await this.cachedFetch(r),i=new Map;l.results&&l.results.forEach(e=>{e.T&&i.set(e.T,e.c)});const s=[];for(const g of a.results){if(!g.T||!g.o||!g.v)continue;const t=g.T,n=i.get(t);if(!n)continue;const a=g.o,o=g.v;if(a>=this.config.gapCriteria.minPrice&&a<=this.config.gapCriteria.maxPrice&&o>=this.config.gapCriteria.minCumulativeVolume){if(!await this.isCommonStock(t,e))continue;s.push({symbol:t,previousClose:n,dailyVolume:o,dailyHigh:g.h,openPrice:a})}}console.log("\u2705 Stage 1 complete: ".concat(s.length," candidates pass volume/price filters")),s.sort((e,t)=>t.dailyVolume-e.dailyVolume);const c=Math.ceil(1.5*this.config.historical.maxSymbolsToAnalyze),u=s.slice(0,c);s.length>c&&console.log("   Limiting to top ".concat(c," by volume (from ").concat(s.length," candidates)")),console.log("\n\ud83d\udd0d STAGE 2: Checking pre-market PEAK gap % for ".concat(u.length," candidates..."));const d=[],f=25,m=this.config.historical.maxSymbolsToAnalyze;for(let g=0;g<u.length;g+=f){if(d.length>=m){console.log("\n\u2705 Early termination: Already found ".concat(d.length," qualifying stocks (target: ").concat(m,")"));break}const t=Math.min(g+f,u.length),n=u.slice(g,t);console.log("\n\ud83d\udce6 Processing batch ".concat(Math.floor(g/f)+1,": symbols ").concat(g+1,"-").concat(t," of ").concat(u.length));const a=n.map(async(t,n)=>{const a=g+n+1;try{const n=await this.getPremarketPeakGapPercent(t.symbol,e,t.previousClose);return n.peakGapPercent>=this.config.gapCriteria.minGapPercentage?(console.log("   [".concat(a,"/").concat(u.length,"] \u2705 ").concat(t.symbol,": Peak gap ").concat(n.peakGapPercent.toFixed(1),"%")),{symbol:t.symbol,gapPercent:n.peakGapPercent,currentPrice:n.peakPrice,previousClose:t.previousClose,volume:t.dailyVolume,cumulativeVolume:0,hod:t.dailyHigh,lastUpdated:Date.now()}):(console.log("   [".concat(a,"/").concat(u.length,"] \u274c ").concat(t.symbol,": Peak gap ").concat(n.peakGapPercent.toFixed(1),"% (below ").concat(this.config.gapCriteria.minGapPercentage,"%)")),null)}catch(o){return console.error("   [".concat(a,"/").concat(u.length,"] \u26a0\ufe0f  ").concat(t.symbol,": Error - ").concat(o)),null}}),o=(await Promise.all(a)).filter(e=>null!==e);d.push(...o),console.log("   Batch complete: ".concat(o.length,"/").concat(n.length," qualified (Total so far: ").concat(d.length,")")),t<u.length&&d.length<m&&await new Promise(e=>setTimeout(e,200))}console.log("\n\u2705 Stage 2 complete: ".concat(d.length," stocks met peak gap criteria"));const p=d.sort((e,t)=>Math.abs(t.gapPercent)-Math.abs(e.gapPercent)).slice(0,this.config.historical.maxSymbolsToAnalyze);return console.log("\n\ud83d\udcca Final Results: Analyzing top ".concat(p.length," stocks by peak gap:"),p.slice(0,10).map(e=>"".concat(e.symbol,"(").concat(e.gapPercent.toFixed(1),"% peak gap, $").concat(e.currentPrice.toFixed(2),")"))),p}catch(t){throw console.error("Failed to fetch historical gap stocks:",t),t}}async isCommonStock(e,t){if(!this.polygonApiKey)return console.warn("No Polygon API key - cannot verify ticker type for ".concat(e)),!0;try{const n="https://api.polygon.io/v3/reference/tickers/".concat(e,"?date=").concat(t,"&apikey=").concat(this.polygonApiKey),a=await fetch(n);if(!a.ok)return console.warn("Failed to fetch ticker details for ".concat(e,": ").concat(a.status)),!0;const o=await a.json();if(o.results&&o.results.type){const t=o.results.type,n="CS"===t;return n||console.log("\ud83d\udccb ".concat(e," ticker type: ").concat(t," (not CS)")),n}return!0}catch(n){return console.warn("Error checking ticker type for ".concat(e,":"),n),!0}}getPreviousTradingDay(e){const[t,n,a]=e.split("-").map(Number),o=new Date(t,n-1,a);o.setDate(o.getDate()-1),0===o.getDay()?o.setDate(o.getDate()-2):6===o.getDay()&&o.setDate(o.getDate()-1);const r=o.getFullYear(),l=String(o.getMonth()+1).padStart(2,"0"),i=String(o.getDate()).padStart(2,"0");return"".concat(r,"-").concat(l,"-").concat(i)}async scanHistoricalStock(e,t,n,a){try{const n=await this.getHistoricalMinuteBars(e,t),o=await this.get5MinuteBars(e,new Date(t+"T00:00:00"),new Date(t+"T23:59:59"));if(0===n.length)return[];console.log("\ud83d\udcca ".concat(e," - Fetched ").concat(n.length," 1-minute bars and ").concat(o.length," 5-minute bars"));const r=this.getConfigStartHour(),l=this.getConfigEndHour(),i=n.filter(e=>{const t=new Date(e.t),n=this.getETHour(t);return n>=r&&n<l}).reduce((e,t)=>e+t.v,0);if(i<this.config.gapCriteria.minCumulativeVolume)return console.error("\ud83d\udea8 HISTORICAL VOLUME SAFETY FILTER: ".concat(e," has ").concat((i/1e3).toFixed(0),"k total session volume < ").concat(this.config.gapCriteria.minCumulativeVolume/1e3,"k required - BLOCKING ALL HISTORICAL PATTERNS")),[];console.log("\u2705 ".concat(e," HISTORICAL VOLUME OK: ").concat((i/1e3).toFixed(0),"k total session volume \u2265 ").concat(this.config.gapCriteria.minCumulativeVolume/1e3,"k required"));const s=[],c=this.getPreviousTradingDay(t),u=await this.getAfterHoursBars(e,c),d=u.length>0?Math.max(...u.map(e=>e.h)):0;let f=d;for(const e of n){const t=new Date(e.t);this.getETHour(t)<r&&e.h>f&&(f=e.h)}for(const e of o){const t=new Date(e.t);this.getETHour(t)<r&&e.h>f&&(f=e.h)}let m=f;console.log("\n".concat("=".repeat(60))),console.log("\ud83d\udcc8 ".concat(e," HOD TRACKING INITIALIZATION")),console.log("".concat("=".repeat(60))),console.log("   Previous day after-hours high: $".concat(d.toFixed(2))),console.log("   Pre-market high (before ".concat(r," hours): $").concat(f.toFixed(2))),console.log("   STARTING HOD: $".concat(m.toFixed(2))),console.log("".concat("=".repeat(60),"\n"));const p=new Map;let g=0;for(const e of n){const t=this.getETHour(new Date(e.t));t>=r&&t<l&&(g+=e.v,p.set(e.t,g))}for(let t=0;t<o.length;t++){const n=o[t],r=new Date(n.t),l=this.getETHour(r),c=this.getConfigStartHour(),u=this.getConfigEndHour();if(l<c||l>=u){console.log("\u23f0 FILTERED OUT: ".concat(e," bar at ").concat(this.formatETTime(r)," (ET ").concat(l.toFixed(2),") - outside ").concat(c.toFixed(1),"-").concat(u.toFixed(1)," hours"));continue}let d=0;for(const[e,t]of Array.from(p.entries())){if(!(e<=n.t))break;d=t}const f=m;if(n.h>m){const t=m;m=n.h,console.log("\ud83d\udcc8 NEW HOD (5m): ".concat(e," ").concat(t.toFixed(2)," \u2192 ").concat(m.toFixed(2)," at ").concat(this.formatETTime(r)))}if(console.log("   \ud83d\udcca ".concat(e," Bar #").concat(t," at ").concat(this.formatETTime(r),": High=").concat(n.h.toFixed(2),", HOD before bar=").concat(f.toFixed(2),", HOD after bar=").concat(m.toFixed(2))),l>=9.3&&console.log("\u26a0\ufe0f PROCESSING LATE BAR: ".concat(e," at ").concat(this.formatETTime(r)," (ET ").concat(l.toFixed(2),") - within config but near end time")),d<this.config.gapCriteria.minCumulativeVolume){console.log("\ud83d\udeab VOLUME FILTER: ".concat(e," at ").concat(this.formatETTime(r)," - cumulative volume ").concat((d/1e3).toFixed(1),"K < ").concat((this.config.gapCriteria.minCumulativeVolume/1e3).toFixed(0),"K required - SKIPPING SIGNAL"));continue}console.log("\u2705 VOLUME PASSED: ".concat(e," at ").concat(this.formatETTime(r)," - cumulative volume ").concat((d/1e3).toFixed(1),"K >= ").concat((this.config.gapCriteria.minCumulativeVolume/1e3).toFixed(0),"K required")),d>1e7&&console.warn("\u26a0\ufe0f UNREALISTIC VOLUME WARNING: ".concat(e," at ").concat(this.formatETTime(r)," has ").concat((d/1e6).toFixed(1),"M cumulative volume - this may indicate a data error"));const g=new Date(n.t);console.log("   \ud83d\udd0d Checking patterns for bar #".concat(t," using HOD=$").concat(m.toFixed(2)));[this.detectToppingTail5m(e,o,t,m,g,d,a)].forEach(t=>{if(t){var a;const o=new Date(t.timestamp),r=this.getETHour(o);console.log("\n".concat("\ud83d\udd14".repeat(30))),console.log("\ud83d\udccd HISTORICAL ALERT GENERATED: ".concat(e," ").concat(t.type," at ").concat(this.formatETTime(o)," (ET ").concat(r.toFixed(2),")")),console.log("   \ud83d\udcca Volume Details: Signal volume=".concat((d/1e3).toFixed(1),"k (up to signal time), Total session=").concat((i/1e3).toFixed(1),"k, Required=").concat((this.config.gapCriteria.minCumulativeVolume/1e3).toFixed(0),"k")),console.log("   \ud83c\udfaf Volume Source: Cumulative from ".concat(this.config.marketHours.startTime," to ").concat(this.formatETTime(o)," = ").concat(d.toLocaleString()," shares")),console.log("   \ud83d\udcc8 HOD in alert: $".concat((null===(a=t.hod)||void 0===a?void 0:a.toFixed(2))||"N/A"," | Bar high: $").concat(n.h.toFixed(2)," | Current HOD: $").concat(m.toFixed(2))),console.log("".concat("\ud83d\udd14".repeat(30),"\n")),s.push(t)}})}return s}catch(o){return console.warn("Failed to scan historical data for ".concat(e,":"),o),[]}}async getHistoricalMinuteBars(e,t){if(!this.polygonApiKey)throw console.error("No Polygon API key provided - cannot fetch minute bars for ".concat(e)),new Error("Polygon API key required for minute bar data");try{const n="https://api.polygon.io/v2/aggs/ticker/".concat(e,"/range/1/minute/").concat(t,"/").concat(t,"?adjusted=true&sort=asc&limit=").concat(this.config.api.aggregatesLimit,"&include_extended_hours=true&apikey=").concat(this.polygonApiKey),a=await this.cachedFetch(n);return a.results&&0!==a.results.length?a.results:(console.warn("No minute bars found for ".concat(e," on ").concat(t)),[])}catch(n){throw console.error("Failed to fetch minute bars for ".concat(e," on ").concat(t,":"),n),n}}getETHour(e){const t=new Date(e.toLocaleString("en-US",{timeZone:"America/New_York"})),n=t.getHours()+t.getMinutes()/60;return(n>9.5||n<7)&&console.log("\ud83d\udd50 Time conversion: ".concat(e.toISOString()," -> ET: ").concat(t.toISOString()," -> Hour: ").concat(n.toFixed(2))),n}getConfigStartHour(){const[e,t]=this.config.marketHours.startTime.split(":").map(Number);return e+t/60}getConfigEndHour(){const[e,t]=this.config.marketHours.endTime.split(":").map(Number);return e+t/60}getMarketStartTime(){const e=this.getCurrentTime(),[t,n]=this.config.marketHours.startTime.split(":").map(Number),a=new Date(e.toLocaleString("en-US",{timeZone:this.config.marketHours.timezone})),o=new Date(a.getFullYear(),a.getMonth(),a.getDate(),t,n,0),r=6e4*e.getTimezoneOffset(),l=6e4*o.getTimezoneOffset();return new Date(o.getTime()+l-r)}getMarketEndTime(){const e=this.getCurrentTime(),[t,n]=this.config.marketHours.endTime.split(":").map(Number),a=new Date(e.toLocaleString("en-US",{timeZone:this.config.marketHours.timezone})),o=new Date(a.getFullYear(),a.getMonth(),a.getDate(),t,n,0),r=6e4*e.getTimezoneOffset(),l=6e4*o.getTimezoneOffset();return new Date(o.getTime()+l-r)}formatETTime(e){return e.toLocaleTimeString("en-US",{timeZone:"America/New_York"})}getDynamicEndTime(){const e=this.getCurrentTime(),t=new Date(e.toLocaleString("en-US",{timeZone:"America/New_York"})),n=new Date(t.getFullYear(),t.getMonth(),t.getDate(),9,25,0),a=6e4*e.getTimezoneOffset(),o=6e4*n.getTimezoneOffset(),r=new Date(n.getTime()+o-a),l=this.getETHour(e);return this.config.development.enableDebugLogging&&(console.log("\ud83d\udd58 Dynamic End Time Check: Current ET ".concat(l.toFixed(2)," vs 9.42 (9:25 AM)")),console.log("\ud83d\udd58 Current time: ".concat(this.formatETTime(e),", 9:25 AM ET: ").concat(this.formatETTime(r)))),l>9.42?(this.config.development.enableDebugLogging&&console.log("\ud83d\udd12 CAPPING: Current time ".concat(this.formatETTime(e)," is after 9:25 AM ET, capping end time")),r):(this.config.development.enableDebugLogging&&console.log("\u23f0 NO CAPPING: Current time ".concat(this.formatETTime(e)," is before 9:25 AM ET, using current time")),e)}async getExtendedHOD(e,t){try{const n=t.length>0?Math.max(...t.map(e=>e.h)):0,a=new Date;a.setDate(a.getDate()-1);const o=a.toISOString().split("T")[0],r=await this.getAfterHoursBars(e,o),l=r.length>0?Math.max(...r.map(e=>e.h)):0,i=Math.max(n,l);return console.log("\ud83d\udcc8 ".concat(e," Extended HOD: Pre-market: $").concat(n.toFixed(2),", After-hours: $").concat(l.toFixed(2),", Combined: $").concat(i.toFixed(2))),i}catch(n){return console.error("Error calculating extended HOD for ".concat(e,":"),n),t.length>0?Math.max(...t.map(e=>e.h)):0}}async getAfterHoursBars(e,t){const n="https://api.polygon.io/v2/aggs/ticker/".concat(e,"/range/1/minute/").concat(t,"/").concat(t,"?adjusted=true&sort=asc&limit=").concat(this.config.api.aggregatesLimit,"&apikey=").concat(this.polygonApiKey);try{const a=await fetch(n);if(!a.ok)return[];const o=await a.json();if("OK"!==o.status||!o.results)return[];const r=o.results.filter(e=>{const t=new Date(e.t),n=this.getETHour(t);return n>=16&&n<20});return console.log("\ud83d\udcca ".concat(e," After-hours bars (").concat(t,"): ").concat(r.length)),r}catch(a){return console.error("Error fetching after-hours data for ".concat(e,":"),a),[]}}async calculateTrueHOD(e,t){try{console.log("\n".concat("=".repeat(60))),console.log("\ud83d\udcc8 CALCULATING TRUE HOD FOR ".concat(e)),console.log("".concat("=".repeat(60)));const n=this.getPreviousTradingDay(t),a=await this.getAfterHoursBars(e,n),o=a.length>0?Math.max(...a.map(e=>e.h)):0;console.log("   \ud83d\udcca Previous day (".concat(n,") after-hours high: $").concat(o.toFixed(2)," (from ").concat(a.length," bars)"));const r="https://api.polygon.io/v2/aggs/ticker/".concat(e,"/range/1/minute/").concat(t,"/").concat(t,"?adjusted=true&sort=asc&limit=").concat(this.config.api.aggregatesLimit,"&include_extended_hours=true&apikey=").concat(this.polygonApiKey),l=await fetch(r);if(!l.ok)return console.warn("   \u26a0\ufe0f  Failed to fetch current day bars for ".concat(e)),o;const i=await l.json();if("OK"!==i.status||!i.results||0===i.results.length)return console.warn("   \u26a0\ufe0f  No current day bars available for ".concat(e)),o;const s=Math.max(...i.results.map(e=>e.h));console.log("   \ud83d\udcca Current day (".concat(t,") high: $").concat(s.toFixed(2)," (from ").concat(i.results.length," bars, includes extended hours)"));const c=Math.max(o,s);return console.log("   \u2705 TRUE HOD: $".concat(c.toFixed(2)," (max of after-hours and current day)")),console.log("".concat("=".repeat(60),"\n")),c}catch(n){return console.error("   \u274c Error calculating true HOD for ".concat(e,":"),n),0}}generateProperCandleTimes(e,t){const n=[],a=e.getTime(),o=t.getTime();let r=new Date(a);for(r.setSeconds(0,0),r.getTime()<a&&r.setMinutes(r.getMinutes()+1);r.getTime()<o;)Math.random()>.7&&n.push(r.getTime()),r.setMinutes(r.getMinutes()+1);return n}async getMarketOpenPrice(e,t){if(!this.polygonApiKey)throw new Error("Polygon API key required for market open price");try{const n="https://api.polygon.io/v1/open-close/".concat(e,"/").concat(t,"?adjusted=true&apikey=").concat(this.polygonApiKey),a=await fetch(n);if(!a.ok)throw new Error("HTTP ".concat(a.status,": ").concat(a.statusText));const o=await a.json();if("OK"!==o.status||"number"!==typeof o.open)throw new Error("No open price data available for ".concat(e," on ").concat(t));return console.log("\ud83d\udcc8 ".concat(e," open price on ").concat(t,": $").concat(o.open.toFixed(2))),o.open}catch(n){throw console.error("Failed to get open price for ".concat(e," on ").concat(t,":"),n),n}}async get5MinuteBars(e,t,n){const a=t.toISOString().split("T")[0],o=n.toISOString().split("T")[0],r="https://api.polygon.io/v2/aggs/ticker/".concat(e,"/range/5/minute/").concat(a,"/").concat(o,"?adjusted=true&sort=asc&limit=").concat(this.config.api.aggregatesLimit,"&include_extended_hours=true&apikey=").concat(this.polygonApiKey);try{const t=await fetch(r);if(!t.ok)throw new Error("HTTP ".concat(t.status,": ").concat(t.statusText));const n=await t.json();if("OK"!==n.status||!n.results)return console.warn("No 5-minute data for ".concat(e,":"),n),[];const a=this.getConfigStartHour(),o=this.getConfigEndHour();return n.results.filter(e=>{const t=new Date(e.t),n=this.getETHour(t);return n>=a&&n<o})}catch(l){return console.error("Error fetching 5-minute bars for ".concat(e,":"),l),[]}}async getHistoricalBars(e,t,n){const a=t.toISOString().split("T")[0],o=n.toISOString().split("T")[0],r="https://api.polygon.io/v2/aggs/ticker/".concat(e,"/range/1/minute/").concat(a,"/").concat(o,"?adjusted=true&sort=asc&limit=").concat(this.config.api.aggregatesLimit,"&include_extended_hours=true&apikey=").concat(this.polygonApiKey);try{const t=await fetch(r);if(!t.ok)throw new Error("HTTP ".concat(t.status,": ").concat(t.statusText));const n=await t.json();if("OK"!==n.status||!n.results)return console.warn("No data for ".concat(e,":"),n),[];const a=this.getConfigStartHour(),o=this.getConfigEndHour(),l=n.results.filter(e=>{const t=new Date(e.t),n=this.getETHour(t);return n>=a&&n<o});return console.log("Retrieved ".concat(l.length," 1-minute bars for ").concat(e)),l}catch(l){return console.error("Error fetching data for ".concat(e,":"),l),[]}}detectToppingTail5m(e,t,n,a,o,r,l){const i=t[n];console.log("\ud83d\udd0d ".concat(e," at ").concat(this.formatETTime(o)," - Checking topping tail: bar.h=").concat(i.h.toFixed(2),", HOD=").concat(a.toFixed(2),", bar.c=").concat(i.c.toFixed(2)));const s=this.config.patterns.toppingTail5m.requireStrictHODBreak,c=this.config.patterns.toppingTail5m.maxHighDistanceFromHODPercent;if(s){if(i.h<a)return console.log("\u23ed\ufe0f  ".concat(e," - High ").concat(i.h.toFixed(2)," does not break HOD ").concat(a.toFixed(2)," (").concat(((i.h-a)/a*100).toFixed(2),"% below) [STRICT MODE]")),null;console.log("\u2705 ".concat(e," - High proximity check passed: ").concat(i.h.toFixed(2)," breaks/touches HOD ").concat(a.toFixed(2)," [STRICT MODE - distance filters disabled]"))}else{const t=(a-i.h)/a*100;if(Math.abs(t)>c)return console.log("\u23ed\ufe0f  ".concat(e," - High ").concat(i.h.toFixed(2)," is ").concat(Math.abs(t).toFixed(2),"% from HOD ").concat(a.toFixed(2)," (max: ").concat(c,"%) [LOOSE MODE]")),null;console.log("\u2705 ".concat(e," - High proximity check passed: ").concat(i.h.toFixed(2)," is ").concat(Math.abs(t).toFixed(2),"% from HOD ").concat(a.toFixed(2)," (max: ").concat(c,"%) [LOOSE MODE]"))}if(s)console.log("\u2705 ".concat(e," - Close proximity check SKIPPED [STRICT MODE - only HOD break matters]"));else{const t=(a-i.c)/a*100,n=this.config.patterns.toppingTail5m.maxCloseDistanceFromHODPercent;if(t>n)return console.log("\u23ed\ufe0f  ".concat(e," - Close ").concat(i.c.toFixed(2)," is ").concat(t.toFixed(2),"% below HOD ").concat(a.toFixed(2)," (max: ").concat(n,"%) - closes too far below [LOOSE MODE]")),null;console.log("\u2705 ".concat(e," - Close proximity check passed: ").concat(i.c.toFixed(2)," is ").concat(t.toFixed(2),"% below HOD ").concat(a.toFixed(2)," [LOOSE MODE]"))}const u=i.h-i.l;if(0===u)return null;const d=i.c<i.o,f=i.c>i.o,m=d?"red":f?"green":"doji";if(this.config.patterns.toppingTail5m.mustCloseRed&&!d)return console.log("\u23ed\ufe0f  ".concat(e," - Candle must close red but is ").concat(m," (O=").concat(i.o.toFixed(2),", C=").concat(i.c.toFixed(2),")")),null;const p=d?i.h-i.o:i.h-i.c,g=Math.abs(i.o-i.c),h=g>0?p/g:1/0,y=this.config.patterns.toppingTail5m.minShadowToBodyRatio;if(h<y)return console.log("\u23ed\ufe0f  ".concat(e," - Rejecting topping tail: upper shadow ").concat(p.toFixed(3)," / body ").concat(g.toFixed(3)," = ").concat(h.toFixed(2),"x (need ").concat(y,"x)")),null;console.log("\u2705 ".concat(e," - Upper shadow requirement met: shadow=").concat(p.toFixed(3),", body=").concat(g.toFixed(3),", ratio=").concat(h.toFixed(2),"x (min: ").concat(y,"x)"));const v=(i.h-i.c)/u*100,b=this.config.patterns.toppingTail5m.minClosePercent,k=v>=b;if(!k)return console.log("\u23ed\ufe0f  ".concat(e," - Close requirement not met: ").concat(v.toFixed(1),"% down from high (need ").concat(b,"%)")),null;console.log("\u2705 ".concat(e," - Close requirement met: ").concat(v.toFixed(1),"% down from high (need ").concat(b,"%)"));const S=i.v>=this.config.patterns.toppingTail5m.minBarVolume;if(!S)return console.log("\u23ed\ufe0f  ".concat(e," - Volume requirement not met: ").concat(i.v.toLocaleString()," < ").concat(this.config.patterns.toppingTail5m.minBarVolume.toLocaleString())),null;if(k&&S){const t=r||i.v,c=this.config.patterns.toppingTail5m.maxBarVolume;if(t>c)return console.error("\ud83d\udea8 BLOCKING ALERT: ".concat(e," volume ").concat((t/1e6).toFixed(1),"M exceeds max ").concat((c/1e6).toFixed(1),"M - likely data error")),null;const u=(a-i.h)/a*100,d=i.h>=a?"+".concat(Math.abs(u).toFixed(2),"%"):"-".concat(Math.abs(u).toFixed(2),"%"),f=(a-i.c)/a*100,p=this.config.patterns.toppingTail5m.maxCloseDistanceFromHODPercent,g=s?"STRICT MODE":"LOOSE MODE",k=s?"broke HOD (strict)":"near HOD (".concat((Math.abs(a-i.h)/a*100).toFixed(1),"%)");console.log("\u2705 5m TOPPING TAIL DETECTED: ".concat(e," at ").concat(this.formatETTime(o)," [").concat(g,"]")),console.log("   \ud83d\udcca OHLC: O=".concat(i.o.toFixed(2)," H=").concat(i.h.toFixed(2)," L=").concat(i.l.toFixed(2)," C=").concat(i.c.toFixed(2))),console.log("   \u2713 HOD Break: ".concat(k," (HOD=").concat(a.toFixed(2),")")),s?console.log("   \u2713 Close Distance from HOD: ".concat(f.toFixed(1),"% [STRICT MODE - FILTER DISABLED]")):console.log("   \u2713 Close Distance from HOD: ".concat(f.toFixed(1),"% (max ").concat(p,"%) [LOOSE MODE FILTER]")),console.log("   \u2713 Close Position: ".concat(v.toFixed(1),"% down from high (min ").concat(b,"%)")),console.log("   \u2713 Shadow/Body Ratio: ".concat(h.toFixed(2),"x (min ").concat(y,"x)")),console.log("   \u2713 Candle Color: ".concat(m)),console.log("   \u2713 Volume: ".concat(i.v.toLocaleString()));const S=s?"[STRICT]":"[LOOSE]",w=s?"".concat(S," 5m TT @ HOD $").concat(a.toFixed(2)," BROKE | ").concat(v.toFixed(0),"% down from high | ").concat(h.toFixed(1),"x shadow/body | ").concat(m," | Close $").concat(i.c.toFixed(2)):"".concat(S," 5m TT @ HOD $").concat(a.toFixed(2)," | H:").concat(d," C:").concat(f.toFixed(1),"% below | ").concat(v.toFixed(0),"% down from high | ").concat(h.toFixed(1),"x shadow/body | ").concat(m," | Close $").concat(i.c.toFixed(2));return{id:"".concat(e,"-").concat(o.getTime(),"-").concat(n,"-ToppingTail5m"),timestamp:o.getTime(),symbol:e,type:"ToppingTail5m",detail:w,price:i.c,volume:t,gapPercent:l,hod:a,historical:!0}}return null}async getEMA200Daily(e){try{const t=new Date,n=new Date(t.getTime()-2592e6).toISOString().split("T")[0],a=t.toISOString().split("T")[0],o="https://api.polygon.io/v1/indicators/ema/".concat(e,"?timestamp.gte=").concat(n,"&timestamp.lte=").concat(a,"&timespan=day&adjusted=true&window=200&series_type=close&order=desc&limit=1&apikey=").concat(this.polygonApiKey),r=await this.cachedFetch(o);return r.results&&r.results.values&&r.results.values.length>0?r.results.values[0].value:null}catch(t){return console.warn("Failed to fetch EMA200 for ".concat(e,":"),t),null}}async scanHistoricalGappers(e,t){if(!this.polygonApiKey)throw console.error("No Polygon API key provided - cannot scan historical gappers"),new Error("Polygon API key required for historical gap scanning");try{console.log("Scanning broader universe for historical gap stocks...");const t=e.toISOString().split("T")[0],n="https://api.polygon.io/v2/aggs/grouped/locale/us/market/stocks/".concat(t,"?adjusted=true&apikey=").concat(this.polygonApiKey);console.log("Fetching grouped daily data for broader symbol universe...");const a=await fetch(n);if(!a.ok)return console.warn("Grouped daily data not available, using snapshot approach"),this.scanWithSnapshotApproach(t);const o=await a.json();if(!o.results||0===o.results.length)return console.warn("No grouped data available, using snapshot approach"),this.scanWithSnapshotApproach(t);console.log("Found ".concat(o.results.length," symbols with activity today"));const r=[];console.log("Total symbols in grouped data: ".concat(o.results.length));const l=o.results.filter(e=>e.v>0).sort((e,t)=>t.v-e.v);console.log("Top 10 by volume:",l.slice(0,10).map(e=>"".concat(e.T,":").concat((e.v/1e3).toFixed(0),"k")));const i=o.results.filter(e=>e.v>=this.config.historical.minVolumeForDiscovery).sort((e,t)=>t.v-e.v).slice(0,300).map(e=>({symbol:e.T||"UNKNOWN",volume:e.v}));console.log("Analyzing ".concat(i.length," symbols (\u226550k volume) for gaps...")),console.log("Sample symbols to check:",i.slice(0,20).map(e=>"".concat(e.symbol,":").concat((e.volume/1e3).toFixed(0),"k")));for(let e=0;e<i.length;e+=10){const n=i.slice(e,e+10).map(async e=>{let{symbol:n}=e;try{return await this.analyzeStockForGap(n,t)}catch(a){return console.warn("Error analyzing ".concat(n,":"),a),null}}),a=(await Promise.allSettled(n)).filter(e=>"fulfilled"===e.status&&null!==e.value).map(e=>e.value);r.push(...a),e+10<i.length&&await new Promise(e=>setTimeout(e,100))}return console.log("Found ".concat(r.length," qualifying historical gap stocks")),r}catch(n){throw console.error("Error scanning historical gappers:",n),n}}async scanWithSnapshotApproach(e){try{console.log("Using market snapshot approach for symbol discovery...");const n="https://api.polygon.io/v2/snapshot/locale/us/markets/stocks/tickers?apikey=".concat(this.polygonApiKey),a=await fetch(n);if(!a.ok)throw new Error("Snapshot API error: ".concat(a.status));const o=await a.json();if(!o.results)throw new Error("No snapshot data available");console.log("Analyzing ".concat(Math.min(o.results.length,100)," symbols from market snapshot..."));const r=[],l=o.results.filter(e=>{var t;return e.todaysChangePerc&&Math.abs(e.todaysChangePerc)>=15&&(null===(t=e.day)||void 0===t?void 0:t.v)>=this.config.gapCriteria.minCumulativeVolume}).slice(0,50).map(e=>e.ticker);for(const i of l){try{const t=await this.analyzeStockForGap(i,e);t&&r.push(t)}catch(t){console.warn("Error analyzing snapshot symbol ".concat(i,":"),t)}await new Promise(e=>setTimeout(e,50))}return r}catch(t){throw console.error("Error with snapshot approach:",t),t}}async analyzeStockForGap(e,t){try{const[n,a,o]=t.split("-").map(Number),r=new Date(n,a-1,o),l=new Date(r.getTime()-864e5),i="".concat(l.getFullYear(),"-").concat(String(l.getMonth()+1).padStart(2,"0"),"-").concat(String(l.getDate()).padStart(2,"0")),s="https://api.polygon.io/v2/aggs/ticker/".concat(e,"/range/1/day/").concat(i,"/").concat(i,"?adjusted=true&apikey=").concat(this.polygonApiKey),c=await fetch(s);if(!c.ok)return null;const u=await c.json();if(!u.results||0===u.results.length)return null;const d=u.results[0].c,f="https://api.polygon.io/v2/aggs/ticker/".concat(e,"/range/15/minute/").concat(t,"/").concat(t,"?adjusted=true&sort=asc&apikey=").concat(this.polygonApiKey),m=await fetch(f);if(!m.ok)return null;const p=await m.json();if(!p.results||0===p.results.length)return null;const g=this.getConfigStartHour(),h=this.getConfigEndHour(),y=p.results.filter(e=>{const t=new Date(e.t),n=this.getETHour(t);return n>=g&&n<h});if(console.log("\ud83d\udcca Filtered ".concat(y.length," bars for configured hours (").concat(this.config.marketHours.startTime,"-").concat(this.config.marketHours.endTime,") from ").concat(p.results.length," total bars")),0===y.length)return null;const v=y[y.length-1].c,b=await this.getExtendedHOD(e,y),k=y.reduce((e,t)=>e+t.v,0),S=(v-d)/d*100,w=await this.getDailyEMA200(e,t);if(console.log("\ud83d\udcca ".concat(e,": ").concat(S.toFixed(1),"% gap, ").concat((k/1e3).toFixed(0),"k volume, $").concat(v.toFixed(2),", ").concat(y.length," bars (min vol required: ").concat(this.config.gapCriteria.minCumulativeVolume/1e3,"k)")),S>=this.config.gapCriteria.minGapPercentage&&k>=this.config.gapCriteria.minCumulativeVolume&&v>=this.config.gapCriteria.minPrice&&v<=this.config.gapCriteria.maxPrice)return console.log("\u2705 ".concat(e,": QUALIFIED - ").concat(S.toFixed(1),"% gap, ").concat((k/1e3).toFixed(0),"k volume \u2265 ").concat(this.config.gapCriteria.minCumulativeVolume/1e3,"k required, $").concat(v.toFixed(2))),{symbol:e,gapPercent:S,currentPrice:v,previousClose:d,volume:y[y.length-1].v,cumulativeVolume:k,hod:b,lastUpdated:Date.now(),ema200:w};{const t=S<this.config.gapCriteria.minGapPercentage?"gap<".concat(this.config.gapCriteria.minGapPercentage,"%"):"",n=k<this.config.gapCriteria.minCumulativeVolume?"vol<".concat(this.config.gapCriteria.minCumulativeVolume/1e3,"k"):"",a=v<this.config.gapCriteria.minPrice?"price<$".concat(this.config.gapCriteria.minPrice):"",o=[t,n,a,v>this.config.gapCriteria.maxPrice?"price>$".concat(this.config.gapCriteria.maxPrice):""].filter(e=>e).join(", ");return console.log("\u274c ".concat(e,": REJECTED - ").concat(S.toFixed(1),"% gap, ").concat((k/1e3).toFixed(0),"k volume < ").concat(this.config.gapCriteria.minCumulativeVolume/1e3,"k required (").concat(o,")")),null}}catch(n){return console.error("Error analyzing ".concat(e,":"),n),null}}async getDailyEMA200(e,t){try{var n;const a=new Date(new Date(t).getTime()-864e5).toISOString().split("T")[0],o="https://api.polygon.io/v1/indicators/ema/".concat(e,"?timestamp=").concat(a,"&timespan=day&adjusted=true&window=200&series_type=close&order=desc&limit=1&apikey=").concat(this.polygonApiKey),r=await fetch(o);if(!r.ok)return void console.warn("EMA API error for ".concat(e,": ").concat(r.status));const l=await r.json();if("OK"===l.status&&null!==(n=l.results)&&void 0!==n&&n.values&&l.results.values.length>0){const t=l.results.values[0].value;return console.log("\ud83d\udcc8 ".concat(e,": 200 EMA = $").concat(t.toFixed(2))),t}return void console.warn("No EMA data available for ".concat(e))}catch(a){return void console.error("Error fetching EMA200 for ".concat(e,":"),a)}}generateAlertDetail(e){const t=["".concat((50+30*Math.random()).toFixed(0),"% upper wick, red close"),"Broke HOD ".concat(e.hod.toFixed(2),", closed under at ").concat(e.currentPrice.toFixed(2)),"New low near HOD, ".concat(e.gapPercent.toFixed(1),"% gap"),"Volume: ".concat((e.volume/1e3).toFixed(0),"k, Gap: ").concat(e.gapPercent.toFixed(1),"%")];return t[Math.floor(Math.random()*t.length)]}}const E=function(){const[e,t]=(0,a.useState)([]),[n,o]=(0,a.useState)([]),[r,l]=(0,a.useState)(!1),[i]=(0,a.useState)(()=>new C(void 0,g())),[s,u]=(0,a.useState)({totalAlerts:0,symbolsTracked:0,lastUpdate:(new Date).toLocaleTimeString()}),[p,h]=(0,a.useState)("hodbreak"),[y,v]=(0,a.useState)(!1),[b,S]=(0,a.useState)(!0),[w,T]=(0,a.useState)("alert");(0,a.useEffect)(()=>{(async()=>{b?await d.enableAudio():d.disableAudio()})()},[b]),(0,a.useEffect)(()=>{let e=null;let n;(async()=>{try{console.log("Initializing Gap Scanner..."),l(!0),e=i.onAlert(e=>{console.log("\ud83d\udd14 New alert: ".concat(e.symbol," ").concat(e.type," at ").concat(new Date(e.timestamp).toLocaleTimeString())),t(t=>{if(t.some(t=>t.id===e.id))return console.log("   \u23ed\ufe0f  Skipping duplicate: ".concat(e.id)),t;const n=[...t,e];return n.length>100?n.slice(-100):n}),u(e=>c(c({},e),{},{totalAlerts:e.totalAlerts+1,lastUpdate:(new Date).toLocaleTimeString()}))}),console.log("Backfilling historical data...");try{const e=await i.backfillMissedData();e.length>0&&(console.log("\ud83d\udcca Loading ".concat(e.length," historical alerts through callback system...")),e.forEach(e=>{i.fireAlert(e)})),i.setLastBackfillTime(Date.now())}catch(n){console.warn("Backfill failed:",n)}const a=(await i.scanForGappers()).map(e=>e.symbol);o(a),u(e=>c(c({},e),{},{symbolsTracked:a.length,lastUpdate:(new Date).toLocaleTimeString()})),console.log("Tracking ".concat(a.length," gap stocks: ").concat(a.join(", "))),console.log("Starting continuous gap scanner...");try{await i.startScanning(),console.log("\u2705 Scanner started successfully")}catch(n){console.warn("Scanner start failed:",n)}}catch(n){console.error("Failed to initialize scanner:",n),console.error("Error details:",n),l(!1)}})();const a=setInterval(()=>{clearTimeout(n),n=setTimeout(async()=>{try{const e=(await i.scanForGappers()).map(e=>e.symbol);o(t=>t.length!==e.length||t.some((t,n)=>t!==e[n])?e:t),u(t=>c(c({},t),{},{symbolsTracked:e.length,lastUpdate:(new Date).toLocaleTimeString()}))}catch(e){console.error("Failed to update symbols:",e)}},1e3)},12e4);return()=>{console.log("\ud83e\uddf9 Cleaning up scanner..."),clearInterval(a),clearTimeout(n),e&&e(),i.stopScanning()}},[i]);const E=(0,a.useCallback)(e=>{h(e)},[]);return(0,a.useEffect)(()=>{const e=e=>{if(e.ctrlKey||e.metaKey)switch(e.key){case"1":e.preventDefault(),E("hodbreak");break;case"2":e.preventDefault(),E("historical");break;case"3":e.preventDefault(),E("backtest");break;case"v":e.preventDefault(),v(e=>!e)}};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[E]),(0,f.jsxs)("div",{className:"App",children:[(0,f.jsxs)("div",{className:"app-controls",children:[(0,f.jsxs)("div",{className:"layout-toggle",role:"tablist","aria-label":"Layout view options",children:[(0,f.jsx)("button",{className:"toggle-btn ".concat("hodbreak"===p?"active":""),onClick:()=>E("hodbreak"),role:"tab","aria-selected":"hodbreak"===p,"aria-controls":"main-content",title:"Switch to Live Scanner feed (Ctrl+1)",children:(0,f.jsx)("span",{children:"LIVE SCANNER"})}),(0,f.jsx)("button",{className:"toggle-btn ".concat("historical"===p?"active":""),onClick:()=>E("historical"),role:"tab","aria-selected":"historical"===p,"aria-controls":"main-content",title:"Switch to historical testing (Ctrl+2)",children:(0,f.jsx)("span",{children:"HISTORICAL TEST"})}),(0,f.jsx)("button",{className:"toggle-btn ".concat("backtest"===p?"active":""),onClick:()=>E("backtest"),role:"tab","aria-selected":"backtest"===p,"aria-controls":"main-content",title:"Switch to backtesting (Ctrl+3)",children:(0,f.jsx)("span",{children:"BACKTEST"})})]}),(0,f.jsxs)("div",{className:"alerts-control-panel",children:[(0,f.jsxs)("div",{className:"alerts-toggles",children:[(0,f.jsx)("div",{className:"alert-toggle-group",children:(0,f.jsxs)("label",{className:"alert-toggle-label",title:"Toggle voice alerts (Ctrl+V)",children:[(0,f.jsx)("input",{type:"checkbox",checked:y,onChange:e=>v(e.target.checked)}),(0,f.jsx)("span",{className:"alert-toggle-text",children:"VOICE"}),(0,f.jsx)("span",{className:"alert-status ".concat(y?"on":"off"),children:y?"ON":"OFF"})]})}),(0,f.jsx)("div",{className:"alert-toggle-group",children:(0,f.jsxs)("label",{className:"alert-toggle-label",title:"Toggle sound alerts",children:[(0,f.jsx)("input",{type:"checkbox",checked:b,onChange:e=>S(e.target.checked)}),(0,f.jsx)("span",{className:"alert-toggle-text",children:"SOUND"}),(0,f.jsx)("span",{className:"alert-status ".concat(b?"on":"off"),children:b?"ON":"OFF"})]})})]}),b&&(0,f.jsxs)("div",{className:"sound-controls",children:[(0,f.jsxs)("select",{value:w,onChange:e=>T(e.target.value),className:"sound-select",title:"Select alert sound",children:[(0,f.jsx)("option",{value:"beep",children:"Classic Beep"}),(0,f.jsx)("option",{value:"chime",children:"Gentle Chime"}),(0,f.jsx)("option",{value:"alert",children:"Alert Tone"}),(0,f.jsx)("option",{value:"urgent",children:"Urgent Alert"}),(0,f.jsx)("option",{value:"trading-bell",children:"Trading Bell"}),(0,f.jsx)("option",{value:"success",children:"Success Tone"}),(0,f.jsx)("option",{value:"warning",children:"Warning Sound"})]}),(0,f.jsx)("button",{className:"sound-preview-btn",onClick:()=>{d.previewSound(w)},title:"Preview selected sound",children:"\ud83c\udfb5"})]})]})]}),(0,f.jsx)("main",{id:"main-content",role:"main","aria-label":"".concat(p," view"),children:"hodbreak"===p?(0,f.jsx)("div",{className:"hodbreak-layout",children:(0,f.jsx)(m,{alerts:e,voiceAlertsEnabled:y,soundAlertsEnabled:b,selectedSound:w,isConnected:r,stats:s,symbols:n})}):"historical"===p?(0,f.jsx)("div",{className:"historical-layout",children:(0,f.jsx)(k,{gapScanner:i})}):(0,f.jsx)("div",{className:"backtest-layout",children:(0,f.jsx)(x,{gapScanner:i})})})]})},N=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then(t=>{let{getCLS:n,getFID:a,getFCP:o,getLCP:r,getTTFB:l}=t;n(e),a(e),o(e),r(e),l(e)})};o.createRoot(document.getElementById("root")).render((0,f.jsx)(a.StrictMode,{children:(0,f.jsx)(E,{})})),N()})();
//# sourceMappingURL=main.e8194e60.js.map